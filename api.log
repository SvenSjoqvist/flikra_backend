2025-08-29 23:15:15,625 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:15:19,079 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:15:22,062 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:15:25,509 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:15:42,644 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:15:45,620 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:15:52,105 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:16:14,302 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:16:28,108 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:17:34,463 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:17:38,291 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:17:41,801 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:17:41,801 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:17:41,852 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:17:41,852 - app.utils.model_manager - ERROR - ❌ Failed to load CLIP model: name 'clip' is not defined
2025-08-29 23:17:41,852 - app.utils.model_manager - ERROR - ❌ Failed to load ML models: name 'clip' is not defined
2025-08-29 23:17:41,889 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:17:45,309 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:17:45,309 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:17:45,324 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:17:45,325 - app.utils.model_manager - ERROR - ❌ Failed to load CLIP model: name 'clip' is not defined
2025-08-29 23:17:45,325 - app.utils.model_manager - ERROR - ❌ Failed to load ML models: name 'clip' is not defined
2025-08-29 23:17:45,358 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:17:48,797 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:17:48,797 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:17:48,825 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:17:48,825 - app.utils.model_manager - ERROR - ❌ Failed to load CLIP model: name 'clip' is not defined
2025-08-29 23:17:48,825 - app.utils.model_manager - ERROR - ❌ Failed to load ML models: name 'clip' is not defined
2025-08-29 23:17:48,858 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:18:06,896 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:18:06,896 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:18:06,912 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:18:06,913 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:18:06,913 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:18:51,081 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:18:51,081 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:18:51,156 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:18:51,156 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:18:51,156 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:19:43,669 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:19:44,971 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:19:46,326 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:19:46,327 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:19:46,631 - app.utils.model_manager - INFO - 📝 Loading Sentence Transformer...
2025-08-29 23:19:46,653 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-29 23:19:46,653 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-29 23:19:50,107 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for Sentence Transformer
2025-08-29 23:19:50,107 - app.utils.model_manager - INFO - 🔧 Loading CLIP preprocessor...
2025-08-29 23:19:50,108 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:19:50,108 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:19:50,259 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:19:51,573 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:19:52,539 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:19:52,539 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:19:52,550 - app.utils.model_manager - INFO - ✅ All ML models loaded successfully!
2025-08-29 23:19:52,840 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:20:16,649 - app.routers.recommendations - INFO - 🚀 [req_1756502416648] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:16,651 - app.routers.recommendations - INFO - 📋 [req_1756502416648] Parameters: limit=5, category=None, brand_id=None
2025-08-29 23:20:16,651 - app.routers.recommendations - INFO - ⚖️ [req_1756502416648] Weights: image=0.6, text=0.4
2025-08-29 23:20:16,719 - app.routers.recommendations - INFO - ✅ [req_1756502416648] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:20:16,720 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:20:16,720 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:20:16,730 - faiss.loader - INFO - Loading faiss.
2025-08-29 23:20:16,892 - faiss.loader - INFO - Successfully loaded faiss.
2025-08-29 23:20:16,906 - faiss - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-08-29 23:20:16,907 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:20:16,910 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:20:16,910 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:20:16,912 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:20:16,913 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:20:16,913 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:20:16,913 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:20:16,913 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:16,913 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:16,926 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:20:16,926 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:20:16,927 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:20:16,928 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:16,943 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:20:16,943 - app.services.vector_service - INFO -    1. Spotify Laptop 22 (swiped: 2025-08-29 21:01)
2025-08-29 23:20:16,943 - app.services.vector_service - INFO -    2. Spotify Headphones 12 (swiped: 2025-08-29 21:01)
2025-08-29 23:20:16,943 - app.services.vector_service - INFO -    3. Spotify Headphones 20 (swiped: 2025-08-29 21:00)
2025-08-29 23:20:16,943 - app.services.vector_service - INFO -    4. Spotify Speaker 13 (swiped: 2025-08-29 21:00)
2025-08-29 23:20:16,943 - app.services.vector_service - INFO -    5. Spotify Tablet 24 (swiped: 2025-08-29 21:00)
2025-08-29 23:20:16,943 - app.services.vector_service - INFO -    6. Spotify Laptop 19 (swiped: 2025-08-29 21:00)
2025-08-29 23:20:16,943 - app.services.vector_service - INFO -    7. Spotify Laptop 8 (swiped: 2025-08-29 21:00)
2025-08-29 23:20:16,943 - app.services.vector_service - INFO -    8. Spotify Tablet 2 (swiped: 2025-08-29 21:00)
2025-08-29 23:20:16,943 - app.services.vector_service - INFO -    9. TikTok Podcast 13 (swiped: 2025-08-29 20:56)
2025-08-29 23:20:16,943 - app.services.vector_service - INFO -    10. Apple Music Album 1 (swiped: 2025-08-29 20:56)
2025-08-29 23:20:16,943 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:20:16,943 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:20:16,943 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:20:16,943 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:20:16,943 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:20:16,944 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:20:16,944 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:20:16,944 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:20:16,944 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:16,946 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:20:17,022 - app.services.vector_service - INFO - 🚀 FAISS search found 15 products
2025-08-29 23:20:17,022 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:17,022 - app.routers.recommendations - INFO - ✅ [req_1756502416648] SUCCESS: Found 5 recommendations
2025-08-29 23:20:17,022 - app.routers.recommendations - INFO - ⏱️ [req_1756502416648] Processing time: 0.374s
2025-08-29 23:20:17,022 - app.routers.recommendations - INFO - 🏆 [req_1756502416648] Top 1: Spotify Camera 3 (score: 0.8249)
2025-08-29 23:20:17,022 - app.routers.recommendations - INFO - 🏆 [req_1756502416648] Top 2: Spotify Gaming Console 7 (score: 0.8196)
2025-08-29 23:20:17,022 - app.routers.recommendations - INFO - 🏆 [req_1756502416648] Top 3: Spotify Smartwatch 5 (score: 0.8195)
2025-08-29 23:20:17,022 - app.routers.recommendations - INFO - 🎯 [req_1756502416648] API RESPONSE: Returning 5 recommendations
2025-08-29 23:20:30,286 - app.routers.recommendations - INFO - 🚀 [req_1756502430286] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:30,286 - app.routers.recommendations - INFO - 📋 [req_1756502430286] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:20:30,287 - app.routers.recommendations - INFO - ⚖️ [req_1756502430286] Weights: image=0.6, text=0.4
2025-08-29 23:20:30,288 - app.routers.recommendations - INFO - ✅ [req_1756502430286] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:20:30,289 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:20:30,289 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:20:30,290 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:20:30,297 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:20:30,298 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:20:30,300 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:20:30,302 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:20:30,302 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:20:30,302 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:20:30,302 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:30,302 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:30,307 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:20:30,307 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:20:30,307 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:20:30,310 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:30,320 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:20:30,320 - app.services.vector_service - INFO -    1. Spotify Smartphone 1 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:30,320 - app.services.vector_service - INFO -    2. Spotify Smartwatch 5 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:30,320 - app.services.vector_service - INFO -    3. Spotify Gaming Console 7 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:30,320 - app.services.vector_service - INFO -    4. Spotify Camera 3 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:30,320 - app.services.vector_service - INFO -    5. Spotify Laptop 22 (swiped: 2025-08-29 21:01)
2025-08-29 23:20:30,320 - app.services.vector_service - INFO -    6. Spotify Headphones 12 (swiped: 2025-08-29 21:01)
2025-08-29 23:20:30,320 - app.services.vector_service - INFO -    7. Spotify Headphones 20 (swiped: 2025-08-29 21:00)
2025-08-29 23:20:30,320 - app.services.vector_service - INFO -    8. Spotify Speaker 13 (swiped: 2025-08-29 21:00)
2025-08-29 23:20:30,320 - app.services.vector_service - INFO -    9. Spotify Tablet 24 (swiped: 2025-08-29 21:00)
2025-08-29 23:20:30,320 - app.services.vector_service - INFO -    10. Spotify Laptop 19 (swiped: 2025-08-29 21:00)
2025-08-29 23:20:30,320 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:20:30,320 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:20:30,320 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:20:30,320 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:20:30,321 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:20:30,321 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:20:30,321 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:20:30,321 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:20:30,321 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:30,324 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:20:30,334 - app.services.vector_service - INFO - 🚀 FAISS search found 4 products
2025-08-29 23:20:30,334 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:30,335 - app.routers.recommendations - INFO - ✅ [req_1756502430286] SUCCESS: Found 3 recommendations
2025-08-29 23:20:30,335 - app.routers.recommendations - INFO - ⏱️ [req_1756502430286] Processing time: 0.049s
2025-08-29 23:20:30,335 - app.routers.recommendations - INFO - 🏆 [req_1756502430286] Top 1: Spotify Gaming Console 10 (score: 0.8362)
2025-08-29 23:20:30,335 - app.routers.recommendations - INFO - 🏆 [req_1756502430286] Top 2: Spotify Smartphone 25 (score: 0.8075)
2025-08-29 23:20:30,335 - app.routers.recommendations - INFO - 🏆 [req_1756502430286] Top 3: Spotify Gaming Console 17 (score: 0.8014)
2025-08-29 23:20:30,335 - app.routers.recommendations - INFO - 🎯 [req_1756502430286] API RESPONSE: Returning 3 recommendations
2025-08-29 23:20:35,673 - app.routers.recommendations - INFO - 🚀 [req_1756502435673] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:35,673 - app.routers.recommendations - INFO - 📋 [req_1756502435673] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:20:35,673 - app.routers.recommendations - INFO - ⚖️ [req_1756502435673] Weights: image=0.6, text=0.4
2025-08-29 23:20:35,675 - app.routers.recommendations - INFO - ✅ [req_1756502435673] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:20:35,675 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:20:35,675 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:20:35,676 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:20:35,678 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:20:35,678 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:20:35,682 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:20:35,683 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:20:35,684 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:20:35,684 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:20:35,684 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:35,684 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:35,687 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:20:35,687 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:20:35,687 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:20:35,688 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:35,698 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:20:35,698 - app.services.vector_service - INFO -    1. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:35,698 - app.services.vector_service - INFO -    2. Spotify Gaming Console 10 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:35,698 - app.services.vector_service - INFO -    3. Spotify Smartphone 1 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:35,698 - app.services.vector_service - INFO -    4. Spotify Smartwatch 5 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:35,698 - app.services.vector_service - INFO -    5. Spotify Gaming Console 7 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:35,698 - app.services.vector_service - INFO -    6. Spotify Camera 3 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:35,698 - app.services.vector_service - INFO -    7. Spotify Laptop 22 (swiped: 2025-08-29 21:01)
2025-08-29 23:20:35,698 - app.services.vector_service - INFO -    8. Spotify Headphones 12 (swiped: 2025-08-29 21:01)
2025-08-29 23:20:35,698 - app.services.vector_service - INFO -    9. Spotify Headphones 20 (swiped: 2025-08-29 21:00)
2025-08-29 23:20:35,698 - app.services.vector_service - INFO -    10. Spotify Speaker 13 (swiped: 2025-08-29 21:00)
2025-08-29 23:20:35,698 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:20:35,698 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:20:35,698 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:20:35,698 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:20:35,699 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:20:35,699 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:20:35,699 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:20:35,699 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:20:35,700 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:35,700 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:20:35,722 - app.services.vector_service - INFO - 🚀 FAISS search found 3 products
2025-08-29 23:20:35,722 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:35,722 - app.routers.recommendations - INFO - ✅ [req_1756502435673] SUCCESS: Found 3 recommendations
2025-08-29 23:20:35,722 - app.routers.recommendations - INFO - ⏱️ [req_1756502435673] Processing time: 0.050s
2025-08-29 23:20:35,723 - app.routers.recommendations - INFO - 🏆 [req_1756502435673] Top 1: Spotify Gaming Console 17 (score: 0.8086)
2025-08-29 23:20:35,723 - app.routers.recommendations - INFO - 🏆 [req_1756502435673] Top 2: Spotify Speaker 6 (score: 0.8070)
2025-08-29 23:20:35,723 - app.routers.recommendations - INFO - 🏆 [req_1756502435673] Top 3: Spotify Camera 16 (score: 0.8051)
2025-08-29 23:20:35,723 - app.routers.recommendations - INFO - 🎯 [req_1756502435673] API RESPONSE: Returning 3 recommendations
2025-08-29 23:20:38,723 - app.routers.recommendations - INFO - 🚀 [req_1756502438723] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:38,723 - app.routers.recommendations - INFO - 📋 [req_1756502438723] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:20:38,724 - app.routers.recommendations - INFO - ⚖️ [req_1756502438723] Weights: image=0.6, text=0.4
2025-08-29 23:20:38,727 - app.routers.recommendations - INFO - ✅ [req_1756502438723] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:20:38,727 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:20:38,727 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:20:38,728 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:20:38,731 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:20:38,732 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:20:38,736 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:20:38,738 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:20:38,738 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:20:38,738 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:20:38,738 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:38,738 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:38,743 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:20:38,743 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:20:38,743 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:20:38,745 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:38,757 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:20:38,757 - app.services.vector_service - INFO -    1. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:38,757 - app.services.vector_service - INFO -    2. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:38,757 - app.services.vector_service - INFO -    3. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:38,757 - app.services.vector_service - INFO -    4. Spotify Gaming Console 10 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:38,757 - app.services.vector_service - INFO -    5. Spotify Smartphone 1 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:38,757 - app.services.vector_service - INFO -    6. Spotify Smartwatch 5 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:38,757 - app.services.vector_service - INFO -    7. Spotify Gaming Console 7 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:38,757 - app.services.vector_service - INFO -    8. Spotify Camera 3 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:38,757 - app.services.vector_service - INFO -    9. Spotify Laptop 22 (swiped: 2025-08-29 21:01)
2025-08-29 23:20:38,757 - app.services.vector_service - INFO -    10. Spotify Headphones 12 (swiped: 2025-08-29 21:01)
2025-08-29 23:20:38,757 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:20:38,757 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:20:38,757 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:20:38,757 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:20:38,758 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:20:38,758 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:20:38,759 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:20:38,759 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:20:38,759 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:38,759 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:20:38,764 - app.services.vector_service - INFO - 🚀 FAISS search found 2 products
2025-08-29 23:20:38,764 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:38,764 - app.routers.recommendations - INFO - ✅ [req_1756502438723] SUCCESS: Found 2 recommendations
2025-08-29 23:20:38,764 - app.routers.recommendations - INFO - ⏱️ [req_1756502438723] Processing time: 0.041s
2025-08-29 23:20:38,764 - app.routers.recommendations - INFO - 🏆 [req_1756502438723] Top 1: Spotify Camera 16 (score: 0.8085)
2025-08-29 23:20:38,764 - app.routers.recommendations - INFO - 🏆 [req_1756502438723] Top 2: Spotify Smartwatch 21 (score: 0.8028)
2025-08-29 23:20:38,764 - app.routers.recommendations - INFO - 🎯 [req_1756502438723] API RESPONSE: Returning 2 recommendations
2025-08-29 23:20:40,350 - app.routers.recommendations - INFO - 🚀 [req_1756502440350] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:40,351 - app.routers.recommendations - INFO - 📋 [req_1756502440350] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:20:40,351 - app.routers.recommendations - INFO - ⚖️ [req_1756502440350] Weights: image=0.6, text=0.4
2025-08-29 23:20:40,353 - app.routers.recommendations - INFO - ✅ [req_1756502440350] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:20:40,353 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:20:40,353 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:20:40,353 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:20:40,354 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:20:40,355 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:20:40,361 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:20:40,362 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:20:40,362 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:20:40,362 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:20:40,362 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:40,362 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:40,365 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:20:40,365 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:20:40,365 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:20:40,366 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:40,376 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:20:40,376 - app.services.vector_service - INFO -    1. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:40,376 - app.services.vector_service - INFO -    2. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:40,376 - app.services.vector_service - INFO -    3. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:40,376 - app.services.vector_service - INFO -    4. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:40,376 - app.services.vector_service - INFO -    5. Spotify Gaming Console 10 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:40,377 - app.services.vector_service - INFO -    6. Spotify Smartphone 1 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:40,377 - app.services.vector_service - INFO -    7. Spotify Smartwatch 5 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:40,377 - app.services.vector_service - INFO -    8. Spotify Gaming Console 7 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:40,377 - app.services.vector_service - INFO -    9. Spotify Camera 3 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:40,377 - app.services.vector_service - INFO -    10. Spotify Laptop 22 (swiped: 2025-08-29 21:01)
2025-08-29 23:20:40,377 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:20:40,377 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:20:40,377 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:20:40,377 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:20:40,377 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:20:40,377 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:20:40,378 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:20:40,378 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:20:40,378 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:40,378 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:20:40,379 - app.services.vector_service - INFO - 🚀 FAISS search found 1 products
2025-08-29 23:20:40,379 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:40,379 - app.routers.recommendations - INFO - ✅ [req_1756502440350] SUCCESS: Found 1 recommendations
2025-08-29 23:20:40,379 - app.routers.recommendations - INFO - ⏱️ [req_1756502440350] Processing time: 0.029s
2025-08-29 23:20:40,380 - app.routers.recommendations - INFO - 🏆 [req_1756502440350] Top 1: Spotify Speaker 15 (score: 0.8015)
2025-08-29 23:20:40,380 - app.routers.recommendations - INFO - 🎯 [req_1756502440350] API RESPONSE: Returning 1 recommendations
2025-08-29 23:20:41,158 - app.routers.recommendations - INFO - 🚀 [req_1756502441157] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:41,158 - app.routers.recommendations - INFO - 📋 [req_1756502441157] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:20:41,158 - app.routers.recommendations - INFO - ⚖️ [req_1756502441157] Weights: image=0.6, text=0.4
2025-08-29 23:20:41,161 - app.routers.recommendations - INFO - ✅ [req_1756502441157] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:20:41,161 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:20:41,161 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:20:41,162 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:20:41,163 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:20:41,164 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:20:41,165 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:20:41,167 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:20:41,167 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:20:41,167 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:20:41,167 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:41,168 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:41,173 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:20:41,173 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:20:41,173 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:20:41,176 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:41,188 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:20:41,188 - app.services.vector_service - INFO -    1. Spotify Smartwatch 21 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:41,188 - app.services.vector_service - INFO -    2. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:41,188 - app.services.vector_service - INFO -    3. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:41,188 - app.services.vector_service - INFO -    4. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:41,188 - app.services.vector_service - INFO -    5. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:41,188 - app.services.vector_service - INFO -    6. Spotify Gaming Console 10 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:41,188 - app.services.vector_service - INFO -    7. Spotify Smartphone 1 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:41,189 - app.services.vector_service - INFO -    8. Spotify Smartwatch 5 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:41,189 - app.services.vector_service - INFO -    9. Spotify Gaming Console 7 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:41,189 - app.services.vector_service - INFO -    10. Spotify Camera 3 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:41,189 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:20:41,189 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:20:41,189 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:20:41,189 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:20:41,190 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:20:41,190 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:20:41,191 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:20:41,191 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:20:41,191 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:41,191 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:20:41,191 - app.routers.recommendations - INFO - ✅ [req_1756502441157] SUCCESS: Found 0 recommendations
2025-08-29 23:20:41,191 - app.routers.recommendations - INFO - ⏱️ [req_1756502441157] Processing time: 0.034s
2025-08-29 23:20:41,191 - app.routers.recommendations - INFO - 🎯 [req_1756502441157] API RESPONSE: Returning 0 recommendations
2025-08-29 23:20:42,420 - app.routers.recommendations - INFO - 🚀 [req_1756502442420] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:42,421 - app.routers.recommendations - INFO - 📋 [req_1756502442420] Parameters: limit=5, category=None, brand_id=None
2025-08-29 23:20:42,421 - app.routers.recommendations - INFO - ⚖️ [req_1756502442420] Weights: image=0.6, text=0.4
2025-08-29 23:20:42,423 - app.routers.recommendations - INFO - ✅ [req_1756502442420] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:20:42,423 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:20:42,423 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:20:42,424 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:20:42,425 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:20:42,425 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:20:42,426 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:20:42,427 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:20:42,428 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:20:42,428 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:20:42,428 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:42,428 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:42,431 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:20:42,431 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:20:42,431 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:20:42,433 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:42,443 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:20:42,443 - app.services.vector_service - INFO -    1. Spotify Smartwatch 21 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:42,443 - app.services.vector_service - INFO -    2. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:42,443 - app.services.vector_service - INFO -    3. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:42,443 - app.services.vector_service - INFO -    4. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:42,443 - app.services.vector_service - INFO -    5. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:42,443 - app.services.vector_service - INFO -    6. Spotify Gaming Console 10 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:42,443 - app.services.vector_service - INFO -    7. Spotify Smartphone 1 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:42,443 - app.services.vector_service - INFO -    8. Spotify Smartwatch 5 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:42,443 - app.services.vector_service - INFO -    9. Spotify Gaming Console 7 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:42,443 - app.services.vector_service - INFO -    10. Spotify Camera 3 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:42,443 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:20:42,443 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:20:42,443 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:20:42,443 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:20:42,443 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:20:42,444 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:20:42,444 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:20:42,444 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:20:42,444 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:42,444 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:20:42,643 - app.services.vector_service - INFO - 🚀 FAISS search found 9 products
2025-08-29 23:20:42,643 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:42,644 - app.routers.recommendations - INFO - ✅ [req_1756502442420] SUCCESS: Found 5 recommendations
2025-08-29 23:20:42,644 - app.routers.recommendations - INFO - ⏱️ [req_1756502442420] Processing time: 0.224s
2025-08-29 23:20:42,644 - app.routers.recommendations - INFO - 🏆 [req_1756502442420] Top 1: Spotify Speaker 15 (score: 0.8013)
2025-08-29 23:20:42,644 - app.routers.recommendations - INFO - 🏆 [req_1756502442420] Top 2: Tesla Smartwatch 6 (score: 0.7965)
2025-08-29 23:20:42,644 - app.routers.recommendations - INFO - 🏆 [req_1756502442420] Top 3: Spotify Tablet 14 (score: 0.7856)
2025-08-29 23:20:42,644 - app.routers.recommendations - INFO - 🎯 [req_1756502442420] API RESPONSE: Returning 5 recommendations
2025-08-29 23:20:48,840 - app.routers.recommendations - INFO - 🚀 [req_1756502448840] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:48,841 - app.routers.recommendations - INFO - 📋 [req_1756502448840] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:20:48,841 - app.routers.recommendations - INFO - ⚖️ [req_1756502448840] Weights: image=0.6, text=0.4
2025-08-29 23:20:48,844 - app.routers.recommendations - INFO - ✅ [req_1756502448840] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:20:48,845 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:20:48,845 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:20:48,846 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:20:48,849 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:20:48,850 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:20:48,851 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:20:48,853 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:20:48,853 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:20:48,853 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:20:48,853 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:48,854 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:48,881 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:20:48,882 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:20:48,882 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:20:48,883 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:48,894 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:20:48,895 - app.services.vector_service - INFO -    1. Spotify Laptop 23 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:48,895 - app.services.vector_service - INFO -    2. Spotify Tablet 14 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:48,895 - app.services.vector_service - INFO -    3. Spotify Speaker 15 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:48,895 - app.services.vector_service - INFO -    4. Spotify Smartwatch 21 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:48,895 - app.services.vector_service - INFO -    5. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:48,895 - app.services.vector_service - INFO -    6. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:48,895 - app.services.vector_service - INFO -    7. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:48,895 - app.services.vector_service - INFO -    8. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:48,895 - app.services.vector_service - INFO -    9. Spotify Gaming Console 10 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:48,895 - app.services.vector_service - INFO -    10. Spotify Smartphone 1 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:48,895 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:20:48,895 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:20:48,895 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:20:48,895 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:20:48,896 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:20:48,896 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:20:48,896 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:20:48,896 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:20:48,896 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:48,897 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:20:48,897 - app.routers.recommendations - INFO - ✅ [req_1756502448840] SUCCESS: Found 0 recommendations
2025-08-29 23:20:48,897 - app.routers.recommendations - INFO - ⏱️ [req_1756502448840] Processing time: 0.057s
2025-08-29 23:20:48,897 - app.routers.recommendations - INFO - 🎯 [req_1756502448840] API RESPONSE: Returning 0 recommendations
2025-08-29 23:20:51,661 - app.routers.recommendations - INFO - 🚀 [req_1756502451661] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:51,662 - app.routers.recommendations - INFO - 📋 [req_1756502451661] Parameters: limit=5, category=None, brand_id=None
2025-08-29 23:20:51,662 - app.routers.recommendations - INFO - ⚖️ [req_1756502451661] Weights: image=0.6, text=0.4
2025-08-29 23:20:51,664 - app.routers.recommendations - INFO - ✅ [req_1756502451661] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:20:51,664 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:20:51,664 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:20:51,665 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:20:51,666 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:20:51,667 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:20:51,670 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:20:51,672 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:20:51,672 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:20:51,672 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:20:51,672 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:51,672 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:51,677 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:20:51,677 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:20:51,678 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:20:51,681 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:51,695 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:20:51,695 - app.services.vector_service - INFO -    1. Spotify Laptop 23 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:51,695 - app.services.vector_service - INFO -    2. Spotify Tablet 14 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:51,695 - app.services.vector_service - INFO -    3. Spotify Speaker 15 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:51,695 - app.services.vector_service - INFO -    4. Spotify Smartwatch 21 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:51,695 - app.services.vector_service - INFO -    5. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:51,695 - app.services.vector_service - INFO -    6. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:51,695 - app.services.vector_service - INFO -    7. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:51,695 - app.services.vector_service - INFO -    8. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:51,695 - app.services.vector_service - INFO -    9. Spotify Gaming Console 10 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:51,695 - app.services.vector_service - INFO -    10. Spotify Smartphone 1 (swiped: 2025-08-29 21:20)
2025-08-29 23:20:51,696 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:20:51,696 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:20:51,696 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:20:51,696 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:20:51,696 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:20:51,697 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:20:51,697 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:20:51,697 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:20:51,698 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:51,698 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:20:51,706 - app.services.vector_service - INFO - 🚀 FAISS search found 5 products
2025-08-29 23:20:51,707 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:20:51,707 - app.routers.recommendations - INFO - ✅ [req_1756502451661] SUCCESS: Found 5 recommendations
2025-08-29 23:20:51,707 - app.routers.recommendations - INFO - ⏱️ [req_1756502451661] Processing time: 0.046s
2025-08-29 23:20:51,707 - app.routers.recommendations - INFO - 🏆 [req_1756502451661] Top 1: Amazon Speaker 11 (score: 0.8037)
2025-08-29 23:20:51,707 - app.routers.recommendations - INFO - 🏆 [req_1756502451661] Top 2: YouTube Snack 16 (score: 0.7831)
2025-08-29 23:20:51,707 - app.routers.recommendations - INFO - 🏆 [req_1756502451661] Top 3: Airbnb Smartwatch 13 (score: 0.7829)
2025-08-29 23:20:51,707 - app.routers.recommendations - INFO - 🎯 [req_1756502451661] API RESPONSE: Returning 5 recommendations
2025-08-29 23:21:00,086 - app.routers.recommendations - INFO - 🚀 [req_1756502460085] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:21:00,086 - app.routers.recommendations - INFO - 📋 [req_1756502460085] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:21:00,086 - app.routers.recommendations - INFO - ⚖️ [req_1756502460085] Weights: image=0.6, text=0.4
2025-08-29 23:21:00,088 - app.routers.recommendations - INFO - ✅ [req_1756502460085] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:21:00,089 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:21:00,089 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:21:00,089 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:21:00,091 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:21:00,092 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:21:00,093 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:21:00,094 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:21:00,095 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:21:00,095 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:21:00,095 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:21:00,095 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:21:00,100 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:21:00,101 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:21:00,101 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:21:00,102 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:21:00,115 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:21:00,115 - app.services.vector_service - INFO -    1. Airbnb Smartwatch 13 (swiped: 2025-08-29 21:20)
2025-08-29 23:21:00,115 - app.services.vector_service - INFO -    2. YouTube Snack 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:21:00,115 - app.services.vector_service - INFO -    3. Spotify Laptop 23 (swiped: 2025-08-29 21:20)
2025-08-29 23:21:00,115 - app.services.vector_service - INFO -    4. Spotify Tablet 14 (swiped: 2025-08-29 21:20)
2025-08-29 23:21:00,115 - app.services.vector_service - INFO -    5. Spotify Speaker 15 (swiped: 2025-08-29 21:20)
2025-08-29 23:21:00,115 - app.services.vector_service - INFO -    6. Spotify Smartwatch 21 (swiped: 2025-08-29 21:20)
2025-08-29 23:21:00,115 - app.services.vector_service - INFO -    7. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:21:00,115 - app.services.vector_service - INFO -    8. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:21:00,115 - app.services.vector_service - INFO -    9. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:21:00,115 - app.services.vector_service - INFO -    10. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:21:00,115 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:21:00,115 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:21:00,115 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:21:00,115 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:21:00,116 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:21:00,117 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:21:00,117 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:21:00,117 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:21:00,117 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:21:00,118 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:21:00,118 - app.routers.recommendations - INFO - ✅ [req_1756502460085] SUCCESS: Found 0 recommendations
2025-08-29 23:21:00,118 - app.routers.recommendations - INFO - ⏱️ [req_1756502460085] Processing time: 0.033s
2025-08-29 23:21:00,118 - app.routers.recommendations - INFO - 🎯 [req_1756502460085] API RESPONSE: Returning 0 recommendations
2025-08-29 23:22:23,005 - app.routers.recommendations - INFO - 🚀 [req_1756502543004] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:23,008 - app.routers.recommendations - INFO - 📋 [req_1756502543004] Parameters: limit=5, category=None, brand_id=None
2025-08-29 23:22:23,008 - app.routers.recommendations - INFO - ⚖️ [req_1756502543004] Weights: image=0.6, text=0.4
2025-08-29 23:22:23,059 - app.routers.recommendations - INFO - ✅ [req_1756502543004] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:22:23,059 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:22:23,059 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:22:23,063 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:22:23,077 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:22:23,077 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:22:23,080 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:22:23,082 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:22:23,082 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:22:23,082 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:22:23,082 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:23,082 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:23,090 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:22:23,090 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:22:23,090 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:22:23,092 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:23,108 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:22:23,108 - app.services.vector_service - INFO -    1. Airbnb Smartwatch 13 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:23,108 - app.services.vector_service - INFO -    2. YouTube Snack 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:23,108 - app.services.vector_service - INFO -    3. Spotify Laptop 23 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:23,108 - app.services.vector_service - INFO -    4. Spotify Tablet 14 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:23,108 - app.services.vector_service - INFO -    5. Spotify Speaker 15 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:23,108 - app.services.vector_service - INFO -    6. Spotify Smartwatch 21 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:23,108 - app.services.vector_service - INFO -    7. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:23,108 - app.services.vector_service - INFO -    8. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:23,108 - app.services.vector_service - INFO -    9. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:23,108 - app.services.vector_service - INFO -    10. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:23,109 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:22:23,110 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:22:23,110 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:22:23,110 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:22:23,110 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:22:23,110 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:22:23,111 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:22:23,111 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:22:23,111 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:23,114 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:22:23,123 - app.services.vector_service - INFO - 🚀 FAISS search found 1 products
2025-08-29 23:22:23,123 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:23,123 - app.routers.recommendations - INFO - ✅ [req_1756502543004] SUCCESS: Found 1 recommendations
2025-08-29 23:22:23,123 - app.routers.recommendations - INFO - ⏱️ [req_1756502543004] Processing time: 0.119s
2025-08-29 23:22:23,123 - app.routers.recommendations - INFO - 🏆 [req_1756502543004] Top 1: Samsung Meal 21 (score: 0.7978)
2025-08-29 23:22:23,123 - app.routers.recommendations - INFO - 🎯 [req_1756502543004] API RESPONSE: Returning 1 recommendations
2025-08-29 23:22:41,215 - app.routers.recommendations - INFO - 🚀 [req_1756502561215] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:41,217 - app.routers.recommendations - INFO - 📋 [req_1756502561215] Parameters: limit=5, category=None, brand_id=None
2025-08-29 23:22:41,217 - app.routers.recommendations - INFO - ⚖️ [req_1756502561215] Weights: image=0.6, text=0.4
2025-08-29 23:22:41,251 - app.routers.recommendations - INFO - ✅ [req_1756502561215] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:22:41,251 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:22:41,251 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:22:41,253 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:22:41,259 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:22:41,259 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:22:41,261 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:22:41,263 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:22:41,263 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:22:41,263 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:22:41,263 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:41,263 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:41,269 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:22:41,269 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:22:41,269 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:22:41,271 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:41,284 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:22:41,284 - app.services.vector_service - INFO -    1. Airbnb Smartwatch 13 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:41,284 - app.services.vector_service - INFO -    2. YouTube Snack 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:41,284 - app.services.vector_service - INFO -    3. Spotify Laptop 23 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:41,284 - app.services.vector_service - INFO -    4. Spotify Tablet 14 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:41,284 - app.services.vector_service - INFO -    5. Spotify Speaker 15 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:41,284 - app.services.vector_service - INFO -    6. Spotify Smartwatch 21 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:41,284 - app.services.vector_service - INFO -    7. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:41,284 - app.services.vector_service - INFO -    8. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:41,284 - app.services.vector_service - INFO -    9. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:41,284 - app.services.vector_service - INFO -    10. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:41,284 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:22:41,284 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:22:41,284 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:22:41,284 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:22:41,285 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:22:41,285 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:22:41,285 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:22:41,285 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:22:41,285 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:41,288 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:22:41,292 - app.routers.recommendations - INFO - ✅ [req_1756502561215] SUCCESS: Found 0 recommendations
2025-08-29 23:22:41,292 - app.routers.recommendations - INFO - ⏱️ [req_1756502561215] Processing time: 0.077s
2025-08-29 23:22:41,292 - app.routers.recommendations - INFO - 🎯 [req_1756502561215] API RESPONSE: Returning 0 recommendations
2025-08-29 23:22:46,453 - app.routers.recommendations - INFO - 🚀 [req_1756502566453] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:46,454 - app.routers.recommendations - INFO - 📋 [req_1756502566453] Parameters: limit=5, category=None, brand_id=None
2025-08-29 23:22:46,454 - app.routers.recommendations - INFO - ⚖️ [req_1756502566453] Weights: image=0.6, text=0.4
2025-08-29 23:22:46,461 - app.routers.recommendations - INFO - ✅ [req_1756502566453] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:22:46,462 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:22:46,462 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:22:46,463 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:22:46,465 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:22:46,466 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:22:46,468 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:22:46,470 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:22:46,470 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:22:46,470 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:22:46,470 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:46,470 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:46,475 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:22:46,475 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:22:46,475 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:22:46,477 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:46,502 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:22:46,502 - app.services.vector_service - INFO -    1. Airbnb Smartwatch 13 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:46,502 - app.services.vector_service - INFO -    2. YouTube Snack 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:46,502 - app.services.vector_service - INFO -    3. Spotify Laptop 23 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:46,502 - app.services.vector_service - INFO -    4. Spotify Tablet 14 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:46,502 - app.services.vector_service - INFO -    5. Spotify Speaker 15 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:46,502 - app.services.vector_service - INFO -    6. Spotify Smartwatch 21 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:46,502 - app.services.vector_service - INFO -    7. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:46,502 - app.services.vector_service - INFO -    8. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:46,502 - app.services.vector_service - INFO -    9. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:46,502 - app.services.vector_service - INFO -    10. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:46,502 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:22:46,502 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:22:46,502 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:22:46,502 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:22:46,503 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:22:46,503 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:22:46,504 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:22:46,504 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:22:46,504 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:46,504 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:22:46,505 - app.routers.recommendations - INFO - ✅ [req_1756502566453] SUCCESS: Found 0 recommendations
2025-08-29 23:22:46,505 - app.routers.recommendations - INFO - ⏱️ [req_1756502566453] Processing time: 0.051s
2025-08-29 23:22:46,505 - app.routers.recommendations - INFO - 🎯 [req_1756502566453] API RESPONSE: Returning 0 recommendations
2025-08-29 23:22:47,851 - app.routers.recommendations - INFO - 🚀 [req_1756502567851] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:47,851 - app.routers.recommendations - INFO - 📋 [req_1756502567851] Parameters: limit=5, category=None, brand_id=None
2025-08-29 23:22:47,851 - app.routers.recommendations - INFO - ⚖️ [req_1756502567851] Weights: image=0.6, text=0.4
2025-08-29 23:22:47,852 - app.routers.recommendations - INFO - ✅ [req_1756502567851] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:22:47,852 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:22:47,852 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:22:47,853 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:22:47,854 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:22:47,855 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:22:47,857 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:22:47,859 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:22:47,859 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:22:47,859 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:22:47,859 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:47,859 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:47,863 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:22:47,863 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:22:47,863 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:22:47,864 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:47,889 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:22:47,889 - app.services.vector_service - INFO -    1. Airbnb Smartwatch 13 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:47,889 - app.services.vector_service - INFO -    2. YouTube Snack 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:47,889 - app.services.vector_service - INFO -    3. Spotify Laptop 23 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:47,889 - app.services.vector_service - INFO -    4. Spotify Tablet 14 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:47,889 - app.services.vector_service - INFO -    5. Spotify Speaker 15 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:47,889 - app.services.vector_service - INFO -    6. Spotify Smartwatch 21 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:47,889 - app.services.vector_service - INFO -    7. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:47,889 - app.services.vector_service - INFO -    8. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:47,889 - app.services.vector_service - INFO -    9. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:47,889 - app.services.vector_service - INFO -    10. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:47,889 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:22:47,889 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:22:47,889 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:22:47,889 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:22:47,890 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:22:47,890 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:22:47,891 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:22:47,891 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:22:47,891 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:47,891 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:22:47,891 - app.routers.recommendations - INFO - ✅ [req_1756502567851] SUCCESS: Found 0 recommendations
2025-08-29 23:22:47,891 - app.routers.recommendations - INFO - ⏱️ [req_1756502567851] Processing time: 0.041s
2025-08-29 23:22:47,891 - app.routers.recommendations - INFO - 🎯 [req_1756502567851] API RESPONSE: Returning 0 recommendations
2025-08-29 23:22:56,831 - app.routers.recommendations - INFO - 🚀 [req_1756502576831] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:56,832 - app.routers.recommendations - INFO - 📋 [req_1756502576831] Parameters: limit=5, category=None, brand_id=None
2025-08-29 23:22:56,832 - app.routers.recommendations - INFO - ⚖️ [req_1756502576831] Weights: image=0.6, text=0.4
2025-08-29 23:22:56,853 - app.routers.recommendations - INFO - ✅ [req_1756502576831] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:22:56,853 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:22:56,853 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:22:56,854 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:22:56,855 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:22:56,856 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:22:56,858 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:22:56,859 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:22:56,859 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:22:56,859 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:22:56,859 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:56,859 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:56,863 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:22:56,863 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:22:56,863 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:22:56,864 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:56,878 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:22:56,878 - app.services.vector_service - INFO -    1. Airbnb Smartwatch 13 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:56,878 - app.services.vector_service - INFO -    2. YouTube Snack 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:56,878 - app.services.vector_service - INFO -    3. Spotify Laptop 23 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:56,878 - app.services.vector_service - INFO -    4. Spotify Tablet 14 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:56,878 - app.services.vector_service - INFO -    5. Spotify Speaker 15 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:56,878 - app.services.vector_service - INFO -    6. Spotify Smartwatch 21 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:56,878 - app.services.vector_service - INFO -    7. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:56,878 - app.services.vector_service - INFO -    8. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:56,878 - app.services.vector_service - INFO -    9. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:56,878 - app.services.vector_service - INFO -    10. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:22:56,878 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:22:56,878 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:22:56,878 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:22:56,878 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:22:56,879 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:22:56,879 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:22:56,879 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:22:56,879 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:22:56,879 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:22:56,880 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:22:56,880 - app.routers.recommendations - INFO - ✅ [req_1756502576831] SUCCESS: Found 0 recommendations
2025-08-29 23:22:56,880 - app.routers.recommendations - INFO - ⏱️ [req_1756502576831] Processing time: 0.049s
2025-08-29 23:22:56,880 - app.routers.recommendations - INFO - 🎯 [req_1756502576831] API RESPONSE: Returning 0 recommendations
2025-08-29 23:24:25,156 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:24:25,156 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:24:25,226 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:24:25,226 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:24:25,226 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:24:25,431 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:24:26,640 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:24:27,807 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:24:27,809 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:24:28,134 - app.utils.model_manager - INFO - 📝 Loading Sentence Transformer...
2025-08-29 23:24:28,139 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-29 23:24:28,139 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-29 23:24:30,914 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for Sentence Transformer
2025-08-29 23:24:30,915 - app.utils.model_manager - INFO - 🔧 Loading CLIP preprocessor...
2025-08-29 23:24:30,916 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:24:30,916 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:24:31,052 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:24:32,339 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:24:33,376 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:24:33,377 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:24:33,394 - app.utils.model_manager - INFO - ✅ All ML models loaded successfully!
2025-08-29 23:24:33,674 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:24:38,082 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:24:38,082 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:24:38,153 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:24:38,153 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:24:38,153 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:24:38,320 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:24:39,556 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:24:40,260 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:24:40,260 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:24:40,611 - app.utils.model_manager - INFO - 📝 Loading Sentence Transformer...
2025-08-29 23:24:40,614 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-29 23:24:40,614 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-29 23:24:42,956 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for Sentence Transformer
2025-08-29 23:24:42,957 - app.utils.model_manager - INFO - 🔧 Loading CLIP preprocessor...
2025-08-29 23:24:42,957 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:24:42,957 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:24:43,084 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:24:44,311 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:24:45,208 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:24:45,208 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:24:45,219 - app.utils.model_manager - INFO - ✅ All ML models loaded successfully!
2025-08-29 23:24:45,452 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:24:49,668 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:24:49,669 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:24:49,688 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:24:49,688 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:24:49,688 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:24:49,843 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:24:51,144 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:24:52,285 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:24:52,286 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:24:52,714 - app.utils.model_manager - INFO - 📝 Loading Sentence Transformer...
2025-08-29 23:24:52,718 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-29 23:24:52,718 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-29 23:24:55,519 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for Sentence Transformer
2025-08-29 23:24:55,520 - app.utils.model_manager - INFO - 🔧 Loading CLIP preprocessor...
2025-08-29 23:24:55,520 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:24:55,520 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:24:55,657 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:24:56,977 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:25:01,867 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:25:01,867 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:25:01,879 - app.utils.model_manager - INFO - ✅ All ML models loaded successfully!
2025-08-29 23:25:02,125 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:25:02,140 - app.routers.recommendations - INFO - 🚀 [req_1756502702140] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:25:02,140 - app.routers.recommendations - INFO - 📋 [req_1756502702140] Parameters: limit=5, category=None, brand_id=None
2025-08-29 23:25:02,141 - app.routers.recommendations - INFO - ⚖️ [req_1756502702140] Weights: image=0.6, text=0.4
2025-08-29 23:25:02,189 - app.routers.recommendations - INFO - ✅ [req_1756502702140] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:25:02,189 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:25:02,189 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:25:02,192 - faiss.loader - INFO - Loading faiss.
2025-08-29 23:25:02,245 - faiss.loader - INFO - Successfully loaded faiss.
2025-08-29 23:25:02,249 - faiss - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-08-29 23:25:02,249 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:25:02,252 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:25:02,253 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:25:02,255 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:25:02,256 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:25:02,256 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:25:02,256 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:25:02,256 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:25:02,256 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:25:02,356 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:25:02,357 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:25:02,357 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:25:02,359 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:25:02,374 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:25:02,374 - app.services.vector_service - INFO -    1. Airbnb Smartwatch 13 (swiped: 2025-08-29 21:20)
2025-08-29 23:25:02,374 - app.services.vector_service - INFO -    2. YouTube Snack 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:25:02,374 - app.services.vector_service - INFO -    3. Spotify Laptop 23 (swiped: 2025-08-29 21:20)
2025-08-29 23:25:02,374 - app.services.vector_service - INFO -    4. Spotify Tablet 14 (swiped: 2025-08-29 21:20)
2025-08-29 23:25:02,374 - app.services.vector_service - INFO -    5. Spotify Speaker 15 (swiped: 2025-08-29 21:20)
2025-08-29 23:25:02,374 - app.services.vector_service - INFO -    6. Spotify Smartwatch 21 (swiped: 2025-08-29 21:20)
2025-08-29 23:25:02,374 - app.services.vector_service - INFO -    7. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:25:02,374 - app.services.vector_service - INFO -    8. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:25:02,374 - app.services.vector_service - INFO -    9. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:25:02,374 - app.services.vector_service - INFO -    10. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:25:02,374 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:25:02,374 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:25:02,374 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:25:02,374 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:25:02,375 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:25:02,375 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:25:02,375 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:25:02,375 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:25:02,375 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:25:02,375 - app.services.recommendations - INFO - 🚫 Excluding 44 swiped products (liked: 29, disliked: 15)
2025-08-29 23:25:02,377 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:25:02,409 - app.services.vector_service - INFO - 🔍 FAISS search returned 30 indices, scores range: 0.4829 to 0.5306
2025-08-29 23:25:02,409 - app.services.vector_service - INFO - 📊 Found 0 candidate products after excluding 30 swiped products
2025-08-29 23:25:02,409 - app.services.vector_service - WARNING - ⚠️ No products available after filtering. User may have swiped all products or FAISS search failed
2025-08-29 23:25:02,409 - app.routers.recommendations - INFO - ✅ [req_1756502702140] SUCCESS: Found 0 recommendations
2025-08-29 23:25:02,410 - app.routers.recommendations - INFO - ⏱️ [req_1756502702140] Processing time: 0.269s
2025-08-29 23:25:02,410 - app.routers.recommendations - INFO - 🎯 [req_1756502702140] API RESPONSE: Returning 0 recommendations
2025-08-29 23:25:03,258 - app.routers.recommendations - INFO - 🚀 [req_1756502703257] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:25:03,258 - app.routers.recommendations - INFO - 📋 [req_1756502703257] Parameters: limit=5, category=None, brand_id=None
2025-08-29 23:25:03,258 - app.routers.recommendations - INFO - ⚖️ [req_1756502703257] Weights: image=0.6, text=0.4
2025-08-29 23:25:03,259 - app.routers.recommendations - INFO - ✅ [req_1756502703257] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:25:03,259 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:25:03,259 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:25:03,259 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:25:03,260 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:25:03,260 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:25:03,260 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:25:03,261 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:25:03,261 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:25:03,261 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:25:03,261 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:25:03,261 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:25:03,263 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:25:03,263 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:25:03,263 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:25:03,264 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:25:03,273 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:25:03,273 - app.services.vector_service - INFO -    1. Airbnb Smartwatch 13 (swiped: 2025-08-29 21:20)
2025-08-29 23:25:03,273 - app.services.vector_service - INFO -    2. YouTube Snack 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:25:03,273 - app.services.vector_service - INFO -    3. Spotify Laptop 23 (swiped: 2025-08-29 21:20)
2025-08-29 23:25:03,273 - app.services.vector_service - INFO -    4. Spotify Tablet 14 (swiped: 2025-08-29 21:20)
2025-08-29 23:25:03,273 - app.services.vector_service - INFO -    5. Spotify Speaker 15 (swiped: 2025-08-29 21:20)
2025-08-29 23:25:03,273 - app.services.vector_service - INFO -    6. Spotify Smartwatch 21 (swiped: 2025-08-29 21:20)
2025-08-29 23:25:03,273 - app.services.vector_service - INFO -    7. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:25:03,273 - app.services.vector_service - INFO -    8. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:25:03,273 - app.services.vector_service - INFO -    9. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:25:03,273 - app.services.vector_service - INFO -    10. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:25:03,273 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:25:03,273 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:25:03,273 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:25:03,273 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:25:03,273 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:25:03,274 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:25:03,274 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:25:03,274 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:25:03,274 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:25:03,274 - app.services.recommendations - INFO - 🚫 Excluding 44 swiped products (liked: 29, disliked: 15)
2025-08-29 23:25:03,274 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:25:03,274 - app.services.vector_service - INFO - 🔍 FAISS search returned 30 indices, scores range: 0.4829 to 0.5306
2025-08-29 23:25:03,274 - app.services.vector_service - INFO - 📊 Found 0 candidate products after excluding 30 swiped products
2025-08-29 23:25:03,274 - app.services.vector_service - WARNING - ⚠️ No products available after filtering. User may have swiped all products or FAISS search failed
2025-08-29 23:25:03,274 - app.routers.recommendations - INFO - ✅ [req_1756502703257] SUCCESS: Found 0 recommendations
2025-08-29 23:25:03,274 - app.routers.recommendations - INFO - ⏱️ [req_1756502703257] Processing time: 0.017s
2025-08-29 23:25:03,274 - app.routers.recommendations - INFO - 🎯 [req_1756502703257] API RESPONSE: Returning 0 recommendations
2025-08-29 23:25:24,047 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:25:24,048 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:25:24,077 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:25:24,078 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:25:24,078 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:25:24,230 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:25:25,424 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:25:26,550 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:25:26,550 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:25:26,877 - app.utils.model_manager - INFO - 📝 Loading Sentence Transformer...
2025-08-29 23:25:26,879 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-29 23:25:26,879 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-29 23:25:29,208 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for Sentence Transformer
2025-08-29 23:25:29,208 - app.utils.model_manager - INFO - 🔧 Loading CLIP preprocessor...
2025-08-29 23:25:29,208 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:25:29,209 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:25:29,349 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:25:30,760 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:25:31,708 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:25:31,708 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:25:31,719 - app.utils.model_manager - INFO - ✅ All ML models loaded successfully!
2025-08-29 23:25:31,791 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:25:35,611 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:25:35,611 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:25:35,628 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:25:35,628 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:25:35,628 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:25:35,779 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:25:36,930 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:25:36,979 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:25:36,979 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:25:37,257 - app.utils.model_manager - INFO - 📝 Loading Sentence Transformer...
2025-08-29 23:25:37,259 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-29 23:25:37,259 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-29 23:25:39,556 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for Sentence Transformer
2025-08-29 23:25:39,556 - app.utils.model_manager - INFO - 🔧 Loading CLIP preprocessor...
2025-08-29 23:25:39,556 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:25:39,556 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:25:39,683 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:25:40,983 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:25:42,023 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:25:42,023 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:25:42,039 - app.utils.model_manager - INFO - ✅ All ML models loaded successfully!
2025-08-29 23:25:42,085 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:25:45,650 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:25:45,650 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:25:45,665 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:25:45,665 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:25:45,665 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:25:45,826 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:25:47,048 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:25:47,096 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:25:47,096 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:25:47,408 - app.utils.model_manager - INFO - 📝 Loading Sentence Transformer...
2025-08-29 23:25:47,409 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-29 23:25:47,410 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-29 23:25:49,693 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for Sentence Transformer
2025-08-29 23:25:49,693 - app.utils.model_manager - INFO - 🔧 Loading CLIP preprocessor...
2025-08-29 23:25:49,693 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:25:49,693 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:25:49,828 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:25:51,199 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:25:52,109 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:25:52,109 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:25:52,126 - app.utils.model_manager - INFO - ✅ All ML models loaded successfully!
2025-08-29 23:25:52,172 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:25:55,814 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:25:55,814 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:25:55,830 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:25:55,830 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:25:55,830 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:25:55,991 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:25:57,361 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:25:57,413 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:25:57,413 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:25:57,669 - app.utils.model_manager - INFO - 📝 Loading Sentence Transformer...
2025-08-29 23:25:57,670 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-29 23:25:57,670 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-29 23:26:00,360 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for Sentence Transformer
2025-08-29 23:26:00,360 - app.utils.model_manager - INFO - 🔧 Loading CLIP preprocessor...
2025-08-29 23:26:00,361 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:26:00,361 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:26:00,555 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:26:01,946 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:26:02,944 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:26:02,945 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:26:02,962 - app.utils.model_manager - INFO - ✅ All ML models loaded successfully!
2025-08-29 23:26:03,018 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:26:07,294 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:26:07,294 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:26:07,318 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:26:07,318 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:26:07,319 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:26:07,477 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:26:08,662 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:26:08,712 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:26:08,712 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:26:08,960 - app.utils.model_manager - INFO - 📝 Loading Sentence Transformer...
2025-08-29 23:26:08,962 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-29 23:26:08,962 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-29 23:26:11,260 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for Sentence Transformer
2025-08-29 23:26:11,260 - app.utils.model_manager - INFO - 🔧 Loading CLIP preprocessor...
2025-08-29 23:26:11,260 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:26:11,260 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:26:11,389 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:26:12,650 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:26:13,616 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:26:13,616 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:26:13,630 - app.utils.model_manager - INFO - ✅ All ML models loaded successfully!
2025-08-29 23:26:13,680 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:26:17,042 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:26:17,042 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:26:17,058 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:26:17,058 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:26:17,058 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:26:17,219 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:26:18,472 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:26:18,522 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:26:18,522 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:26:18,747 - app.utils.model_manager - INFO - 📝 Loading Sentence Transformer...
2025-08-29 23:26:18,749 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-29 23:26:18,749 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-29 23:26:21,396 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for Sentence Transformer
2025-08-29 23:26:21,396 - app.utils.model_manager - INFO - 🔧 Loading CLIP preprocessor...
2025-08-29 23:26:21,396 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:26:21,397 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:26:21,530 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:26:22,761 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:26:23,740 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:26:23,740 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:26:23,753 - app.utils.model_manager - INFO - ✅ All ML models loaded successfully!
2025-08-29 23:26:23,793 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:26:27,313 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:26:27,313 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:26:27,329 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:26:27,329 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:26:27,329 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:26:27,502 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:26:28,683 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:26:28,732 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:26:28,733 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:26:28,954 - app.utils.model_manager - INFO - 📝 Loading Sentence Transformer...
2025-08-29 23:26:28,955 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-29 23:26:28,955 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-29 23:26:31,630 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for Sentence Transformer
2025-08-29 23:26:31,631 - app.utils.model_manager - INFO - 🔧 Loading CLIP preprocessor...
2025-08-29 23:26:31,631 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:26:31,631 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:26:31,775 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:26:33,000 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:26:33,943 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:26:33,943 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:26:33,955 - app.utils.model_manager - INFO - ✅ All ML models loaded successfully!
2025-08-29 23:26:34,010 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:26:40,840 - app.routers.recommendations - INFO - 🚀 [req_1756502800840] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:26:40,841 - app.routers.recommendations - INFO - 📋 [req_1756502800840] Parameters: limit=5, category=None, brand_id=None
2025-08-29 23:26:40,841 - app.routers.recommendations - INFO - ⚖️ [req_1756502800840] Weights: image=0.6, text=0.4
2025-08-29 23:26:40,882 - app.routers.recommendations - INFO - ✅ [req_1756502800840] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:26:40,882 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:26:40,882 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:26:40,885 - faiss.loader - INFO - Loading faiss.
2025-08-29 23:26:40,933 - faiss.loader - INFO - Successfully loaded faiss.
2025-08-29 23:26:40,936 - faiss - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-08-29 23:26:40,937 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:26:40,941 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:26:40,941 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:26:40,945 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:26:40,946 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:26:40,946 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:26:40,946 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:26:40,946 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:26:40,947 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:26:40,954 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:26:40,954 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:26:40,954 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:26:40,956 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:26:40,969 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:26:40,970 - app.services.vector_service - INFO -    1. Airbnb Smartwatch 13 (swiped: 2025-08-29 21:20)
2025-08-29 23:26:40,970 - app.services.vector_service - INFO -    2. YouTube Snack 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:26:40,970 - app.services.vector_service - INFO -    3. Spotify Laptop 23 (swiped: 2025-08-29 21:20)
2025-08-29 23:26:40,970 - app.services.vector_service - INFO -    4. Spotify Tablet 14 (swiped: 2025-08-29 21:20)
2025-08-29 23:26:40,970 - app.services.vector_service - INFO -    5. Spotify Speaker 15 (swiped: 2025-08-29 21:20)
2025-08-29 23:26:40,970 - app.services.vector_service - INFO -    6. Spotify Smartwatch 21 (swiped: 2025-08-29 21:20)
2025-08-29 23:26:40,970 - app.services.vector_service - INFO -    7. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:26:40,970 - app.services.vector_service - INFO -    8. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:26:40,970 - app.services.vector_service - INFO -    9. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:26:40,970 - app.services.vector_service - INFO -    10. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:26:40,970 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:26:40,970 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:26:40,970 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:26:40,970 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:26:40,970 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:26:40,970 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:26:40,971 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:26:40,971 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:26:40,971 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:26:40,971 - app.services.recommendations - INFO - 🚫 Excluding 44 swiped products (liked: 29, disliked: 15)
2025-08-29 23:26:40,973 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:26:41,025 - app.services.vector_service - INFO - 🔍 FAISS search returned 30 indices, scores range: 0.4829 to 0.5306
2025-08-29 23:26:41,026 - app.services.vector_service - INFO - 📊 Found 0 candidate products after excluding 30 swiped products
2025-08-29 23:26:41,026 - app.services.vector_service - WARNING - ⚠️ No products available after filtering. User may have swiped all products or FAISS search failed
2025-08-29 23:26:41,026 - app.routers.recommendations - INFO - ✅ [req_1756502800840] SUCCESS: Found 0 recommendations
2025-08-29 23:26:41,026 - app.routers.recommendations - INFO - ⏱️ [req_1756502800840] Processing time: 0.186s
2025-08-29 23:26:41,026 - app.routers.recommendations - INFO - 🎯 [req_1756502800840] API RESPONSE: Returning 0 recommendations
2025-08-29 23:27:56,895 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:27:56,895 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:27:56,931 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:27:56,931 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:27:56,931 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:27:57,111 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:27:58,562 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:27:59,809 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:27:59,811 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:28:00,169 - app.utils.model_manager - INFO - 📝 Loading Sentence Transformer...
2025-08-29 23:28:00,172 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-29 23:28:00,172 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-29 23:28:03,898 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for Sentence Transformer
2025-08-29 23:28:03,904 - app.utils.model_manager - INFO - 🔧 Loading CLIP preprocessor...
2025-08-29 23:28:03,905 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:28:03,905 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:28:04,047 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:28:05,410 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:28:06,358 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:28:06,358 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:28:06,373 - app.utils.model_manager - INFO - ✅ All ML models loaded successfully!
2025-08-29 23:28:06,674 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:28:11,015 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:28:11,015 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:28:11,070 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:28:11,070 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:28:11,070 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:28:11,244 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:28:12,443 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:28:12,496 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:28:12,496 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:28:12,823 - app.utils.model_manager - INFO - 📝 Loading Sentence Transformer...
2025-08-29 23:28:12,825 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-29 23:28:12,825 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-29 23:28:15,325 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for Sentence Transformer
2025-08-29 23:28:15,326 - app.utils.model_manager - INFO - 🔧 Loading CLIP preprocessor...
2025-08-29 23:28:15,326 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:28:15,326 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:28:15,462 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:28:16,692 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:28:17,715 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:28:17,715 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:28:17,729 - app.utils.model_manager - INFO - ✅ All ML models loaded successfully!
2025-08-29 23:28:18,076 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:28:22,096 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:28:22,096 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:28:22,121 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:28:22,121 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:28:22,121 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:28:22,281 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:28:23,535 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:28:23,600 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:28:23,600 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:28:23,912 - app.utils.model_manager - INFO - 📝 Loading Sentence Transformer...
2025-08-29 23:28:23,914 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-29 23:28:23,914 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-29 23:28:26,321 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for Sentence Transformer
2025-08-29 23:28:26,322 - app.utils.model_manager - INFO - 🔧 Loading CLIP preprocessor...
2025-08-29 23:28:26,322 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:28:26,322 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:28:26,454 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:28:27,704 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:28:34,762 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:28:34,763 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:28:34,787 - app.utils.model_manager - INFO - ✅ All ML models loaded successfully!
2025-08-29 23:28:35,596 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:28:35,682 - app.routers.recommendations - INFO - 🚀 [req_1756502915682] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:28:35,682 - app.routers.recommendations - INFO - 📋 [req_1756502915682] Parameters: limit=5, category=None, brand_id=None
2025-08-29 23:28:35,682 - app.routers.recommendations - INFO - ⚖️ [req_1756502915682] Weights: image=0.6, text=0.4
2025-08-29 23:28:35,725 - app.routers.recommendations - INFO - ✅ [req_1756502915682] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:28:35,725 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:28:35,725 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:28:35,729 - faiss.loader - INFO - Loading faiss.
2025-08-29 23:28:35,804 - faiss.loader - INFO - Successfully loaded faiss.
2025-08-29 23:28:35,809 - faiss - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-08-29 23:28:35,810 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:28:35,819 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:28:35,820 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:28:35,824 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:28:35,826 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:28:35,826 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:28:35,826 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:28:35,826 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:28:35,826 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:28:35,864 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:28:35,864 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:28:35,864 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:28:35,866 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:28:35,911 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:28:35,911 - app.services.vector_service - INFO -    1. Airbnb Smartwatch 13 (swiped: 2025-08-29 21:20)
2025-08-29 23:28:35,911 - app.services.vector_service - INFO -    2. YouTube Snack 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:28:35,911 - app.services.vector_service - INFO -    3. Spotify Laptop 23 (swiped: 2025-08-29 21:20)
2025-08-29 23:28:35,911 - app.services.vector_service - INFO -    4. Spotify Tablet 14 (swiped: 2025-08-29 21:20)
2025-08-29 23:28:35,911 - app.services.vector_service - INFO -    5. Spotify Speaker 15 (swiped: 2025-08-29 21:20)
2025-08-29 23:28:35,911 - app.services.vector_service - INFO -    6. Spotify Smartwatch 21 (swiped: 2025-08-29 21:20)
2025-08-29 23:28:35,911 - app.services.vector_service - INFO -    7. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:28:35,911 - app.services.vector_service - INFO -    8. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:28:35,911 - app.services.vector_service - INFO -    9. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:28:35,911 - app.services.vector_service - INFO -    10. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:28:35,911 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:28:35,911 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:28:35,911 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:28:35,911 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:28:35,912 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:28:35,912 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:28:35,912 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:28:35,912 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:28:35,912 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:28:35,912 - app.services.recommendations - INFO - 🚫 Excluding 44 swiped products (liked: 29, disliked: 15)
2025-08-29 23:28:35,931 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:28:36,500 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4555 to 0.5306
2025-08-29 23:28:36,500 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 37 swiped products
2025-08-29 23:28:36,615 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-29 23:28:36,615 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Airbnb Headphones 21:0.7918', 'Airbnb Laptop 7:0.7903', 'Amazon Smartwatch 21:0.7895']
2025-08-29 23:28:36,615 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:28:36,615 - app.routers.recommendations - INFO - ✅ [req_1756502915682] SUCCESS: Found 5 recommendations
2025-08-29 23:28:36,615 - app.routers.recommendations - INFO - ⏱️ [req_1756502915682] Processing time: 0.934s
2025-08-29 23:28:36,615 - app.routers.recommendations - INFO - 🏆 [req_1756502915682] Top 1: Airbnb Headphones 21 (score: 0.7918)
2025-08-29 23:28:36,615 - app.routers.recommendations - INFO - 🏆 [req_1756502915682] Top 2: Airbnb Laptop 7 (score: 0.7903)
2025-08-29 23:28:36,615 - app.routers.recommendations - INFO - 🏆 [req_1756502915682] Top 3: Amazon Smartwatch 21 (score: 0.7895)
2025-08-29 23:28:36,616 - app.routers.recommendations - INFO - 🎯 [req_1756502915682] API RESPONSE: Returning 5 recommendations
2025-08-29 23:29:00,468 - app.routers.recommendations - INFO - 🚀 [req_1756502940468] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:00,469 - app.routers.recommendations - INFO - 📋 [req_1756502940468] Parameters: limit=5, category=None, brand_id=None
2025-08-29 23:29:00,470 - app.routers.recommendations - INFO - ⚖️ [req_1756502940468] Weights: image=0.6, text=0.4
2025-08-29 23:29:00,521 - app.routers.recommendations - INFO - ✅ [req_1756502940468] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:29:00,521 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:29:00,521 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:29:00,522 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:29:00,528 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:29:00,529 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:29:00,531 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:29:00,532 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:29:00,532 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:29:00,532 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:29:00,532 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:00,532 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:00,539 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:29:00,539 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:29:00,539 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:29:00,540 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:00,582 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:29:00,582 - app.services.vector_service - INFO -    1. Airbnb Smartwatch 13 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:00,582 - app.services.vector_service - INFO -    2. YouTube Snack 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:00,582 - app.services.vector_service - INFO -    3. Spotify Laptop 23 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:00,582 - app.services.vector_service - INFO -    4. Spotify Tablet 14 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:00,582 - app.services.vector_service - INFO -    5. Spotify Speaker 15 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:00,582 - app.services.vector_service - INFO -    6. Spotify Smartwatch 21 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:00,582 - app.services.vector_service - INFO -    7. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:00,582 - app.services.vector_service - INFO -    8. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:00,582 - app.services.vector_service - INFO -    9. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:00,582 - app.services.vector_service - INFO -    10. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:00,582 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:29:00,582 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:29:00,582 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:29:00,582 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:29:00,583 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:29:00,583 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:29:00,584 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:29:00,584 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:29:00,584 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:00,584 - app.services.recommendations - INFO - 🚫 Excluding 44 swiped products (liked: 29, disliked: 15)
2025-08-29 23:29:00,587 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:29:00,592 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4555 to 0.5306
2025-08-29 23:29:00,592 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 37 swiped products
2025-08-29 23:29:00,642 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-29 23:29:00,642 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Airbnb Headphones 21:0.7918', 'Airbnb Laptop 7:0.7903', 'Amazon Smartwatch 21:0.7895']
2025-08-29 23:29:00,643 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:00,643 - app.routers.recommendations - INFO - ✅ [req_1756502940468] SUCCESS: Found 5 recommendations
2025-08-29 23:29:00,643 - app.routers.recommendations - INFO - ⏱️ [req_1756502940468] Processing time: 0.175s
2025-08-29 23:29:00,643 - app.routers.recommendations - INFO - 🏆 [req_1756502940468] Top 1: Airbnb Headphones 21 (score: 0.7918)
2025-08-29 23:29:00,643 - app.routers.recommendations - INFO - 🏆 [req_1756502940468] Top 2: Airbnb Laptop 7 (score: 0.7903)
2025-08-29 23:29:00,643 - app.routers.recommendations - INFO - 🏆 [req_1756502940468] Top 3: Amazon Smartwatch 21 (score: 0.7895)
2025-08-29 23:29:00,643 - app.routers.recommendations - INFO - 🎯 [req_1756502940468] API RESPONSE: Returning 5 recommendations
2025-08-29 23:29:07,205 - app.routers.recommendations - INFO - 🚀 [req_1756502947205] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:07,206 - app.routers.recommendations - INFO - 📋 [req_1756502947205] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:29:07,207 - app.routers.recommendations - INFO - ⚖️ [req_1756502947205] Weights: image=0.6, text=0.4
2025-08-29 23:29:07,209 - app.routers.recommendations - INFO - ✅ [req_1756502947205] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:29:07,210 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:29:07,210 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:29:07,212 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:29:07,214 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:29:07,215 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:29:07,219 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:29:07,221 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:29:07,221 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:29:07,221 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:29:07,221 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:07,221 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:07,227 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:29:07,227 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:29:07,227 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:29:07,228 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:07,242 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:29:07,242 - app.services.vector_service - INFO -    1. Airbnb Smartwatch 13 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:07,242 - app.services.vector_service - INFO -    2. YouTube Snack 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:07,243 - app.services.vector_service - INFO -    3. Spotify Laptop 23 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:07,243 - app.services.vector_service - INFO -    4. Spotify Tablet 14 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:07,243 - app.services.vector_service - INFO -    5. Spotify Speaker 15 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:07,243 - app.services.vector_service - INFO -    6. Spotify Smartwatch 21 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:07,243 - app.services.vector_service - INFO -    7. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:07,243 - app.services.vector_service - INFO -    8. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:07,243 - app.services.vector_service - INFO -    9. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:07,243 - app.services.vector_service - INFO -    10. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:07,243 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:29:07,243 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:29:07,243 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:29:07,243 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:29:07,244 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:29:07,244 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:29:07,244 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:29:07,244 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:29:07,245 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:07,245 - app.services.recommendations - INFO - 🚫 Excluding 48 swiped products (liked: 29, disliked: 19)
2025-08-29 23:29:07,245 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:29:07,246 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4659 to 0.5306
2025-08-29 23:29:07,247 - app.services.vector_service - INFO - 📊 Found 22 candidate products after excluding 38 swiped products
2025-08-29 23:29:07,274 - app.services.vector_service - INFO - 🚀 FAISS search found 22 products
2025-08-29 23:29:07,274 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['YouTube Coffee 11:0.7817', 'Tesla Speaker 2:0.7807', 'Amazon Smartwatch 13:0.7784']
2025-08-29 23:29:07,275 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:07,275 - app.routers.recommendations - INFO - ✅ [req_1756502947205] SUCCESS: Found 3 recommendations
2025-08-29 23:29:07,275 - app.routers.recommendations - INFO - ⏱️ [req_1756502947205] Processing time: 0.069s
2025-08-29 23:29:07,275 - app.routers.recommendations - INFO - 🏆 [req_1756502947205] Top 1: YouTube Coffee 11 (score: 0.7817)
2025-08-29 23:29:07,275 - app.routers.recommendations - INFO - 🏆 [req_1756502947205] Top 2: Tesla Speaker 2 (score: 0.7807)
2025-08-29 23:29:07,275 - app.routers.recommendations - INFO - 🏆 [req_1756502947205] Top 3: Amazon Smartwatch 13 (score: 0.7784)
2025-08-29 23:29:07,275 - app.routers.recommendations - INFO - 🎯 [req_1756502947205] API RESPONSE: Returning 3 recommendations
2025-08-29 23:29:10,416 - app.routers.recommendations - INFO - 🚀 [req_1756502950416] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:10,417 - app.routers.recommendations - INFO - 📋 [req_1756502950416] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:29:10,417 - app.routers.recommendations - INFO - ⚖️ [req_1756502950416] Weights: image=0.6, text=0.4
2025-08-29 23:29:10,420 - app.routers.recommendations - INFO - ✅ [req_1756502950416] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:29:10,420 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:29:10,420 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:29:10,421 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:29:10,424 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:29:10,424 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:29:10,427 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:29:10,429 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:29:10,429 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:29:10,429 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:29:10,429 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:10,429 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:10,434 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:29:10,434 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:29:10,434 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:29:10,435 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:10,450 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:29:10,450 - app.services.vector_service - INFO -    1. Airbnb Smartwatch 13 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:10,450 - app.services.vector_service - INFO -    2. YouTube Snack 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:10,450 - app.services.vector_service - INFO -    3. Spotify Laptop 23 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:10,450 - app.services.vector_service - INFO -    4. Spotify Tablet 14 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:10,450 - app.services.vector_service - INFO -    5. Spotify Speaker 15 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:10,450 - app.services.vector_service - INFO -    6. Spotify Smartwatch 21 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:10,450 - app.services.vector_service - INFO -    7. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:10,450 - app.services.vector_service - INFO -    8. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:10,450 - app.services.vector_service - INFO -    9. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:10,451 - app.services.vector_service - INFO -    10. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:10,451 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:29:10,451 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:29:10,451 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:29:10,451 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:29:10,451 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:29:10,452 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:29:10,452 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:29:10,452 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:29:10,453 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:10,453 - app.services.recommendations - INFO - 🚫 Excluding 50 swiped products (liked: 29, disliked: 21)
2025-08-29 23:29:10,453 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:29:10,453 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4659 to 0.5306
2025-08-29 23:29:10,453 - app.services.vector_service - INFO - 📊 Found 20 candidate products after excluding 40 swiped products
2025-08-29 23:29:10,482 - app.services.vector_service - INFO - 🚀 FAISS search found 20 products
2025-08-29 23:29:10,482 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Amazon Smartwatch 13:0.7784', 'Tesla Headphones 10:0.7768', 'Amazon Headphones 4:0.7767']
2025-08-29 23:29:10,483 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:10,483 - app.routers.recommendations - INFO - ✅ [req_1756502950416] SUCCESS: Found 3 recommendations
2025-08-29 23:29:10,483 - app.routers.recommendations - INFO - ⏱️ [req_1756502950416] Processing time: 0.067s
2025-08-29 23:29:10,483 - app.routers.recommendations - INFO - 🏆 [req_1756502950416] Top 1: Amazon Smartwatch 13 (score: 0.7784)
2025-08-29 23:29:10,483 - app.routers.recommendations - INFO - 🏆 [req_1756502950416] Top 2: Tesla Headphones 10 (score: 0.7768)
2025-08-29 23:29:10,483 - app.routers.recommendations - INFO - 🏆 [req_1756502950416] Top 3: Amazon Headphones 4 (score: 0.7767)
2025-08-29 23:29:10,483 - app.routers.recommendations - INFO - 🎯 [req_1756502950416] API RESPONSE: Returning 3 recommendations
2025-08-29 23:29:13,420 - app.routers.recommendations - INFO - 🚀 [req_1756502953420] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:13,420 - app.routers.recommendations - INFO - 📋 [req_1756502953420] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:29:13,420 - app.routers.recommendations - INFO - ⚖️ [req_1756502953420] Weights: image=0.6, text=0.4
2025-08-29 23:29:13,423 - app.routers.recommendations - INFO - ✅ [req_1756502953420] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:29:13,424 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:29:13,424 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:29:13,424 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:29:13,426 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:29:13,427 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:29:13,428 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:29:13,429 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:29:13,429 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:29:13,429 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:29:13,430 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:13,430 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:13,436 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:29:13,436 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:29:13,436 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:29:13,437 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:13,452 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:29:13,452 - app.services.vector_service - INFO -    1. Airbnb Smartwatch 13 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:13,452 - app.services.vector_service - INFO -    2. YouTube Snack 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:13,452 - app.services.vector_service - INFO -    3. Spotify Laptop 23 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:13,452 - app.services.vector_service - INFO -    4. Spotify Tablet 14 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:13,453 - app.services.vector_service - INFO -    5. Spotify Speaker 15 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:13,453 - app.services.vector_service - INFO -    6. Spotify Smartwatch 21 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:13,453 - app.services.vector_service - INFO -    7. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:13,453 - app.services.vector_service - INFO -    8. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:13,453 - app.services.vector_service - INFO -    9. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:13,453 - app.services.vector_service - INFO -    10. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:13,453 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:29:13,453 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:29:13,453 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:29:13,453 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:29:13,454 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:29:13,454 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:29:13,455 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:29:13,455 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:29:13,455 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:13,455 - app.services.recommendations - INFO - 🚫 Excluding 52 swiped products (liked: 29, disliked: 23)
2025-08-29 23:29:13,455 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:29:13,456 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4659 to 0.5306
2025-08-29 23:29:13,456 - app.services.vector_service - INFO - 📊 Found 18 candidate products after excluding 42 swiped products
2025-08-29 23:29:13,483 - app.services.vector_service - INFO - 🚀 FAISS search found 18 products
2025-08-29 23:29:13,483 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Amazon Headphones 4:0.7767', 'Apple Event 19:0.7752', 'Amazon Camera 19:0.7738']
2025-08-29 23:29:13,484 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:13,484 - app.routers.recommendations - INFO - ✅ [req_1756502953420] SUCCESS: Found 3 recommendations
2025-08-29 23:29:13,484 - app.routers.recommendations - INFO - ⏱️ [req_1756502953420] Processing time: 0.064s
2025-08-29 23:29:13,484 - app.routers.recommendations - INFO - 🏆 [req_1756502953420] Top 1: Amazon Headphones 4 (score: 0.7767)
2025-08-29 23:29:13,484 - app.routers.recommendations - INFO - 🏆 [req_1756502953420] Top 2: Apple Event 19 (score: 0.7752)
2025-08-29 23:29:13,484 - app.routers.recommendations - INFO - 🏆 [req_1756502953420] Top 3: Amazon Camera 19 (score: 0.7738)
2025-08-29 23:29:13,484 - app.routers.recommendations - INFO - 🎯 [req_1756502953420] API RESPONSE: Returning 3 recommendations
2025-08-29 23:29:17,668 - app.routers.recommendations - INFO - 🚀 [req_1756502957668] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:17,668 - app.routers.recommendations - INFO - 📋 [req_1756502957668] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:29:17,668 - app.routers.recommendations - INFO - ⚖️ [req_1756502957668] Weights: image=0.6, text=0.4
2025-08-29 23:29:17,671 - app.routers.recommendations - INFO - ✅ [req_1756502957668] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:29:17,671 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:29:17,671 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:29:17,671 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:29:17,673 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:29:17,674 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:29:17,675 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:29:17,676 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:29:17,677 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:29:17,677 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:29:17,677 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:17,677 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:17,683 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:29:17,683 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:29:17,683 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:29:17,684 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:17,698 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:29:17,698 - app.services.vector_service - INFO -    1. Airbnb Smartwatch 13 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:17,698 - app.services.vector_service - INFO -    2. YouTube Snack 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:17,698 - app.services.vector_service - INFO -    3. Spotify Laptop 23 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:17,698 - app.services.vector_service - INFO -    4. Spotify Tablet 14 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:17,699 - app.services.vector_service - INFO -    5. Spotify Speaker 15 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:17,699 - app.services.vector_service - INFO -    6. Spotify Smartwatch 21 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:17,699 - app.services.vector_service - INFO -    7. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:17,699 - app.services.vector_service - INFO -    8. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:17,699 - app.services.vector_service - INFO -    9. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:17,699 - app.services.vector_service - INFO -    10. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:17,699 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:29:17,699 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:29:17,699 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:29:17,699 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:29:17,700 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:29:17,700 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:29:17,701 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:29:17,701 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:29:17,702 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:17,702 - app.services.recommendations - INFO - 🚫 Excluding 54 swiped products (liked: 29, disliked: 25)
2025-08-29 23:29:17,702 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:29:17,702 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4659 to 0.5306
2025-08-29 23:29:17,702 - app.services.vector_service - INFO - 📊 Found 16 candidate products after excluding 44 swiped products
2025-08-29 23:29:17,726 - app.services.vector_service - INFO - 🚀 FAISS search found 16 products
2025-08-29 23:29:17,726 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Amazon Camera 19:0.7738', 'Samsung Dessert 20:0.7735', 'YouTube Snack 20:0.7732']
2025-08-29 23:29:17,726 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:17,726 - app.routers.recommendations - INFO - ✅ [req_1756502957668] SUCCESS: Found 3 recommendations
2025-08-29 23:29:17,726 - app.routers.recommendations - INFO - ⏱️ [req_1756502957668] Processing time: 0.059s
2025-08-29 23:29:17,726 - app.routers.recommendations - INFO - 🏆 [req_1756502957668] Top 1: Amazon Camera 19 (score: 0.7738)
2025-08-29 23:29:17,726 - app.routers.recommendations - INFO - 🏆 [req_1756502957668] Top 2: Samsung Dessert 20 (score: 0.7735)
2025-08-29 23:29:17,726 - app.routers.recommendations - INFO - 🏆 [req_1756502957668] Top 3: YouTube Snack 20 (score: 0.7732)
2025-08-29 23:29:17,726 - app.routers.recommendations - INFO - 🎯 [req_1756502957668] API RESPONSE: Returning 3 recommendations
2025-08-29 23:29:21,031 - app.routers.recommendations - INFO - 🚀 [req_1756502961031] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:21,032 - app.routers.recommendations - INFO - 📋 [req_1756502961031] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:29:21,032 - app.routers.recommendations - INFO - ⚖️ [req_1756502961031] Weights: image=0.6, text=0.4
2025-08-29 23:29:21,035 - app.routers.recommendations - INFO - ✅ [req_1756502961031] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:29:21,035 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:29:21,035 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:29:21,036 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:29:21,038 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:29:21,039 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:29:21,041 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:29:21,042 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:29:21,042 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:29:21,043 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:29:21,043 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:21,043 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:21,049 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:29:21,049 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:29:21,049 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:29:21,050 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:21,073 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:29:21,073 - app.services.vector_service - INFO -    1. Airbnb Smartwatch 13 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:21,073 - app.services.vector_service - INFO -    2. YouTube Snack 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:21,073 - app.services.vector_service - INFO -    3. Spotify Laptop 23 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:21,073 - app.services.vector_service - INFO -    4. Spotify Tablet 14 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:21,073 - app.services.vector_service - INFO -    5. Spotify Speaker 15 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:21,073 - app.services.vector_service - INFO -    6. Spotify Smartwatch 21 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:21,073 - app.services.vector_service - INFO -    7. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:21,073 - app.services.vector_service - INFO -    8. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:21,073 - app.services.vector_service - INFO -    9. Spotify Gaming Console 17 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:21,073 - app.services.vector_service - INFO -    10. Spotify Smartphone 25 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:21,073 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:29:21,073 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:29:21,073 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:29:21,073 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:29:21,074 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:29:21,074 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:29:21,075 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:29:21,075 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:29:21,075 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:21,075 - app.services.recommendations - INFO - 🚫 Excluding 56 swiped products (liked: 29, disliked: 27)
2025-08-29 23:29:21,075 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:29:21,075 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4659 to 0.5306
2025-08-29 23:29:21,075 - app.services.vector_service - INFO - 📊 Found 14 candidate products after excluding 46 swiped products
2025-08-29 23:29:21,091 - app.services.vector_service - INFO - 🚀 FAISS search found 14 products
2025-08-29 23:29:21,092 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['YouTube Snack 20:0.7732', 'Nike Dessert 25:0.7722', "McDonald's Coffee 1:0.7720"]
2025-08-29 23:29:21,092 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:21,092 - app.routers.recommendations - INFO - ✅ [req_1756502961031] SUCCESS: Found 3 recommendations
2025-08-29 23:29:21,092 - app.routers.recommendations - INFO - ⏱️ [req_1756502961031] Processing time: 0.061s
2025-08-29 23:29:21,092 - app.routers.recommendations - INFO - 🏆 [req_1756502961031] Top 1: YouTube Snack 20 (score: 0.7732)
2025-08-29 23:29:21,092 - app.routers.recommendations - INFO - 🏆 [req_1756502961031] Top 2: Nike Dessert 25 (score: 0.7722)
2025-08-29 23:29:21,092 - app.routers.recommendations - INFO - 🏆 [req_1756502961031] Top 3: McDonald's Coffee 1 (score: 0.7720)
2025-08-29 23:29:21,092 - app.routers.recommendations - INFO - 🎯 [req_1756502961031] API RESPONSE: Returning 3 recommendations
2025-08-29 23:29:24,550 - app.routers.recommendations - INFO - 🚀 [req_1756502964550] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:24,551 - app.routers.recommendations - INFO - 📋 [req_1756502964550] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:29:24,551 - app.routers.recommendations - INFO - ⚖️ [req_1756502964550] Weights: image=0.6, text=0.4
2025-08-29 23:29:24,552 - app.routers.recommendations - INFO - ✅ [req_1756502964550] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:29:24,553 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:29:24,553 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:29:24,553 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:29:24,554 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:29:24,554 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:29:24,555 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:29:24,556 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:29:24,556 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:29:24,556 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:29:24,556 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:24,556 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:24,563 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:29:24,563 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:29:24,563 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:29:24,564 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:24,577 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:29:24,578 - app.services.vector_service - INFO -    1. Nike Dessert 25 (swiped: 2025-08-29 21:29)
2025-08-29 23:29:24,578 - app.services.vector_service - INFO -    2. YouTube Snack 20 (swiped: 2025-08-29 21:29)
2025-08-29 23:29:24,578 - app.services.vector_service - INFO -    3. Airbnb Smartwatch 13 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:24,578 - app.services.vector_service - INFO -    4. YouTube Snack 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:24,578 - app.services.vector_service - INFO -    5. Spotify Laptop 23 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:24,578 - app.services.vector_service - INFO -    6. Spotify Tablet 14 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:24,578 - app.services.vector_service - INFO -    7. Spotify Speaker 15 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:24,578 - app.services.vector_service - INFO -    8. Spotify Smartwatch 21 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:24,578 - app.services.vector_service - INFO -    9. Spotify Camera 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:24,578 - app.services.vector_service - INFO -    10. Spotify Speaker 6 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:24,578 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:29:24,578 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:29:24,578 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:29:24,578 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:29:24,578 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:29:24,579 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:29:24,579 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:29:24,579 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:29:24,579 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:24,579 - app.services.recommendations - INFO - 🚫 Excluding 58 swiped products (liked: 31, disliked: 27)
2025-08-29 23:29:24,580 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:29:24,580 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4720 to 0.5270
2025-08-29 23:29:24,580 - app.services.vector_service - INFO - 📊 Found 14 candidate products after excluding 46 swiped products
2025-08-29 23:29:24,593 - app.services.vector_service - INFO - 🚀 FAISS search found 14 products
2025-08-29 23:29:24,593 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['YouTube Beverage 24:0.8001', "McDonald's Snack 17:0.7965", 'Nike Pizza 19:0.7946']
2025-08-29 23:29:24,593 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:24,593 - app.routers.recommendations - INFO - ✅ [req_1756502964550] SUCCESS: Found 3 recommendations
2025-08-29 23:29:24,593 - app.routers.recommendations - INFO - ⏱️ [req_1756502964550] Processing time: 0.043s
2025-08-29 23:29:24,593 - app.routers.recommendations - INFO - 🏆 [req_1756502964550] Top 1: YouTube Beverage 24 (score: 0.8001)
2025-08-29 23:29:24,593 - app.routers.recommendations - INFO - 🏆 [req_1756502964550] Top 2: McDonald's Snack 17 (score: 0.7965)
2025-08-29 23:29:24,593 - app.routers.recommendations - INFO - 🏆 [req_1756502964550] Top 3: Nike Pizza 19 (score: 0.7946)
2025-08-29 23:29:24,593 - app.routers.recommendations - INFO - 🎯 [req_1756502964550] API RESPONSE: Returning 3 recommendations
2025-08-29 23:29:29,436 - app.routers.recommendations - INFO - 🚀 [req_1756502969435] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:29,436 - app.routers.recommendations - INFO - 📋 [req_1756502969435] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:29:29,436 - app.routers.recommendations - INFO - ⚖️ [req_1756502969435] Weights: image=0.6, text=0.4
2025-08-29 23:29:29,440 - app.routers.recommendations - INFO - ✅ [req_1756502969435] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:29:29,440 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:29:29,440 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:29:29,441 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:29:29,443 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:29:29,444 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:29:29,446 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:29:29,448 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:29:29,448 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:29:29,448 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:29:29,448 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:29,448 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:29,453 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:29:29,454 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:29:29,454 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:29:29,455 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:29,469 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:29:29,469 - app.services.vector_service - INFO -    1. McDonald's Snack 17 (swiped: 2025-08-29 21:29)
2025-08-29 23:29:29,469 - app.services.vector_service - INFO -    2. YouTube Beverage 24 (swiped: 2025-08-29 21:29)
2025-08-29 23:29:29,469 - app.services.vector_service - INFO -    3. McDonald's Coffee 1 (swiped: 2025-08-29 21:29)
2025-08-29 23:29:29,469 - app.services.vector_service - INFO -    4. Nike Dessert 25 (swiped: 2025-08-29 21:29)
2025-08-29 23:29:29,469 - app.services.vector_service - INFO -    5. YouTube Snack 20 (swiped: 2025-08-29 21:29)
2025-08-29 23:29:29,469 - app.services.vector_service - INFO -    6. Airbnb Smartwatch 13 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:29,469 - app.services.vector_service - INFO -    7. YouTube Snack 16 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:29,469 - app.services.vector_service - INFO -    8. Spotify Laptop 23 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:29,469 - app.services.vector_service - INFO -    9. Spotify Tablet 14 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:29,469 - app.services.vector_service - INFO -    10. Spotify Speaker 15 (swiped: 2025-08-29 21:20)
2025-08-29 23:29:29,469 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:29:29,470 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:29:29,470 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:29:29,470 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:29:29,470 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:29:29,471 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:29:29,471 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:29:29,471 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:29:29,472 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:29,472 - app.services.recommendations - INFO - 🚫 Excluding 61 swiped products (liked: 34, disliked: 27)
2025-08-29 23:29:29,472 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:29:29,472 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4744 to 0.5433
2025-08-29 23:29:29,472 - app.services.vector_service - INFO - 📊 Found 29 candidate products after excluding 31 swiped products
2025-08-29 23:29:29,518 - app.services.vector_service - INFO - 🚀 FAISS search found 29 products
2025-08-29 23:29:29,518 - app.services.vector_service - INFO - 🏆 Top similarity scores: ["McDonald's Snack 18:0.8362", 'Nike Dessert 1:0.8329', 'YouTube Beverage 12:0.8309']
2025-08-29 23:29:29,519 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:29:29,519 - app.routers.recommendations - INFO - ✅ [req_1756502969435] SUCCESS: Found 3 recommendations
2025-08-29 23:29:29,519 - app.routers.recommendations - INFO - ⏱️ [req_1756502969435] Processing time: 0.084s
2025-08-29 23:29:29,519 - app.routers.recommendations - INFO - 🏆 [req_1756502969435] Top 1: McDonald's Snack 18 (score: 0.8362)
2025-08-29 23:29:29,519 - app.routers.recommendations - INFO - 🏆 [req_1756502969435] Top 2: Nike Dessert 1 (score: 0.8329)
2025-08-29 23:29:29,519 - app.routers.recommendations - INFO - 🏆 [req_1756502969435] Top 3: YouTube Beverage 12 (score: 0.8309)
2025-08-29 23:29:29,519 - app.routers.recommendations - INFO - 🎯 [req_1756502969435] API RESPONSE: Returning 3 recommendations
2025-08-29 23:31:58,897 - app.routers.recommendations - INFO - 🚀 [req_1756503118896] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:31:58,901 - app.routers.recommendations - INFO - 📋 [req_1756503118896] Parameters: limit=5, category=None, brand_id=None
2025-08-29 23:31:58,901 - app.routers.recommendations - INFO - ⚖️ [req_1756503118896] Weights: image=0.6, text=0.4
2025-08-29 23:31:58,929 - app.routers.recommendations - INFO - ✅ [req_1756503118896] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:31:58,931 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:31:58,931 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:31:58,936 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:31:58,949 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:31:58,949 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:31:58,952 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:31:58,954 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:31:58,954 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:31:58,954 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:31:58,954 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:31:58,954 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:31:58,958 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:31:58,958 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:31:58,958 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:31:58,962 - app.services.vector_service - INFO - 📊 Found 0 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:31:58,962 - app.services.vector_service - WARNING - ⚠️ No liked products found for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:31:58,962 - app.services.recommendations - WARNING - ⚠️ No preference vectors available for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:31:58,962 - app.routers.recommendations - INFO - ✅ [req_1756503118896] SUCCESS: Found 0 recommendations
2025-08-29 23:31:58,962 - app.routers.recommendations - INFO - ⏱️ [req_1756503118896] Processing time: 0.066s
2025-08-29 23:31:58,962 - app.routers.recommendations - INFO - 🎯 [req_1756503118896] API RESPONSE: Returning 0 recommendations
2025-08-29 23:33:15,128 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:33:15,129 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:33:15,190 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:33:15,191 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:33:15,191 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:33:15,368 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:33:16,591 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:33:17,893 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:33:17,894 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:33:18,272 - app.utils.model_manager - INFO - 📝 Loading Sentence Transformer...
2025-08-29 23:33:18,278 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-29 23:33:18,278 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-29 23:33:21,443 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for Sentence Transformer
2025-08-29 23:33:21,445 - app.utils.model_manager - INFO - 🔧 Loading CLIP preprocessor...
2025-08-29 23:33:21,445 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:33:21,445 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:33:21,587 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:33:22,968 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:33:24,156 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:33:24,156 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:33:24,170 - app.utils.model_manager - INFO - ✅ All ML models loaded successfully!
2025-08-29 23:33:24,433 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:33:29,088 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:33:29,088 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:33:29,155 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:33:29,155 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:33:29,155 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:33:29,314 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:33:30,493 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:33:31,376 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:33:31,376 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:33:31,690 - app.utils.model_manager - INFO - 📝 Loading Sentence Transformer...
2025-08-29 23:33:31,693 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-29 23:33:31,693 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-29 23:33:34,521 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for Sentence Transformer
2025-08-29 23:33:34,521 - app.utils.model_manager - INFO - 🔧 Loading CLIP preprocessor...
2025-08-29 23:33:34,522 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:33:34,522 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:33:34,655 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:33:35,906 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:33:36,982 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:33:36,982 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:33:36,995 - app.utils.model_manager - INFO - ✅ All ML models loaded successfully!
2025-08-29 23:33:37,156 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:33:41,377 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:33:41,377 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:33:41,425 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:33:41,426 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:33:41,426 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:33:41,615 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:33:42,799 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:33:42,849 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:33:42,850 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:33:43,121 - app.utils.model_manager - INFO - 📝 Loading Sentence Transformer...
2025-08-29 23:33:43,123 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-29 23:33:43,123 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-29 23:33:45,524 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for Sentence Transformer
2025-08-29 23:33:45,525 - app.utils.model_manager - INFO - 🔧 Loading CLIP preprocessor...
2025-08-29 23:33:45,525 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:33:45,525 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:33:45,664 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:33:46,868 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:33:47,958 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:33:47,958 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:33:47,973 - app.utils.model_manager - INFO - ✅ All ML models loaded successfully!
2025-08-29 23:33:48,368 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:33:52,339 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:33:52,339 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:33:52,371 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:33:52,371 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:33:52,371 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:33:52,536 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:33:53,728 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:33:53,779 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:33:53,780 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:33:54,093 - app.utils.model_manager - INFO - 📝 Loading Sentence Transformer...
2025-08-29 23:33:54,095 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-29 23:33:54,095 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-29 23:33:56,402 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for Sentence Transformer
2025-08-29 23:33:56,403 - app.utils.model_manager - INFO - 🔧 Loading CLIP preprocessor...
2025-08-29 23:33:56,403 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:33:56,403 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:33:56,536 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:33:57,770 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:33:58,855 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:33:58,855 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:33:58,867 - app.utils.model_manager - INFO - ✅ All ML models loaded successfully!
2025-08-29 23:33:59,053 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:33:59,066 - app.routers.recommendations - INFO - 🚀 [req_1756503239066] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:33:59,066 - app.routers.recommendations - INFO - 📋 [req_1756503239066] Parameters: limit=5, category=None, brand_id=None
2025-08-29 23:33:59,066 - app.routers.recommendations - INFO - ⚖️ [req_1756503239066] Weights: image=0.6, text=0.4
2025-08-29 23:33:59,091 - app.routers.recommendations - INFO - ✅ [req_1756503239066] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:33:59,092 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:33:59,092 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:33:59,094 - faiss.loader - INFO - Loading faiss.
2025-08-29 23:33:59,135 - faiss.loader - INFO - Successfully loaded faiss.
2025-08-29 23:33:59,138 - faiss - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-08-29 23:33:59,138 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:33:59,141 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:33:59,141 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:33:59,144 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:33:59,145 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:33:59,145 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:33:59,146 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:33:59,146 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:33:59,146 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:33:59,159 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:33:59,159 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:33:59,159 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:33:59,161 - app.services.vector_service - INFO - 📊 Found 0 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:33:59,161 - app.services.vector_service - WARNING - ⚠️ No liked products found for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:33:59,161 - app.services.recommendations - WARNING - ⚠️ No preference vectors available for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:33:59,161 - app.services.recommendations - INFO - 🎲 Providing random products as fallback for new user
2025-08-29 23:33:59,161 - app.services.recommendations - INFO - 🎲 Getting random products fallback for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:33:59,204 - app.services.recommendations - INFO - 🎲 Random fallback: Generated 5 random products
2025-08-29 23:33:59,205 - app.services.recommendations - INFO - 🎲 Fallback: Returning 5 random products
2025-08-29 23:33:59,205 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:33:59,205 - app.routers.recommendations - INFO - ✅ [req_1756503239066] SUCCESS: Found 5 recommendations
2025-08-29 23:33:59,205 - app.routers.recommendations - INFO - ⏱️ [req_1756503239066] Processing time: 0.139s
2025-08-29 23:33:59,205 - app.routers.recommendations - INFO - 🏆 [req_1756503239066] Top 1: Spotify Laptop 8 (score: 0.7869)
2025-08-29 23:33:59,205 - app.routers.recommendations - INFO - 🏆 [req_1756503239066] Top 2: Spotify Smartwatch 5 (score: 0.7975)
2025-08-29 23:33:59,205 - app.routers.recommendations - INFO - 🏆 [req_1756503239066] Top 3: Uber Meal 9 (score: 0.7390)
2025-08-29 23:33:59,205 - app.routers.recommendations - INFO - 🎯 [req_1756503239066] API RESPONSE: Returning 5 recommendations
2025-08-29 23:34:09,747 - app.routers.recommendations - INFO - 🚀 [req_1756503249746] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:09,748 - app.routers.recommendations - INFO - 📋 [req_1756503249746] Parameters: limit=5, category=None, brand_id=None
2025-08-29 23:34:09,748 - app.routers.recommendations - INFO - ⚖️ [req_1756503249746] Weights: image=0.6, text=0.4
2025-08-29 23:34:09,760 - app.routers.recommendations - INFO - ✅ [req_1756503249746] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:34:09,761 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:34:09,761 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:34:09,762 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:34:09,764 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:34:09,765 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:34:09,767 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:34:09,770 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:34:09,770 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:34:09,770 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:34:09,771 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:09,771 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:09,775 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:34:09,775 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:34:09,775 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:34:09,776 - app.services.vector_service - INFO - 📊 Found 0 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:09,776 - app.services.vector_service - WARNING - ⚠️ No liked products found for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:09,776 - app.services.recommendations - WARNING - ⚠️ No preference vectors available for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:09,776 - app.services.recommendations - INFO - 🎲 Providing random products as fallback for new user
2025-08-29 23:34:09,776 - app.services.recommendations - INFO - 🎲 Getting random products fallback for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:09,792 - app.services.recommendations - INFO - 🎲 Random fallback: Generated 5 random products
2025-08-29 23:34:09,792 - app.services.recommendations - INFO - 🎲 Fallback: Returning 5 random products
2025-08-29 23:34:09,792 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:09,792 - app.routers.recommendations - INFO - ✅ [req_1756503249746] SUCCESS: Found 5 recommendations
2025-08-29 23:34:09,792 - app.routers.recommendations - INFO - ⏱️ [req_1756503249746] Processing time: 0.046s
2025-08-29 23:34:09,792 - app.routers.recommendations - INFO - 🏆 [req_1756503249746] Top 1: Twitter Car 12 (score: 0.7590)
2025-08-29 23:34:09,792 - app.routers.recommendations - INFO - 🏆 [req_1756503249746] Top 2: Twitter Train 7 (score: 0.7954)
2025-08-29 23:34:09,792 - app.routers.recommendations - INFO - 🏆 [req_1756503249746] Top 3: Twitter Train 1 (score: 0.7819)
2025-08-29 23:34:09,792 - app.routers.recommendations - INFO - 🎯 [req_1756503249746] API RESPONSE: Returning 5 recommendations
2025-08-29 23:34:15,378 - app.utils.model_manager - INFO - 🚀 Loading ML models for persistence...
2025-08-29 23:34:15,378 - app.utils.model_manager - INFO - 📸 Loading CLIP model...
2025-08-29 23:34:15,396 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for CLIP
2025-08-29 23:34:15,396 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:34:15,396 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:34:15,555 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:34:16,781 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:34:18,061 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:34:18,061 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:34:18,351 - app.utils.model_manager - INFO - 📝 Loading Sentence Transformer...
2025-08-29 23:34:18,361 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: mps
2025-08-29 23:34:18,362 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-29 23:34:21,641 - app.utils.model_manager - INFO - 🍎 Using MPS (Apple Silicon) for Sentence Transformer
2025-08-29 23:34:21,643 - app.utils.model_manager - INFO - 🔧 Loading CLIP preprocessor...
2025-08-29 23:34:21,643 - root - INFO - Parsing model identifier. Schema: None, Identifier: ViT-B-32
2025-08-29 23:34:21,643 - root - INFO - Loaded built-in ViT-B-32 model config.
2025-08-29 23:34:21,774 - root - INFO - Instantiating model architecture: CLIP
2025-08-29 23:34:23,345 - root - INFO - Loading full pretrained weights from: /Users/svensjoqvist/.cache/huggingface/hub/models--timm--vit_base_patch32_clip_224.openai/snapshots/a6f597a30f7b82c51704746581f9a4e41421e878/open_clip_model.safetensors
2025-08-29 23:34:24,822 - root - INFO - Final image preprocessing configuration set: {'size': (224, 224), 'mode': 'RGB', 'mean': (0.48145466, 0.4578275, 0.40821073), 'std': (0.26862954, 0.26130258, 0.27577711), 'interpolation': 'bicubic', 'resize_mode': 'shortest', 'fill_color': 0}
2025-08-29 23:34:24,824 - root - INFO - Model ViT-B-32 creation process complete.
2025-08-29 23:34:24,846 - app.utils.model_manager - INFO - ✅ All ML models loaded successfully!
2025-08-29 23:34:25,206 - app.create_tables - INFO - ✅ Database tables and indexes created successfully
2025-08-29 23:34:25,252 - app.routers.recommendations - INFO - 🚀 [req_1756503265252] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:25,253 - app.routers.recommendations - INFO - 📋 [req_1756503265252] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:34:25,253 - app.routers.recommendations - INFO - ⚖️ [req_1756503265252] Weights: image=0.6, text=0.4
2025-08-29 23:34:25,271 - app.routers.recommendations - INFO - ✅ [req_1756503265252] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:34:25,272 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:34:25,272 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:34:25,278 - faiss.loader - INFO - Loading faiss.
2025-08-29 23:34:25,346 - faiss.loader - INFO - Successfully loaded faiss.
2025-08-29 23:34:25,351 - faiss - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-08-29 23:34:25,351 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:34:25,355 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:34:25,356 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:34:25,360 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:34:25,361 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:34:25,361 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:34:25,361 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:34:25,361 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:25,361 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:25,366 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:34:25,368 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:34:25,369 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:34:25,375 - app.services.vector_service - INFO - 📊 Found 1 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:25,378 - app.services.vector_service - INFO - ✅ Found 1 recent liked products with vectors
2025-08-29 23:34:25,378 - app.services.vector_service - INFO -    1. Facebook Car 22 (swiped: 2025-08-29 21:34)
2025-08-29 23:34:25,378 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:34:25,378 - app.services.vector_service - INFO -    - Image vectors: 1/1
2025-08-29 23:34:25,378 - app.services.vector_service - INFO -    - Text vectors: 1/1
2025-08-29 23:34:25,378 - app.services.vector_service - INFO -    - Combined vectors: 1/1
2025-08-29 23:34:25,378 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:34:25,378 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:34:25,378 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:34:25,378 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:34:25,378 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:25,379 - app.services.recommendations - INFO - 🚫 Excluding 0 swiped products (liked: 0, disliked: 0)
2025-08-29 23:34:25,381 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:34:25,441 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4569 to 0.7126
2025-08-29 23:34:25,441 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 0 swiped products
2025-08-29 23:34:25,507 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:34:25,507 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Facebook Car 22:1.0000', 'Facebook Bike 1:0.8115', 'Facebook Car 6:0.8071']
2025-08-29 23:34:25,508 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:25,508 - app.routers.recommendations - INFO - ✅ [req_1756503265252] SUCCESS: Found 3 recommendations
2025-08-29 23:34:25,508 - app.routers.recommendations - INFO - ⏱️ [req_1756503265252] Processing time: 0.255s
2025-08-29 23:34:25,508 - app.routers.recommendations - INFO - 🏆 [req_1756503265252] Top 1: Facebook Car 22 (score: 1.0000)
2025-08-29 23:34:25,508 - app.routers.recommendations - INFO - 🏆 [req_1756503265252] Top 2: Facebook Bike 1 (score: 0.8115)
2025-08-29 23:34:25,508 - app.routers.recommendations - INFO - 🏆 [req_1756503265252] Top 3: Facebook Car 6 (score: 0.8071)
2025-08-29 23:34:25,508 - app.routers.recommendations - INFO - 🎯 [req_1756503265252] API RESPONSE: Returning 3 recommendations
2025-08-29 23:34:39,848 - app.routers.recommendations - INFO - 🚀 [req_1756503279848] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:39,848 - app.routers.recommendations - INFO - 📋 [req_1756503279848] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:34:39,848 - app.routers.recommendations - INFO - ⚖️ [req_1756503279848] Weights: image=0.6, text=0.4
2025-08-29 23:34:39,851 - app.routers.recommendations - INFO - ✅ [req_1756503279848] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:34:39,851 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:34:39,851 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:34:39,852 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:34:39,855 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:34:39,856 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:34:39,860 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:34:39,862 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:34:39,862 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:34:39,862 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:34:39,862 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:39,862 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:39,867 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:34:39,867 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:34:39,867 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:34:39,868 - app.services.vector_service - INFO - 📊 Found 2 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:39,873 - app.services.vector_service - INFO - ✅ Found 2 recent liked products with vectors
2025-08-29 23:34:39,873 - app.services.vector_service - INFO -    1. Facebook Bike 1 (swiped: 2025-08-29 21:34)
2025-08-29 23:34:39,873 - app.services.vector_service - INFO -    2. Facebook Car 22 (swiped: 2025-08-29 21:34)
2025-08-29 23:34:39,873 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:34:39,873 - app.services.vector_service - INFO -    - Image vectors: 2/2
2025-08-29 23:34:39,873 - app.services.vector_service - INFO -    - Text vectors: 2/2
2025-08-29 23:34:39,873 - app.services.vector_service - INFO -    - Combined vectors: 2/2
2025-08-29 23:34:39,873 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:34:39,874 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:34:39,874 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:34:39,874 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:34:39,874 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:39,874 - app.services.recommendations - INFO - 🚫 Excluding 6 swiped products (liked: 2, disliked: 4)
2025-08-29 23:34:39,874 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:34:39,875 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4520 to 0.6397
2025-08-29 23:34:39,875 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 2 swiped products
2025-08-29 23:34:39,915 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:34:39,915 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Facebook Car 6:0.8206', 'Facebook Scooter 18:0.8073', 'Facebook Car 23:0.8007']
2025-08-29 23:34:39,915 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:39,915 - app.routers.recommendations - INFO - ✅ [req_1756503279848] SUCCESS: Found 3 recommendations
2025-08-29 23:34:39,915 - app.routers.recommendations - INFO - ⏱️ [req_1756503279848] Processing time: 0.068s
2025-08-29 23:34:39,915 - app.routers.recommendations - INFO - 🏆 [req_1756503279848] Top 1: Facebook Car 6 (score: 0.8206)
2025-08-29 23:34:39,915 - app.routers.recommendations - INFO - 🏆 [req_1756503279848] Top 2: Facebook Scooter 18 (score: 0.8073)
2025-08-29 23:34:39,915 - app.routers.recommendations - INFO - 🏆 [req_1756503279848] Top 3: Facebook Car 23 (score: 0.8007)
2025-08-29 23:34:39,915 - app.routers.recommendations - INFO - 🎯 [req_1756503279848] API RESPONSE: Returning 3 recommendations
2025-08-29 23:34:43,311 - app.routers.recommendations - INFO - 🚀 [req_1756503283311] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:43,311 - app.routers.recommendations - INFO - 📋 [req_1756503283311] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:34:43,311 - app.routers.recommendations - INFO - ⚖️ [req_1756503283311] Weights: image=0.6, text=0.4
2025-08-29 23:34:43,313 - app.routers.recommendations - INFO - ✅ [req_1756503283311] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:34:43,313 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:34:43,313 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:34:43,314 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:34:43,315 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:34:43,315 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:34:43,316 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:34:43,317 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:34:43,318 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:34:43,318 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:34:43,318 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:43,318 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:43,320 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:34:43,320 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:34:43,320 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:34:43,321 - app.services.vector_service - INFO - 📊 Found 4 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:43,328 - app.services.vector_service - INFO - ✅ Found 4 recent liked products with vectors
2025-08-29 23:34:43,328 - app.services.vector_service - INFO -    1. Facebook Scooter 18 (swiped: 2025-08-29 21:34)
2025-08-29 23:34:43,328 - app.services.vector_service - INFO -    2. Facebook Car 6 (swiped: 2025-08-29 21:34)
2025-08-29 23:34:43,328 - app.services.vector_service - INFO -    3. Facebook Bike 1 (swiped: 2025-08-29 21:34)
2025-08-29 23:34:43,328 - app.services.vector_service - INFO -    4. Facebook Car 22 (swiped: 2025-08-29 21:34)
2025-08-29 23:34:43,328 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:34:43,328 - app.services.vector_service - INFO -    - Image vectors: 4/4
2025-08-29 23:34:43,328 - app.services.vector_service - INFO -    - Text vectors: 4/4
2025-08-29 23:34:43,329 - app.services.vector_service - INFO -    - Combined vectors: 4/4
2025-08-29 23:34:43,329 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:34:43,329 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:34:43,330 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:34:43,330 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:34:43,330 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:43,330 - app.services.recommendations - INFO - 🚫 Excluding 8 swiped products (liked: 4, disliked: 4)
2025-08-29 23:34:43,331 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:34:43,331 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4571 to 0.6004
2025-08-29 23:34:43,331 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 4 swiped products
2025-08-29 23:34:43,374 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:34:43,375 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Facebook Plane 10:0.8426', 'Facebook Car 23:0.8424', 'Facebook Scooter 20:0.8370']
2025-08-29 23:34:43,375 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:43,375 - app.routers.recommendations - INFO - ✅ [req_1756503283311] SUCCESS: Found 3 recommendations
2025-08-29 23:34:43,375 - app.routers.recommendations - INFO - ⏱️ [req_1756503283311] Processing time: 0.064s
2025-08-29 23:34:43,375 - app.routers.recommendations - INFO - 🏆 [req_1756503283311] Top 1: Facebook Plane 10 (score: 0.8426)
2025-08-29 23:34:43,375 - app.routers.recommendations - INFO - 🏆 [req_1756503283311] Top 2: Facebook Car 23 (score: 0.8424)
2025-08-29 23:34:43,375 - app.routers.recommendations - INFO - 🏆 [req_1756503283311] Top 3: Facebook Scooter 20 (score: 0.8370)
2025-08-29 23:34:43,375 - app.routers.recommendations - INFO - 🎯 [req_1756503283311] API RESPONSE: Returning 3 recommendations
2025-08-29 23:34:48,348 - app.routers.recommendations - INFO - 🚀 [req_1756503288348] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:48,349 - app.routers.recommendations - INFO - 📋 [req_1756503288348] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:34:48,349 - app.routers.recommendations - INFO - ⚖️ [req_1756503288348] Weights: image=0.6, text=0.4
2025-08-29 23:34:48,352 - app.routers.recommendations - INFO - ✅ [req_1756503288348] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:34:48,353 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:34:48,353 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:34:48,354 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:34:48,356 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:34:48,356 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:34:48,358 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:34:48,359 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:34:48,359 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:34:48,359 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:34:48,359 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:48,360 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:48,364 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:34:48,365 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:34:48,365 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:34:48,366 - app.services.vector_service - INFO - 📊 Found 6 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:48,375 - app.services.vector_service - INFO - ✅ Found 6 recent liked products with vectors
2025-08-29 23:34:48,375 - app.services.vector_service - INFO -    1. Facebook Plane 10 (swiped: 2025-08-29 21:34)
2025-08-29 23:34:48,376 - app.services.vector_service - INFO -    2. Facebook Car 23 (swiped: 2025-08-29 21:34)
2025-08-29 23:34:48,376 - app.services.vector_service - INFO -    3. Facebook Scooter 18 (swiped: 2025-08-29 21:34)
2025-08-29 23:34:48,376 - app.services.vector_service - INFO -    4. Facebook Car 6 (swiped: 2025-08-29 21:34)
2025-08-29 23:34:48,376 - app.services.vector_service - INFO -    5. Facebook Bike 1 (swiped: 2025-08-29 21:34)
2025-08-29 23:34:48,376 - app.services.vector_service - INFO -    6. Facebook Car 22 (swiped: 2025-08-29 21:34)
2025-08-29 23:34:48,376 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:34:48,376 - app.services.vector_service - INFO -    - Image vectors: 6/6
2025-08-29 23:34:48,376 - app.services.vector_service - INFO -    - Text vectors: 6/6
2025-08-29 23:34:48,376 - app.services.vector_service - INFO -    - Combined vectors: 6/6
2025-08-29 23:34:48,376 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:34:48,377 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:34:48,377 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:34:48,377 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:34:48,378 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:48,378 - app.services.recommendations - INFO - 🚫 Excluding 10 swiped products (liked: 6, disliked: 4)
2025-08-29 23:34:48,378 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:34:48,378 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4635 to 0.5819
2025-08-29 23:34:48,378 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 6 swiped products
2025-08-29 23:34:48,426 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:34:48,426 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Facebook Scooter 20:0.8582', 'Facebook Bus 2:0.8403', 'Facebook Helicopter 8:0.8288']
2025-08-29 23:34:48,426 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:34:48,426 - app.routers.recommendations - INFO - ✅ [req_1756503288348] SUCCESS: Found 3 recommendations
2025-08-29 23:34:48,426 - app.routers.recommendations - INFO - ⏱️ [req_1756503288348] Processing time: 0.079s
2025-08-29 23:34:48,426 - app.routers.recommendations - INFO - 🏆 [req_1756503288348] Top 1: Facebook Scooter 20 (score: 0.8582)
2025-08-29 23:34:48,427 - app.routers.recommendations - INFO - 🏆 [req_1756503288348] Top 2: Facebook Bus 2 (score: 0.8403)
2025-08-29 23:34:48,427 - app.routers.recommendations - INFO - 🏆 [req_1756503288348] Top 3: Facebook Helicopter 8 (score: 0.8288)
2025-08-29 23:34:48,427 - app.routers.recommendations - INFO - 🎯 [req_1756503288348] API RESPONSE: Returning 3 recommendations
2025-08-29 23:35:19,433 - app.routers.recommendations - INFO - 🚀 [req_1756503319433] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:19,435 - app.routers.recommendations - INFO - 📋 [req_1756503319433] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:35:19,435 - app.routers.recommendations - INFO - ⚖️ [req_1756503319433] Weights: image=0.6, text=0.4
2025-08-29 23:35:19,439 - app.routers.recommendations - INFO - ✅ [req_1756503319433] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:35:19,440 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:35:19,440 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:35:19,442 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:35:19,446 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:35:19,447 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:35:19,452 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:35:19,455 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:35:19,455 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:35:19,455 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:35:19,455 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:19,455 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:19,459 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:35:19,459 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:35:19,459 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:35:19,460 - app.services.vector_service - INFO - 📊 Found 8 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:19,472 - app.services.vector_service - INFO - ✅ Found 8 recent liked products with vectors
2025-08-29 23:35:19,472 - app.services.vector_service - INFO -    1. Facebook Bus 2 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:19,472 - app.services.vector_service - INFO -    2. Facebook Scooter 20 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:19,472 - app.services.vector_service - INFO -    3. Facebook Plane 10 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:19,472 - app.services.vector_service - INFO -    4. Facebook Car 23 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:19,472 - app.services.vector_service - INFO -    5. Facebook Scooter 18 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:19,472 - app.services.vector_service - INFO -    6. Facebook Car 6 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:19,472 - app.services.vector_service - INFO -    7. Facebook Bike 1 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:19,472 - app.services.vector_service - INFO -    8. Facebook Car 22 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:19,472 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:35:19,472 - app.services.vector_service - INFO -    - Image vectors: 8/8
2025-08-29 23:35:19,472 - app.services.vector_service - INFO -    - Text vectors: 8/8
2025-08-29 23:35:19,472 - app.services.vector_service - INFO -    - Combined vectors: 8/8
2025-08-29 23:35:19,473 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:35:19,473 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:35:19,474 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:35:19,474 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:35:19,474 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:19,474 - app.services.recommendations - INFO - 🚫 Excluding 12 swiped products (liked: 8, disliked: 4)
2025-08-29 23:35:19,474 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:35:19,475 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4637 to 0.5783
2025-08-29 23:35:19,475 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 8 swiped products
2025-08-29 23:35:19,517 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:35:19,517 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Facebook Bus 19:0.8403', 'Facebook Bike 15:0.8356', 'Facebook Helicopter 8:0.8312']
2025-08-29 23:35:19,517 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:19,517 - app.routers.recommendations - INFO - ✅ [req_1756503319433] SUCCESS: Found 3 recommendations
2025-08-29 23:35:19,518 - app.routers.recommendations - INFO - ⏱️ [req_1756503319433] Processing time: 0.085s
2025-08-29 23:35:19,518 - app.routers.recommendations - INFO - 🏆 [req_1756503319433] Top 1: Facebook Bus 19 (score: 0.8403)
2025-08-29 23:35:19,518 - app.routers.recommendations - INFO - 🏆 [req_1756503319433] Top 2: Facebook Bike 15 (score: 0.8356)
2025-08-29 23:35:19,518 - app.routers.recommendations - INFO - 🏆 [req_1756503319433] Top 3: Facebook Helicopter 8 (score: 0.8312)
2025-08-29 23:35:19,518 - app.routers.recommendations - INFO - 🎯 [req_1756503319433] API RESPONSE: Returning 3 recommendations
2025-08-29 23:35:24,111 - app.routers.recommendations - INFO - 🚀 [req_1756503324111] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:24,111 - app.routers.recommendations - INFO - 📋 [req_1756503324111] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:35:24,111 - app.routers.recommendations - INFO - ⚖️ [req_1756503324111] Weights: image=0.6, text=0.4
2025-08-29 23:35:24,112 - app.routers.recommendations - INFO - ✅ [req_1756503324111] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:35:24,113 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:35:24,113 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:35:24,113 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:35:24,114 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:35:24,114 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:35:24,114 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:35:24,115 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:35:24,115 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:35:24,115 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:35:24,115 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:24,115 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:24,118 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:35:24,118 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:35:24,118 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:35:24,119 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:24,131 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:35:24,131 - app.services.vector_service - INFO -    1. Facebook Bus 19 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:24,131 - app.services.vector_service - INFO -    2. Facebook Helicopter 8 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:24,131 - app.services.vector_service - INFO -    3. Facebook Bus 2 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:24,131 - app.services.vector_service - INFO -    4. Facebook Scooter 20 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:24,131 - app.services.vector_service - INFO -    5. Facebook Plane 10 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:24,131 - app.services.vector_service - INFO -    6. Facebook Car 23 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:24,131 - app.services.vector_service - INFO -    7. Facebook Scooter 18 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:24,131 - app.services.vector_service - INFO -    8. Facebook Car 6 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:24,131 - app.services.vector_service - INFO -    9. Facebook Bike 1 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:24,131 - app.services.vector_service - INFO -    10. Facebook Car 22 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:24,132 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:35:24,132 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:35:24,132 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:35:24,132 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:35:24,132 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:35:24,132 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:35:24,133 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:35:24,133 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:35:24,133 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:24,133 - app.services.recommendations - INFO - 🚫 Excluding 14 swiped products (liked: 10, disliked: 4)
2025-08-29 23:35:24,133 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:35:24,133 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4635 to 0.5762
2025-08-29 23:35:24,133 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 10 swiped products
2025-08-29 23:35:24,167 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:35:24,167 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Facebook Scooter 7:0.8304', 'Facebook Bike 15:0.8254', 'Facebook Car 11:0.8151']
2025-08-29 23:35:24,168 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:24,168 - app.routers.recommendations - INFO - ✅ [req_1756503324111] SUCCESS: Found 3 recommendations
2025-08-29 23:35:24,168 - app.routers.recommendations - INFO - ⏱️ [req_1756503324111] Processing time: 0.057s
2025-08-29 23:35:24,168 - app.routers.recommendations - INFO - 🏆 [req_1756503324111] Top 1: Facebook Scooter 7 (score: 0.8304)
2025-08-29 23:35:24,168 - app.routers.recommendations - INFO - 🏆 [req_1756503324111] Top 2: Facebook Bike 15 (score: 0.8254)
2025-08-29 23:35:24,168 - app.routers.recommendations - INFO - 🏆 [req_1756503324111] Top 3: Facebook Car 11 (score: 0.8151)
2025-08-29 23:35:24,168 - app.routers.recommendations - INFO - 🎯 [req_1756503324111] API RESPONSE: Returning 3 recommendations
2025-08-29 23:35:27,014 - app.routers.recommendations - INFO - 🚀 [req_1756503327014] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:27,015 - app.routers.recommendations - INFO - 📋 [req_1756503327014] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:35:27,015 - app.routers.recommendations - INFO - ⚖️ [req_1756503327014] Weights: image=0.6, text=0.4
2025-08-29 23:35:27,018 - app.routers.recommendations - INFO - ✅ [req_1756503327014] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:35:27,018 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:35:27,019 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:35:27,019 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:35:27,021 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:35:27,021 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:35:27,023 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:35:27,026 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:35:27,026 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:35:27,026 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:35:27,026 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:27,026 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:27,030 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:35:27,030 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:35:27,030 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:35:27,031 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:27,045 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:35:27,045 - app.services.vector_service - INFO -    1. Facebook Scooter 7 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:27,045 - app.services.vector_service - INFO -    2. Facebook Bike 15 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:27,045 - app.services.vector_service - INFO -    3. Facebook Bus 19 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:27,045 - app.services.vector_service - INFO -    4. Facebook Helicopter 8 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:27,045 - app.services.vector_service - INFO -    5. Facebook Bus 2 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:27,045 - app.services.vector_service - INFO -    6. Facebook Scooter 20 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:27,045 - app.services.vector_service - INFO -    7. Facebook Plane 10 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:27,045 - app.services.vector_service - INFO -    8. Facebook Car 23 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:27,046 - app.services.vector_service - INFO -    9. Facebook Scooter 18 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:27,046 - app.services.vector_service - INFO -    10. Facebook Car 6 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:27,046 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:35:27,046 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:35:27,046 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:35:27,046 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:35:27,046 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:35:27,047 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:35:27,047 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:35:27,047 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:35:27,048 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:27,048 - app.services.recommendations - INFO - 🚫 Excluding 16 swiped products (liked: 12, disliked: 4)
2025-08-29 23:35:27,048 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:35:27,048 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4608 to 0.5794
2025-08-29 23:35:27,048 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 12 swiped products
2025-08-29 23:35:27,090 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:35:27,090 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Facebook Train 4:0.8166', 'Facebook Bike 14:0.8041', 'Facebook Bus 5:0.8040']
2025-08-29 23:35:27,091 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:27,091 - app.routers.recommendations - INFO - ✅ [req_1756503327014] SUCCESS: Found 3 recommendations
2025-08-29 23:35:27,091 - app.routers.recommendations - INFO - ⏱️ [req_1756503327014] Processing time: 0.077s
2025-08-29 23:35:27,091 - app.routers.recommendations - INFO - 🏆 [req_1756503327014] Top 1: Facebook Train 4 (score: 0.8166)
2025-08-29 23:35:27,091 - app.routers.recommendations - INFO - 🏆 [req_1756503327014] Top 2: Facebook Bike 14 (score: 0.8041)
2025-08-29 23:35:27,091 - app.routers.recommendations - INFO - 🏆 [req_1756503327014] Top 3: Facebook Bus 5 (score: 0.8040)
2025-08-29 23:35:27,091 - app.routers.recommendations - INFO - 🎯 [req_1756503327014] API RESPONSE: Returning 3 recommendations
2025-08-29 23:35:32,597 - app.routers.recommendations - INFO - 🚀 [req_1756503332597] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:32,598 - app.routers.recommendations - INFO - 📋 [req_1756503332597] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:35:32,598 - app.routers.recommendations - INFO - ⚖️ [req_1756503332597] Weights: image=0.6, text=0.4
2025-08-29 23:35:32,601 - app.routers.recommendations - INFO - ✅ [req_1756503332597] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:35:32,602 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:35:32,602 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:35:32,602 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:35:32,604 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:35:32,605 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:35:32,606 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:35:32,608 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:35:32,608 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:35:32,608 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:35:32,608 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:32,608 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:32,615 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:35:32,615 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:35:32,615 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:35:32,617 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:32,632 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:35:32,632 - app.services.vector_service - INFO -    1. Facebook Car 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:32,633 - app.services.vector_service - INFO -    2. Facebook Scooter 7 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:32,633 - app.services.vector_service - INFO -    3. Facebook Bike 15 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:32,633 - app.services.vector_service - INFO -    4. Facebook Bus 19 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:32,633 - app.services.vector_service - INFO -    5. Facebook Helicopter 8 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:32,633 - app.services.vector_service - INFO -    6. Facebook Bus 2 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:32,633 - app.services.vector_service - INFO -    7. Facebook Scooter 20 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:32,633 - app.services.vector_service - INFO -    8. Facebook Plane 10 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:32,633 - app.services.vector_service - INFO -    9. Facebook Car 23 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:32,633 - app.services.vector_service - INFO -    10. Facebook Scooter 18 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:32,633 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:35:32,633 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:35:32,633 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:35:32,633 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:35:32,634 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:35:32,635 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:35:32,635 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:35:32,635 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:35:32,636 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:32,636 - app.services.recommendations - INFO - 🚫 Excluding 19 swiped products (liked: 13, disliked: 6)
2025-08-29 23:35:32,636 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:35:32,636 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4569 to 0.5746
2025-08-29 23:35:32,636 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 15 swiped products
2025-08-29 23:35:32,679 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:35:32,680 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Facebook Bus 17:0.8023', 'Facebook Bus 5:0.7988', 'Facebook Plane 3:0.7978']
2025-08-29 23:35:32,680 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:32,680 - app.routers.recommendations - INFO - ✅ [req_1756503332597] SUCCESS: Found 3 recommendations
2025-08-29 23:35:32,680 - app.routers.recommendations - INFO - ⏱️ [req_1756503332597] Processing time: 0.083s
2025-08-29 23:35:32,681 - app.routers.recommendations - INFO - 🏆 [req_1756503332597] Top 1: Facebook Bus 17 (score: 0.8023)
2025-08-29 23:35:32,681 - app.routers.recommendations - INFO - 🏆 [req_1756503332597] Top 2: Facebook Bus 5 (score: 0.7988)
2025-08-29 23:35:32,681 - app.routers.recommendations - INFO - 🏆 [req_1756503332597] Top 3: Facebook Plane 3 (score: 0.7978)
2025-08-29 23:35:32,681 - app.routers.recommendations - INFO - 🎯 [req_1756503332597] API RESPONSE: Returning 3 recommendations
2025-08-29 23:35:37,197 - app.routers.recommendations - INFO - 🚀 [req_1756503337197] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:37,198 - app.routers.recommendations - INFO - 📋 [req_1756503337197] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:35:37,198 - app.routers.recommendations - INFO - ⚖️ [req_1756503337197] Weights: image=0.6, text=0.4
2025-08-29 23:35:37,201 - app.routers.recommendations - INFO - ✅ [req_1756503337197] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:35:37,201 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:35:37,201 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:35:37,202 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:35:37,204 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:35:37,204 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:35:37,206 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:35:37,208 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:35:37,208 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:35:37,208 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:35:37,208 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:37,208 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:37,213 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:35:37,213 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:35:37,213 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:35:37,215 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:37,231 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:35:37,232 - app.services.vector_service - INFO -    1. Facebook Car 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:37,232 - app.services.vector_service - INFO -    2. Facebook Scooter 7 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:37,232 - app.services.vector_service - INFO -    3. Facebook Bike 15 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:37,232 - app.services.vector_service - INFO -    4. Facebook Bus 19 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:37,232 - app.services.vector_service - INFO -    5. Facebook Helicopter 8 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:37,232 - app.services.vector_service - INFO -    6. Facebook Bus 2 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:37,232 - app.services.vector_service - INFO -    7. Facebook Scooter 20 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:37,232 - app.services.vector_service - INFO -    8. Facebook Plane 10 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:37,232 - app.services.vector_service - INFO -    9. Facebook Car 23 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:37,232 - app.services.vector_service - INFO -    10. Facebook Scooter 18 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:37,232 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:35:37,232 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:35:37,232 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:35:37,232 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:35:37,233 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:35:37,233 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:35:37,233 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:35:37,233 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:35:37,234 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:37,234 - app.services.recommendations - INFO - 🚫 Excluding 21 swiped products (liked: 13, disliked: 8)
2025-08-29 23:35:37,234 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:35:37,234 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4569 to 0.5746
2025-08-29 23:35:37,234 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 17 swiped products
2025-08-29 23:35:37,278 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:35:37,278 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Facebook Plane 3:0.7978', 'Facebook Train 21:0.7928', 'Netflix Bike 21:0.7878']
2025-08-29 23:35:37,279 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:37,279 - app.routers.recommendations - INFO - ✅ [req_1756503337197] SUCCESS: Found 3 recommendations
2025-08-29 23:35:37,279 - app.routers.recommendations - INFO - ⏱️ [req_1756503337197] Processing time: 0.082s
2025-08-29 23:35:37,279 - app.routers.recommendations - INFO - 🏆 [req_1756503337197] Top 1: Facebook Plane 3 (score: 0.7978)
2025-08-29 23:35:37,279 - app.routers.recommendations - INFO - 🏆 [req_1756503337197] Top 2: Facebook Train 21 (score: 0.7928)
2025-08-29 23:35:37,279 - app.routers.recommendations - INFO - 🏆 [req_1756503337197] Top 3: Netflix Bike 21 (score: 0.7878)
2025-08-29 23:35:37,279 - app.routers.recommendations - INFO - 🎯 [req_1756503337197] API RESPONSE: Returning 3 recommendations
2025-08-29 23:35:40,696 - app.routers.recommendations - INFO - 🚀 [req_1756503340696] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:40,696 - app.routers.recommendations - INFO - 📋 [req_1756503340696] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:35:40,696 - app.routers.recommendations - INFO - ⚖️ [req_1756503340696] Weights: image=0.6, text=0.4
2025-08-29 23:35:40,698 - app.routers.recommendations - INFO - ✅ [req_1756503340696] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:35:40,699 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:35:40,699 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:35:40,700 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:35:40,701 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:35:40,701 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:35:40,702 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:35:40,703 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:35:40,703 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:35:40,704 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:35:40,704 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:40,704 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:40,707 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:35:40,707 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:35:40,707 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:35:40,709 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:40,723 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:35:40,723 - app.services.vector_service - INFO -    1. Facebook Car 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:40,724 - app.services.vector_service - INFO -    2. Facebook Scooter 7 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:40,724 - app.services.vector_service - INFO -    3. Facebook Bike 15 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:40,724 - app.services.vector_service - INFO -    4. Facebook Bus 19 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:40,724 - app.services.vector_service - INFO -    5. Facebook Helicopter 8 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:40,724 - app.services.vector_service - INFO -    6. Facebook Bus 2 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:40,724 - app.services.vector_service - INFO -    7. Facebook Scooter 20 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:40,724 - app.services.vector_service - INFO -    8. Facebook Plane 10 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:40,724 - app.services.vector_service - INFO -    9. Facebook Car 23 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:40,725 - app.services.vector_service - INFO -    10. Facebook Scooter 18 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:40,725 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:35:40,725 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:35:40,725 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:35:40,725 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:35:40,725 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:35:40,725 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:35:40,726 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:35:40,726 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:35:40,726 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:40,726 - app.services.recommendations - INFO - 🚫 Excluding 23 swiped products (liked: 13, disliked: 10)
2025-08-29 23:35:40,726 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:35:40,726 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4569 to 0.5746
2025-08-29 23:35:40,726 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 19 swiped products
2025-08-29 23:35:40,767 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:35:40,767 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Netflix Bike 21:0.7878', 'Instagram Smartwatch 14:0.7877', 'Twitter Bike 3:0.7838']
2025-08-29 23:35:40,768 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:40,768 - app.routers.recommendations - INFO - ✅ [req_1756503340696] SUCCESS: Found 3 recommendations
2025-08-29 23:35:40,768 - app.routers.recommendations - INFO - ⏱️ [req_1756503340696] Processing time: 0.072s
2025-08-29 23:35:40,768 - app.routers.recommendations - INFO - 🏆 [req_1756503340696] Top 1: Netflix Bike 21 (score: 0.7878)
2025-08-29 23:35:40,768 - app.routers.recommendations - INFO - 🏆 [req_1756503340696] Top 2: Instagram Smartwatch 14 (score: 0.7877)
2025-08-29 23:35:40,768 - app.routers.recommendations - INFO - 🏆 [req_1756503340696] Top 3: Twitter Bike 3 (score: 0.7838)
2025-08-29 23:35:40,768 - app.routers.recommendations - INFO - 🎯 [req_1756503340696] API RESPONSE: Returning 3 recommendations
2025-08-29 23:35:43,961 - app.routers.recommendations - INFO - 🚀 [req_1756503343961] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:43,961 - app.routers.recommendations - INFO - 📋 [req_1756503343961] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:35:43,961 - app.routers.recommendations - INFO - ⚖️ [req_1756503343961] Weights: image=0.6, text=0.4
2025-08-29 23:35:43,963 - app.routers.recommendations - INFO - ✅ [req_1756503343961] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:35:43,964 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:35:43,964 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:35:43,964 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:35:43,966 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:35:43,966 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:35:43,967 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:35:43,969 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:35:43,969 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:35:43,969 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:35:43,969 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:43,969 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:43,973 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:35:43,973 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:35:43,973 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:35:43,975 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:43,988 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:35:43,988 - app.services.vector_service - INFO -    1. Netflix Bike 21 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:43,989 - app.services.vector_service - INFO -    2. Facebook Car 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:43,989 - app.services.vector_service - INFO -    3. Facebook Scooter 7 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:43,989 - app.services.vector_service - INFO -    4. Facebook Bike 15 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:43,989 - app.services.vector_service - INFO -    5. Facebook Bus 19 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:43,989 - app.services.vector_service - INFO -    6. Facebook Helicopter 8 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:43,989 - app.services.vector_service - INFO -    7. Facebook Bus 2 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:43,989 - app.services.vector_service - INFO -    8. Facebook Scooter 20 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:43,989 - app.services.vector_service - INFO -    9. Facebook Plane 10 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:43,989 - app.services.vector_service - INFO -    10. Facebook Car 23 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:43,989 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:35:43,989 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:35:43,989 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:35:43,989 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:35:43,990 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:35:43,990 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:35:43,991 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:35:43,991 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:35:43,991 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:43,991 - app.services.recommendations - INFO - 🚫 Excluding 25 swiped products (liked: 14, disliked: 11)
2025-08-29 23:35:43,991 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:35:43,991 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4550 to 0.5696
2025-08-29 23:35:43,991 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 21 swiped products
2025-08-29 23:35:44,028 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:35:44,028 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Netflix Scooter 11:0.7957', 'Twitter Bike 3:0.7942', 'Airbnb Smartwatch 13:0.7926']
2025-08-29 23:35:44,029 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:44,029 - app.routers.recommendations - INFO - ✅ [req_1756503343961] SUCCESS: Found 3 recommendations
2025-08-29 23:35:44,029 - app.routers.recommendations - INFO - ⏱️ [req_1756503343961] Processing time: 0.068s
2025-08-29 23:35:44,029 - app.routers.recommendations - INFO - 🏆 [req_1756503343961] Top 1: Netflix Scooter 11 (score: 0.7957)
2025-08-29 23:35:44,029 - app.routers.recommendations - INFO - 🏆 [req_1756503343961] Top 2: Twitter Bike 3 (score: 0.7942)
2025-08-29 23:35:44,029 - app.routers.recommendations - INFO - 🏆 [req_1756503343961] Top 3: Airbnb Smartwatch 13 (score: 0.7926)
2025-08-29 23:35:44,029 - app.routers.recommendations - INFO - 🎯 [req_1756503343961] API RESPONSE: Returning 3 recommendations
2025-08-29 23:35:46,829 - app.routers.recommendations - INFO - 🚀 [req_1756503346828] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:46,829 - app.routers.recommendations - INFO - 📋 [req_1756503346828] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:35:46,829 - app.routers.recommendations - INFO - ⚖️ [req_1756503346828] Weights: image=0.6, text=0.4
2025-08-29 23:35:46,831 - app.routers.recommendations - INFO - ✅ [req_1756503346828] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:35:46,831 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:35:46,831 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:35:46,831 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:35:46,833 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:35:46,833 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:35:46,834 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:35:46,836 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:35:46,836 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:35:46,836 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:35:46,836 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:46,836 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:46,839 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:35:46,839 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:35:46,839 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:35:46,840 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:46,854 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:35:46,855 - app.services.vector_service - INFO -    1. Netflix Scooter 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:46,855 - app.services.vector_service - INFO -    2. Netflix Bike 21 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:46,855 - app.services.vector_service - INFO -    3. Facebook Car 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:46,855 - app.services.vector_service - INFO -    4. Facebook Scooter 7 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:46,855 - app.services.vector_service - INFO -    5. Facebook Bike 15 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:46,855 - app.services.vector_service - INFO -    6. Facebook Bus 19 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:46,855 - app.services.vector_service - INFO -    7. Facebook Helicopter 8 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:46,855 - app.services.vector_service - INFO -    8. Facebook Bus 2 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:46,855 - app.services.vector_service - INFO -    9. Facebook Scooter 20 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:46,855 - app.services.vector_service - INFO -    10. Facebook Plane 10 (swiped: 2025-08-29 21:34)
2025-08-29 23:35:46,855 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:35:46,855 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:35:46,856 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:35:46,856 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:35:46,856 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:35:46,857 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:35:46,858 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:35:46,858 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:35:46,858 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:46,858 - app.services.recommendations - INFO - 🚫 Excluding 27 swiped products (liked: 15, disliked: 12)
2025-08-29 23:35:46,858 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:35:46,859 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4565 to 0.5663
2025-08-29 23:35:46,859 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 23 swiped products
2025-08-29 23:35:46,899 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:35:46,899 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Netflix Train 4:0.8001', 'Netflix Bus 13:0.7998', 'Adidas Plane 16:0.7964']
2025-08-29 23:35:46,900 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:46,900 - app.routers.recommendations - INFO - ✅ [req_1756503346828] SUCCESS: Found 3 recommendations
2025-08-29 23:35:46,900 - app.routers.recommendations - INFO - ⏱️ [req_1756503346828] Processing time: 0.071s
2025-08-29 23:35:46,900 - app.routers.recommendations - INFO - 🏆 [req_1756503346828] Top 1: Netflix Train 4 (score: 0.8001)
2025-08-29 23:35:46,900 - app.routers.recommendations - INFO - 🏆 [req_1756503346828] Top 2: Netflix Bus 13 (score: 0.7998)
2025-08-29 23:35:46,900 - app.routers.recommendations - INFO - 🏆 [req_1756503346828] Top 3: Adidas Plane 16 (score: 0.7964)
2025-08-29 23:35:46,900 - app.routers.recommendations - INFO - 🎯 [req_1756503346828] API RESPONSE: Returning 3 recommendations
2025-08-29 23:35:50,263 - app.routers.recommendations - INFO - 🚀 [req_1756503350263] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:50,264 - app.routers.recommendations - INFO - 📋 [req_1756503350263] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:35:50,264 - app.routers.recommendations - INFO - ⚖️ [req_1756503350263] Weights: image=0.6, text=0.4
2025-08-29 23:35:50,266 - app.routers.recommendations - INFO - ✅ [req_1756503350263] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:35:50,266 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:35:50,266 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:35:50,267 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:35:50,268 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:35:50,269 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:35:50,270 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:35:50,271 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:35:50,271 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:35:50,271 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:35:50,271 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:50,271 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:50,275 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:35:50,275 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:35:50,275 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:35:50,277 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:50,291 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:35:50,291 - app.services.vector_service - INFO -    1. Netflix Bus 13 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:50,291 - app.services.vector_service - INFO -    2. Netflix Train 4 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:50,291 - app.services.vector_service - INFO -    3. Netflix Scooter 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:50,291 - app.services.vector_service - INFO -    4. Netflix Bike 21 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:50,291 - app.services.vector_service - INFO -    5. Facebook Car 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:50,291 - app.services.vector_service - INFO -    6. Facebook Scooter 7 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:50,291 - app.services.vector_service - INFO -    7. Facebook Bike 15 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:50,291 - app.services.vector_service - INFO -    8. Facebook Bus 19 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:50,291 - app.services.vector_service - INFO -    9. Facebook Helicopter 8 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:50,291 - app.services.vector_service - INFO -    10. Facebook Bus 2 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:50,291 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:35:50,291 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:35:50,292 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:35:50,292 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:35:50,292 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:35:50,292 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:35:50,293 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:35:50,293 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:35:50,293 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:50,293 - app.services.recommendations - INFO - 🚫 Excluding 30 swiped products (liked: 17, disliked: 13)
2025-08-29 23:35:50,293 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:35:50,294 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4542 to 0.5372
2025-08-29 23:35:50,294 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 26 swiped products
2025-08-29 23:35:50,331 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:35:50,331 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Netflix Bus 26:0.8310', 'Netflix Car 22:0.8063', 'Netflix Car 16:0.7972']
2025-08-29 23:35:50,332 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:50,332 - app.routers.recommendations - INFO - ✅ [req_1756503350263] SUCCESS: Found 3 recommendations
2025-08-29 23:35:50,332 - app.routers.recommendations - INFO - ⏱️ [req_1756503350263] Processing time: 0.069s
2025-08-29 23:35:50,332 - app.routers.recommendations - INFO - 🏆 [req_1756503350263] Top 1: Netflix Bus 26 (score: 0.8310)
2025-08-29 23:35:50,332 - app.routers.recommendations - INFO - 🏆 [req_1756503350263] Top 2: Netflix Car 22 (score: 0.8063)
2025-08-29 23:35:50,332 - app.routers.recommendations - INFO - 🏆 [req_1756503350263] Top 3: Netflix Car 16 (score: 0.7972)
2025-08-29 23:35:50,332 - app.routers.recommendations - INFO - 🎯 [req_1756503350263] API RESPONSE: Returning 3 recommendations
2025-08-29 23:35:53,348 - app.routers.recommendations - INFO - 🚀 [req_1756503353348] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:53,348 - app.routers.recommendations - INFO - 📋 [req_1756503353348] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:35:53,348 - app.routers.recommendations - INFO - ⚖️ [req_1756503353348] Weights: image=0.6, text=0.4
2025-08-29 23:35:53,351 - app.routers.recommendations - INFO - ✅ [req_1756503353348] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:35:53,351 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:35:53,351 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:35:53,352 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:35:53,354 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:35:53,354 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:35:53,356 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:35:53,357 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:35:53,358 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:35:53,358 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:35:53,358 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:53,358 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:53,363 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:35:53,364 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:35:53,364 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:35:53,365 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:53,378 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:35:53,378 - app.services.vector_service - INFO -    1. Netflix Car 22 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:53,378 - app.services.vector_service - INFO -    2. Netflix Bus 26 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:53,378 - app.services.vector_service - INFO -    3. Netflix Bus 13 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:53,378 - app.services.vector_service - INFO -    4. Netflix Train 4 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:53,378 - app.services.vector_service - INFO -    5. Netflix Scooter 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:53,379 - app.services.vector_service - INFO -    6. Netflix Bike 21 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:53,379 - app.services.vector_service - INFO -    7. Facebook Car 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:53,379 - app.services.vector_service - INFO -    8. Facebook Scooter 7 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:53,379 - app.services.vector_service - INFO -    9. Facebook Bike 15 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:53,379 - app.services.vector_service - INFO -    10. Facebook Bus 19 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:53,379 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:35:53,379 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:35:53,379 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:35:53,379 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:35:53,380 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:35:53,380 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:35:53,381 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:35:53,381 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:35:53,381 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:53,381 - app.services.recommendations - INFO - 🚫 Excluding 33 swiped products (liked: 19, disliked: 14)
2025-08-29 23:35:53,381 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:35:53,381 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4607 to 0.5385
2025-08-29 23:35:53,382 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 28 swiped products
2025-08-29 23:35:53,430 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:35:53,430 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Netflix Train 6:0.8249', 'Netflix Car 16:0.8230', 'Netflix Train 23:0.8141']
2025-08-29 23:35:53,431 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:53,431 - app.routers.recommendations - INFO - ✅ [req_1756503353348] SUCCESS: Found 3 recommendations
2025-08-29 23:35:53,431 - app.routers.recommendations - INFO - ⏱️ [req_1756503353348] Processing time: 0.083s
2025-08-29 23:35:53,431 - app.routers.recommendations - INFO - 🏆 [req_1756503353348] Top 1: Netflix Train 6 (score: 0.8249)
2025-08-29 23:35:53,431 - app.routers.recommendations - INFO - 🏆 [req_1756503353348] Top 2: Netflix Car 16 (score: 0.8230)
2025-08-29 23:35:53,431 - app.routers.recommendations - INFO - 🏆 [req_1756503353348] Top 3: Netflix Train 23 (score: 0.8141)
2025-08-29 23:35:53,431 - app.routers.recommendations - INFO - 🎯 [req_1756503353348] API RESPONSE: Returning 3 recommendations
2025-08-29 23:35:56,461 - app.routers.recommendations - INFO - 🚀 [req_1756503356461] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:56,461 - app.routers.recommendations - INFO - 📋 [req_1756503356461] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:35:56,462 - app.routers.recommendations - INFO - ⚖️ [req_1756503356461] Weights: image=0.6, text=0.4
2025-08-29 23:35:56,464 - app.routers.recommendations - INFO - ✅ [req_1756503356461] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:35:56,465 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:35:56,465 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:35:56,465 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:35:56,467 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:35:56,468 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:35:56,469 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:35:56,471 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:35:56,471 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:35:56,471 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:35:56,471 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:56,471 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:56,478 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:35:56,478 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:35:56,479 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:35:56,481 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:56,495 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:35:56,495 - app.services.vector_service - INFO -    1. Netflix Train 6 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:56,495 - app.services.vector_service - INFO -    2. Netflix Car 16 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:56,495 - app.services.vector_service - INFO -    3. Netflix Car 22 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:56,495 - app.services.vector_service - INFO -    4. Netflix Bus 26 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:56,495 - app.services.vector_service - INFO -    5. Netflix Bus 13 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:56,495 - app.services.vector_service - INFO -    6. Netflix Train 4 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:56,495 - app.services.vector_service - INFO -    7. Netflix Scooter 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:56,495 - app.services.vector_service - INFO -    8. Netflix Bike 21 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:56,495 - app.services.vector_service - INFO -    9. Facebook Car 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:56,495 - app.services.vector_service - INFO -    10. Facebook Scooter 7 (swiped: 2025-08-29 21:35)
2025-08-29 23:35:56,495 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:35:56,495 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:35:56,496 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:35:56,496 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:35:56,496 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:35:56,497 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:35:56,497 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:35:56,497 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:35:56,497 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:56,497 - app.services.recommendations - INFO - 🚫 Excluding 35 swiped products (liked: 21, disliked: 14)
2025-08-29 23:35:56,498 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:35:56,498 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4611 to 0.5476
2025-08-29 23:35:56,498 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 23 swiped products
2025-08-29 23:35:56,539 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:35:56,539 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Netflix Train 23:0.8351', 'Netflix Bus 29:0.8135', 'Netflix Boat 9:0.8132']
2025-08-29 23:35:56,539 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:35:56,540 - app.routers.recommendations - INFO - ✅ [req_1756503356461] SUCCESS: Found 3 recommendations
2025-08-29 23:35:56,540 - app.routers.recommendations - INFO - ⏱️ [req_1756503356461] Processing time: 0.079s
2025-08-29 23:35:56,540 - app.routers.recommendations - INFO - 🏆 [req_1756503356461] Top 1: Netflix Train 23 (score: 0.8351)
2025-08-29 23:35:56,540 - app.routers.recommendations - INFO - 🏆 [req_1756503356461] Top 2: Netflix Bus 29 (score: 0.8135)
2025-08-29 23:35:56,540 - app.routers.recommendations - INFO - 🏆 [req_1756503356461] Top 3: Netflix Boat 9 (score: 0.8132)
2025-08-29 23:35:56,540 - app.routers.recommendations - INFO - 🎯 [req_1756503356461] API RESPONSE: Returning 3 recommendations
2025-08-29 23:36:00,431 - app.routers.recommendations - INFO - 🚀 [req_1756503360431] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:00,431 - app.routers.recommendations - INFO - 📋 [req_1756503360431] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:36:00,431 - app.routers.recommendations - INFO - ⚖️ [req_1756503360431] Weights: image=0.6, text=0.4
2025-08-29 23:36:00,435 - app.routers.recommendations - INFO - ✅ [req_1756503360431] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:36:00,435 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:36:00,435 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:36:00,436 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:36:00,438 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:36:00,438 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:36:00,440 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:36:00,441 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:36:00,442 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:36:00,442 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:36:00,442 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:00,442 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:00,465 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:36:00,465 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:36:00,465 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:36:00,467 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:00,476 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:36:00,476 - app.services.vector_service - INFO -    1. Netflix Train 6 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:00,476 - app.services.vector_service - INFO -    2. Netflix Car 16 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:00,476 - app.services.vector_service - INFO -    3. Netflix Car 22 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:00,476 - app.services.vector_service - INFO -    4. Netflix Bus 26 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:00,476 - app.services.vector_service - INFO -    5. Netflix Bus 13 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:00,476 - app.services.vector_service - INFO -    6. Netflix Train 4 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:00,476 - app.services.vector_service - INFO -    7. Netflix Scooter 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:00,476 - app.services.vector_service - INFO -    8. Netflix Bike 21 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:00,476 - app.services.vector_service - INFO -    9. Facebook Car 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:00,476 - app.services.vector_service - INFO -    10. Facebook Scooter 7 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:00,476 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:36:00,477 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:36:00,477 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:36:00,477 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:36:00,477 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:36:00,478 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:36:00,478 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:36:00,478 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:36:00,479 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:00,479 - app.services.recommendations - INFO - 🚫 Excluding 37 swiped products (liked: 21, disliked: 16)
2025-08-29 23:36:00,479 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:36:00,479 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4611 to 0.5476
2025-08-29 23:36:00,479 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 26 swiped products
2025-08-29 23:36:00,516 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:36:00,516 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Netflix Boat 9:0.8132', 'Netflix Car 19:0.8064', 'Netflix Plane 12:0.8022']
2025-08-29 23:36:00,517 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:00,517 - app.routers.recommendations - INFO - ✅ [req_1756503360431] SUCCESS: Found 3 recommendations
2025-08-29 23:36:00,517 - app.routers.recommendations - INFO - ⏱️ [req_1756503360431] Processing time: 0.086s
2025-08-29 23:36:00,517 - app.routers.recommendations - INFO - 🏆 [req_1756503360431] Top 1: Netflix Boat 9 (score: 0.8132)
2025-08-29 23:36:00,517 - app.routers.recommendations - INFO - 🏆 [req_1756503360431] Top 2: Netflix Car 19 (score: 0.8064)
2025-08-29 23:36:00,517 - app.routers.recommendations - INFO - 🏆 [req_1756503360431] Top 3: Netflix Plane 12 (score: 0.8022)
2025-08-29 23:36:00,517 - app.routers.recommendations - INFO - 🎯 [req_1756503360431] API RESPONSE: Returning 3 recommendations
2025-08-29 23:36:03,481 - app.routers.recommendations - INFO - 🚀 [req_1756503363481] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:03,482 - app.routers.recommendations - INFO - 📋 [req_1756503363481] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:36:03,482 - app.routers.recommendations - INFO - ⚖️ [req_1756503363481] Weights: image=0.6, text=0.4
2025-08-29 23:36:03,485 - app.routers.recommendations - INFO - ✅ [req_1756503363481] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:36:03,485 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:36:03,485 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:36:03,488 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:36:03,490 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:36:03,491 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:36:03,492 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:36:03,494 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:36:03,494 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:36:03,494 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:36:03,494 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:03,494 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:03,499 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:36:03,499 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:36:03,499 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:36:03,501 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:03,514 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:36:03,514 - app.services.vector_service - INFO -    1. Netflix Train 6 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:03,514 - app.services.vector_service - INFO -    2. Netflix Car 16 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:03,514 - app.services.vector_service - INFO -    3. Netflix Car 22 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:03,514 - app.services.vector_service - INFO -    4. Netflix Bus 26 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:03,514 - app.services.vector_service - INFO -    5. Netflix Bus 13 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:03,515 - app.services.vector_service - INFO -    6. Netflix Train 4 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:03,515 - app.services.vector_service - INFO -    7. Netflix Scooter 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:03,515 - app.services.vector_service - INFO -    8. Netflix Bike 21 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:03,515 - app.services.vector_service - INFO -    9. Facebook Car 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:03,515 - app.services.vector_service - INFO -    10. Facebook Scooter 7 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:03,515 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:36:03,515 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:36:03,515 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:36:03,515 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:36:03,515 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:36:03,516 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:36:03,516 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:36:03,516 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:36:03,517 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:03,517 - app.services.recommendations - INFO - 🚫 Excluding 39 swiped products (liked: 21, disliked: 18)
2025-08-29 23:36:03,517 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:36:03,517 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4611 to 0.5476
2025-08-29 23:36:03,517 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 29 swiped products
2025-08-29 23:36:03,558 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:36:03,558 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Netflix Plane 12:0.8022', 'Netflix Train 20:0.8018', 'Netflix Bike 25:0.7952']
2025-08-29 23:36:03,559 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:03,559 - app.routers.recommendations - INFO - ✅ [req_1756503363481] SUCCESS: Found 3 recommendations
2025-08-29 23:36:03,559 - app.routers.recommendations - INFO - ⏱️ [req_1756503363481] Processing time: 0.078s
2025-08-29 23:36:03,559 - app.routers.recommendations - INFO - 🏆 [req_1756503363481] Top 1: Netflix Plane 12 (score: 0.8022)
2025-08-29 23:36:03,559 - app.routers.recommendations - INFO - 🏆 [req_1756503363481] Top 2: Netflix Train 20 (score: 0.8018)
2025-08-29 23:36:03,559 - app.routers.recommendations - INFO - 🏆 [req_1756503363481] Top 3: Netflix Bike 25 (score: 0.7952)
2025-08-29 23:36:03,559 - app.routers.recommendations - INFO - 🎯 [req_1756503363481] API RESPONSE: Returning 3 recommendations
2025-08-29 23:36:06,446 - app.routers.recommendations - INFO - 🚀 [req_1756503366446] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:06,447 - app.routers.recommendations - INFO - 📋 [req_1756503366446] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:36:06,447 - app.routers.recommendations - INFO - ⚖️ [req_1756503366446] Weights: image=0.6, text=0.4
2025-08-29 23:36:06,450 - app.routers.recommendations - INFO - ✅ [req_1756503366446] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:36:06,450 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:36:06,450 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:36:06,451 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:36:06,453 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:36:06,453 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:36:06,455 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:36:06,456 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:36:06,456 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:36:06,456 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:36:06,457 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:06,457 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:06,463 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:36:06,463 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:36:06,463 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:36:06,464 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:06,476 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:36:06,476 - app.services.vector_service - INFO -    1. Netflix Train 6 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:06,477 - app.services.vector_service - INFO -    2. Netflix Car 16 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:06,477 - app.services.vector_service - INFO -    3. Netflix Car 22 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:06,477 - app.services.vector_service - INFO -    4. Netflix Bus 26 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:06,477 - app.services.vector_service - INFO -    5. Netflix Bus 13 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:06,477 - app.services.vector_service - INFO -    6. Netflix Train 4 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:06,477 - app.services.vector_service - INFO -    7. Netflix Scooter 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:06,477 - app.services.vector_service - INFO -    8. Netflix Bike 21 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:06,477 - app.services.vector_service - INFO -    9. Facebook Car 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:06,477 - app.services.vector_service - INFO -    10. Facebook Scooter 7 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:06,477 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:36:06,477 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:36:06,477 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:36:06,477 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:36:06,478 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:36:06,478 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:36:06,479 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:36:06,479 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:36:06,479 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:06,479 - app.services.recommendations - INFO - 🚫 Excluding 41 swiped products (liked: 21, disliked: 20)
2025-08-29 23:36:06,479 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:36:06,479 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4611 to 0.5476
2025-08-29 23:36:06,481 - app.services.vector_service - INFO - 📊 Found 29 candidate products after excluding 31 swiped products
2025-08-29 23:36:06,520 - app.services.vector_service - INFO - 🚀 FAISS search found 29 products
2025-08-29 23:36:06,520 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Netflix Bike 25:0.7952', 'Netflix Boat 18:0.7928', 'Netflix Bike 7:0.7917']
2025-08-29 23:36:06,521 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:06,521 - app.routers.recommendations - INFO - ✅ [req_1756503366446] SUCCESS: Found 3 recommendations
2025-08-29 23:36:06,521 - app.routers.recommendations - INFO - ⏱️ [req_1756503366446] Processing time: 0.075s
2025-08-29 23:36:06,521 - app.routers.recommendations - INFO - 🏆 [req_1756503366446] Top 1: Netflix Bike 25 (score: 0.7952)
2025-08-29 23:36:06,521 - app.routers.recommendations - INFO - 🏆 [req_1756503366446] Top 2: Netflix Boat 18 (score: 0.7928)
2025-08-29 23:36:06,521 - app.routers.recommendations - INFO - 🏆 [req_1756503366446] Top 3: Netflix Bike 7 (score: 0.7917)
2025-08-29 23:36:06,521 - app.routers.recommendations - INFO - 🎯 [req_1756503366446] API RESPONSE: Returning 3 recommendations
2025-08-29 23:36:08,629 - app.routers.recommendations - INFO - 🚀 [req_1756503368629] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:08,630 - app.routers.recommendations - INFO - 📋 [req_1756503368629] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:36:08,630 - app.routers.recommendations - INFO - ⚖️ [req_1756503368629] Weights: image=0.6, text=0.4
2025-08-29 23:36:08,633 - app.routers.recommendations - INFO - ✅ [req_1756503368629] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:36:08,633 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:36:08,633 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:36:08,633 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:36:08,635 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:36:08,635 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:36:08,637 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:36:08,638 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:36:08,638 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:36:08,639 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:36:08,639 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:08,639 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:08,646 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:36:08,646 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:36:08,646 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:36:08,648 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:08,661 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:36:08,661 - app.services.vector_service - INFO -    1. Netflix Train 6 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:08,662 - app.services.vector_service - INFO -    2. Netflix Car 16 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:08,662 - app.services.vector_service - INFO -    3. Netflix Car 22 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:08,662 - app.services.vector_service - INFO -    4. Netflix Bus 26 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:08,662 - app.services.vector_service - INFO -    5. Netflix Bus 13 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:08,662 - app.services.vector_service - INFO -    6. Netflix Train 4 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:08,662 - app.services.vector_service - INFO -    7. Netflix Scooter 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:08,662 - app.services.vector_service - INFO -    8. Netflix Bike 21 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:08,662 - app.services.vector_service - INFO -    9. Facebook Car 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:08,662 - app.services.vector_service - INFO -    10. Facebook Scooter 7 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:08,662 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:36:08,663 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:36:08,663 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:36:08,663 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:36:08,663 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:36:08,664 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:36:08,665 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:36:08,665 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:36:08,665 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:08,665 - app.services.recommendations - INFO - 🚫 Excluding 43 swiped products (liked: 21, disliked: 22)
2025-08-29 23:36:08,666 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:36:08,666 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4611 to 0.5476
2025-08-29 23:36:08,666 - app.services.vector_service - INFO - 📊 Found 27 candidate products after excluding 33 swiped products
2025-08-29 23:36:08,692 - app.services.vector_service - INFO - 🚀 FAISS search found 27 products
2025-08-29 23:36:08,692 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Netflix Bike 7:0.7917', 'Netflix Car 30:0.7907', 'Netflix Scooter 2:0.7907']
2025-08-29 23:36:08,693 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:08,693 - app.routers.recommendations - INFO - ✅ [req_1756503368629] SUCCESS: Found 3 recommendations
2025-08-29 23:36:08,693 - app.routers.recommendations - INFO - ⏱️ [req_1756503368629] Processing time: 0.063s
2025-08-29 23:36:08,693 - app.routers.recommendations - INFO - 🏆 [req_1756503368629] Top 1: Netflix Bike 7 (score: 0.7917)
2025-08-29 23:36:08,693 - app.routers.recommendations - INFO - 🏆 [req_1756503368629] Top 2: Netflix Car 30 (score: 0.7907)
2025-08-29 23:36:08,693 - app.routers.recommendations - INFO - 🏆 [req_1756503368629] Top 3: Netflix Scooter 2 (score: 0.7907)
2025-08-29 23:36:08,693 - app.routers.recommendations - INFO - 🎯 [req_1756503368629] API RESPONSE: Returning 3 recommendations
2025-08-29 23:36:10,064 - app.routers.recommendations - INFO - 🚀 [req_1756503370064] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:10,065 - app.routers.recommendations - INFO - 📋 [req_1756503370064] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:36:10,065 - app.routers.recommendations - INFO - ⚖️ [req_1756503370064] Weights: image=0.6, text=0.4
2025-08-29 23:36:10,068 - app.routers.recommendations - INFO - ✅ [req_1756503370064] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:36:10,068 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:36:10,068 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:36:10,069 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:36:10,071 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:36:10,071 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:36:10,073 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:36:10,075 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:36:10,075 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:36:10,075 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:36:10,076 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:10,076 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:10,080 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:36:10,081 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:36:10,081 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:36:10,083 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:10,098 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:36:10,098 - app.services.vector_service - INFO -    1. Netflix Train 6 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:10,098 - app.services.vector_service - INFO -    2. Netflix Car 16 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:10,098 - app.services.vector_service - INFO -    3. Netflix Car 22 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:10,098 - app.services.vector_service - INFO -    4. Netflix Bus 26 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:10,098 - app.services.vector_service - INFO -    5. Netflix Bus 13 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:10,098 - app.services.vector_service - INFO -    6. Netflix Train 4 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:10,098 - app.services.vector_service - INFO -    7. Netflix Scooter 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:10,098 - app.services.vector_service - INFO -    8. Netflix Bike 21 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:10,098 - app.services.vector_service - INFO -    9. Facebook Car 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:10,098 - app.services.vector_service - INFO -    10. Facebook Scooter 7 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:10,098 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:36:10,098 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:36:10,098 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:36:10,098 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:36:10,099 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:36:10,099 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:36:10,100 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:36:10,100 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:36:10,100 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:10,100 - app.services.recommendations - INFO - 🚫 Excluding 45 swiped products (liked: 21, disliked: 24)
2025-08-29 23:36:10,101 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:36:10,101 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4611 to 0.5476
2025-08-29 23:36:10,101 - app.services.vector_service - INFO - 📊 Found 25 candidate products after excluding 35 swiped products
2025-08-29 23:36:10,134 - app.services.vector_service - INFO - 🚀 FAISS search found 25 products
2025-08-29 23:36:10,134 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Netflix Scooter 2:0.7907', 'Netflix Plane 24:0.7875', 'Netflix Car 8:0.7838']
2025-08-29 23:36:10,135 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:10,135 - app.routers.recommendations - INFO - ✅ [req_1756503370064] SUCCESS: Found 3 recommendations
2025-08-29 23:36:10,135 - app.routers.recommendations - INFO - ⏱️ [req_1756503370064] Processing time: 0.071s
2025-08-29 23:36:10,135 - app.routers.recommendations - INFO - 🏆 [req_1756503370064] Top 1: Netflix Scooter 2 (score: 0.7907)
2025-08-29 23:36:10,135 - app.routers.recommendations - INFO - 🏆 [req_1756503370064] Top 2: Netflix Plane 24 (score: 0.7875)
2025-08-29 23:36:10,135 - app.routers.recommendations - INFO - 🏆 [req_1756503370064] Top 3: Netflix Car 8 (score: 0.7838)
2025-08-29 23:36:10,135 - app.routers.recommendations - INFO - 🎯 [req_1756503370064] API RESPONSE: Returning 3 recommendations
2025-08-29 23:36:13,184 - app.routers.recommendations - INFO - 🚀 [req_1756503373183] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:13,184 - app.routers.recommendations - INFO - 📋 [req_1756503373183] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:36:13,184 - app.routers.recommendations - INFO - ⚖️ [req_1756503373183] Weights: image=0.6, text=0.4
2025-08-29 23:36:13,188 - app.routers.recommendations - INFO - ✅ [req_1756503373183] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:36:13,188 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:36:13,188 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:36:13,189 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:36:13,191 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:36:13,191 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:36:13,193 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:36:13,194 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:36:13,194 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:36:13,194 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:36:13,194 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:13,194 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:13,201 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:36:13,201 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:36:13,201 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:36:13,203 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:13,215 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:36:13,215 - app.services.vector_service - INFO -    1. Netflix Train 6 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:13,215 - app.services.vector_service - INFO -    2. Netflix Car 16 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:13,215 - app.services.vector_service - INFO -    3. Netflix Car 22 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:13,215 - app.services.vector_service - INFO -    4. Netflix Bus 26 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:13,216 - app.services.vector_service - INFO -    5. Netflix Bus 13 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:13,216 - app.services.vector_service - INFO -    6. Netflix Train 4 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:13,216 - app.services.vector_service - INFO -    7. Netflix Scooter 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:13,216 - app.services.vector_service - INFO -    8. Netflix Bike 21 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:13,216 - app.services.vector_service - INFO -    9. Facebook Car 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:13,216 - app.services.vector_service - INFO -    10. Facebook Scooter 7 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:13,216 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:36:13,216 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:36:13,216 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:36:13,216 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:36:13,216 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:36:13,217 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:36:13,217 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:36:13,217 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:36:13,217 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:13,217 - app.services.recommendations - INFO - 🚫 Excluding 47 swiped products (liked: 21, disliked: 26)
2025-08-29 23:36:13,217 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:36:13,218 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4611 to 0.5476
2025-08-29 23:36:13,218 - app.services.vector_service - INFO - 📊 Found 23 candidate products after excluding 37 swiped products
2025-08-29 23:36:13,245 - app.services.vector_service - INFO - 🚀 FAISS search found 23 products
2025-08-29 23:36:13,245 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Netflix Car 8:0.7838', 'Netflix Boat 1:0.7807', 'YouTube Coffee 11:0.7784']
2025-08-29 23:36:13,246 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:13,246 - app.routers.recommendations - INFO - ✅ [req_1756503373183] SUCCESS: Found 3 recommendations
2025-08-29 23:36:13,246 - app.routers.recommendations - INFO - ⏱️ [req_1756503373183] Processing time: 0.062s
2025-08-29 23:36:13,246 - app.routers.recommendations - INFO - 🏆 [req_1756503373183] Top 1: Netflix Car 8 (score: 0.7838)
2025-08-29 23:36:13,246 - app.routers.recommendations - INFO - 🏆 [req_1756503373183] Top 2: Netflix Boat 1 (score: 0.7807)
2025-08-29 23:36:13,246 - app.routers.recommendations - INFO - 🏆 [req_1756503373183] Top 3: YouTube Coffee 11 (score: 0.7784)
2025-08-29 23:36:13,246 - app.routers.recommendations - INFO - 🎯 [req_1756503373183] API RESPONSE: Returning 3 recommendations
2025-08-29 23:36:15,897 - app.routers.recommendations - INFO - 🚀 [req_1756503375897] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:15,897 - app.routers.recommendations - INFO - 📋 [req_1756503375897] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:36:15,897 - app.routers.recommendations - INFO - ⚖️ [req_1756503375897] Weights: image=0.6, text=0.4
2025-08-29 23:36:15,900 - app.routers.recommendations - INFO - ✅ [req_1756503375897] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:36:15,900 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:36:15,900 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:36:15,901 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:36:15,902 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:36:15,903 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:36:15,905 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:36:15,906 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:36:15,906 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:36:15,906 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:36:15,906 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:15,907 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:15,912 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:36:15,912 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:36:15,913 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:36:15,914 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:15,926 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:36:15,926 - app.services.vector_service - INFO -    1. Netflix Train 6 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:15,926 - app.services.vector_service - INFO -    2. Netflix Car 16 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:15,926 - app.services.vector_service - INFO -    3. Netflix Car 22 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:15,926 - app.services.vector_service - INFO -    4. Netflix Bus 26 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:15,926 - app.services.vector_service - INFO -    5. Netflix Bus 13 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:15,926 - app.services.vector_service - INFO -    6. Netflix Train 4 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:15,926 - app.services.vector_service - INFO -    7. Netflix Scooter 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:15,926 - app.services.vector_service - INFO -    8. Netflix Bike 21 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:15,926 - app.services.vector_service - INFO -    9. Facebook Car 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:15,926 - app.services.vector_service - INFO -    10. Facebook Scooter 7 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:15,926 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:36:15,926 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:36:15,927 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:36:15,927 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:36:15,927 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:36:15,928 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:36:15,929 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:36:15,929 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:36:15,929 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:15,929 - app.services.recommendations - INFO - 🚫 Excluding 49 swiped products (liked: 21, disliked: 28)
2025-08-29 23:36:15,929 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:36:15,929 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4611 to 0.5476
2025-08-29 23:36:15,929 - app.services.vector_service - INFO - 📊 Found 21 candidate products after excluding 39 swiped products
2025-08-29 23:36:15,960 - app.services.vector_service - INFO - 🚀 FAISS search found 21 products
2025-08-29 23:36:15,960 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['YouTube Coffee 11:0.7784', 'Netflix Boat 5:0.7777', 'Netflix Train 28:0.7775']
2025-08-29 23:36:15,960 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:15,960 - app.routers.recommendations - INFO - ✅ [req_1756503375897] SUCCESS: Found 3 recommendations
2025-08-29 23:36:15,960 - app.routers.recommendations - INFO - ⏱️ [req_1756503375897] Processing time: 0.064s
2025-08-29 23:36:15,960 - app.routers.recommendations - INFO - 🏆 [req_1756503375897] Top 1: YouTube Coffee 11 (score: 0.7784)
2025-08-29 23:36:15,960 - app.routers.recommendations - INFO - 🏆 [req_1756503375897] Top 2: Netflix Boat 5 (score: 0.7777)
2025-08-29 23:36:15,960 - app.routers.recommendations - INFO - 🏆 [req_1756503375897] Top 3: Netflix Train 28 (score: 0.7775)
2025-08-29 23:36:15,961 - app.routers.recommendations - INFO - 🎯 [req_1756503375897] API RESPONSE: Returning 3 recommendations
2025-08-29 23:36:19,380 - app.routers.recommendations - INFO - 🚀 [req_1756503379380] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:19,380 - app.routers.recommendations - INFO - 📋 [req_1756503379380] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:36:19,380 - app.routers.recommendations - INFO - ⚖️ [req_1756503379380] Weights: image=0.6, text=0.4
2025-08-29 23:36:19,381 - app.routers.recommendations - INFO - ✅ [req_1756503379380] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:36:19,381 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:36:19,382 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:36:19,382 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:36:19,383 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:36:19,383 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:36:19,383 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:36:19,384 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:36:19,385 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:36:19,385 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:36:19,385 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:19,385 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:19,388 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:36:19,389 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:36:19,389 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:36:19,390 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:19,401 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:36:19,401 - app.services.vector_service - INFO -    1. YouTube Coffee 11 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:19,401 - app.services.vector_service - INFO -    2. Netflix Train 6 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:19,401 - app.services.vector_service - INFO -    3. Netflix Car 16 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:19,401 - app.services.vector_service - INFO -    4. Netflix Car 22 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:19,401 - app.services.vector_service - INFO -    5. Netflix Bus 26 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:19,401 - app.services.vector_service - INFO -    6. Netflix Bus 13 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:19,401 - app.services.vector_service - INFO -    7. Netflix Train 4 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:19,401 - app.services.vector_service - INFO -    8. Netflix Scooter 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:19,401 - app.services.vector_service - INFO -    9. Netflix Bike 21 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:19,401 - app.services.vector_service - INFO -    10. Facebook Car 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:19,401 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:36:19,401 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:36:19,401 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:36:19,401 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:36:19,402 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:36:19,402 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:36:19,403 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:36:19,403 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:36:19,403 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:19,403 - app.services.recommendations - INFO - 🚫 Excluding 51 swiped products (liked: 22, disliked: 29)
2025-08-29 23:36:19,403 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:36:19,403 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4621 to 0.5488
2025-08-29 23:36:19,403 - app.services.vector_service - INFO - 📊 Found 23 candidate products after excluding 37 swiped products
2025-08-29 23:36:19,429 - app.services.vector_service - INFO - 🚀 FAISS search found 23 products
2025-08-29 23:36:19,429 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Netflix Train 28:0.7861', 'Apple Movie 5:0.7813', 'Netflix Boat 17:0.7805']
2025-08-29 23:36:19,429 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:19,429 - app.routers.recommendations - INFO - ✅ [req_1756503379380] SUCCESS: Found 3 recommendations
2025-08-29 23:36:19,429 - app.routers.recommendations - INFO - ⏱️ [req_1756503379380] Processing time: 0.049s
2025-08-29 23:36:19,429 - app.routers.recommendations - INFO - 🏆 [req_1756503379380] Top 1: Netflix Train 28 (score: 0.7861)
2025-08-29 23:36:19,429 - app.routers.recommendations - INFO - 🏆 [req_1756503379380] Top 2: Apple Movie 5 (score: 0.7813)
2025-08-29 23:36:19,429 - app.routers.recommendations - INFO - 🏆 [req_1756503379380] Top 3: Netflix Boat 17 (score: 0.7805)
2025-08-29 23:36:19,429 - app.routers.recommendations - INFO - 🎯 [req_1756503379380] API RESPONSE: Returning 3 recommendations
2025-08-29 23:36:23,214 - app.routers.recommendations - INFO - 🚀 [req_1756503383214] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:23,215 - app.routers.recommendations - INFO - 📋 [req_1756503383214] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:36:23,215 - app.routers.recommendations - INFO - ⚖️ [req_1756503383214] Weights: image=0.6, text=0.4
2025-08-29 23:36:23,219 - app.routers.recommendations - INFO - ✅ [req_1756503383214] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:36:23,219 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:36:23,219 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:36:23,220 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:36:23,222 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:36:23,223 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:36:23,224 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:36:23,226 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:36:23,226 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:36:23,226 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:36:23,226 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:23,226 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:23,232 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:36:23,232 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:36:23,233 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:36:23,234 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:23,250 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:36:23,250 - app.services.vector_service - INFO -    1. Apple Movie 5 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:23,251 - app.services.vector_service - INFO -    2. YouTube Coffee 11 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:23,251 - app.services.vector_service - INFO -    3. Netflix Train 6 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:23,251 - app.services.vector_service - INFO -    4. Netflix Car 16 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:23,251 - app.services.vector_service - INFO -    5. Netflix Car 22 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:23,251 - app.services.vector_service - INFO -    6. Netflix Bus 26 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:23,251 - app.services.vector_service - INFO -    7. Netflix Bus 13 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:23,251 - app.services.vector_service - INFO -    8. Netflix Train 4 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:23,251 - app.services.vector_service - INFO -    9. Netflix Scooter 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:23,251 - app.services.vector_service - INFO -    10. Netflix Bike 21 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:23,251 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:36:23,251 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:36:23,251 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:36:23,251 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:36:23,252 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:36:23,252 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:36:23,253 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:36:23,253 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:36:23,253 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:23,253 - app.services.recommendations - INFO - 🚫 Excluding 53 swiped products (liked: 23, disliked: 30)
2025-08-29 23:36:23,253 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:36:23,254 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4668 to 0.5524
2025-08-29 23:36:23,254 - app.services.vector_service - INFO - 📊 Found 25 candidate products after excluding 35 swiped products
2025-08-29 23:36:23,291 - app.services.vector_service - INFO - 🚀 FAISS search found 25 products
2025-08-29 23:36:23,291 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Apple Podcast 10:0.7911', 'Samsung Dessert 20:0.7836', 'Coca-Cola Hat 6:0.7822']
2025-08-29 23:36:23,291 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:23,292 - app.routers.recommendations - INFO - ✅ [req_1756503383214] SUCCESS: Found 3 recommendations
2025-08-29 23:36:23,292 - app.routers.recommendations - INFO - ⏱️ [req_1756503383214] Processing time: 0.078s
2025-08-29 23:36:23,292 - app.routers.recommendations - INFO - 🏆 [req_1756503383214] Top 1: Apple Podcast 10 (score: 0.7911)
2025-08-29 23:36:23,292 - app.routers.recommendations - INFO - 🏆 [req_1756503383214] Top 2: Samsung Dessert 20 (score: 0.7836)
2025-08-29 23:36:23,292 - app.routers.recommendations - INFO - 🏆 [req_1756503383214] Top 3: Coca-Cola Hat 6 (score: 0.7822)
2025-08-29 23:36:23,292 - app.routers.recommendations - INFO - 🎯 [req_1756503383214] API RESPONSE: Returning 3 recommendations
2025-08-29 23:36:28,054 - app.routers.recommendations - INFO - 🚀 [req_1756503388054] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:28,055 - app.routers.recommendations - INFO - 📋 [req_1756503388054] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:36:28,055 - app.routers.recommendations - INFO - ⚖️ [req_1756503388054] Weights: image=0.6, text=0.4
2025-08-29 23:36:28,058 - app.routers.recommendations - INFO - ✅ [req_1756503388054] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:36:28,059 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:36:28,059 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:36:28,061 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:36:28,065 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:36:28,066 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:36:28,069 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:36:28,071 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:36:28,071 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:36:28,071 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:36:28,071 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:28,071 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:28,076 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:36:28,077 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:36:28,077 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:36:28,078 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:28,094 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:36:28,095 - app.services.vector_service - INFO -    1. Apple Podcast 10 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:28,095 - app.services.vector_service - INFO -    2. Apple Movie 5 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:28,095 - app.services.vector_service - INFO -    3. YouTube Coffee 11 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:28,095 - app.services.vector_service - INFO -    4. Netflix Train 6 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:28,095 - app.services.vector_service - INFO -    5. Netflix Car 16 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:28,095 - app.services.vector_service - INFO -    6. Netflix Car 22 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:28,095 - app.services.vector_service - INFO -    7. Netflix Bus 26 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:28,095 - app.services.vector_service - INFO -    8. Netflix Bus 13 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:28,095 - app.services.vector_service - INFO -    9. Netflix Train 4 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:28,095 - app.services.vector_service - INFO -    10. Netflix Scooter 11 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:28,095 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:36:28,095 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:36:28,095 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:36:28,095 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:36:28,096 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:36:28,096 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:36:28,097 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:36:28,097 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:36:28,097 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:28,097 - app.services.recommendations - INFO - 🚫 Excluding 56 swiped products (liked: 24, disliked: 32)
2025-08-29 23:36:28,097 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:36:28,098 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4706 to 0.5457
2025-08-29 23:36:28,098 - app.services.vector_service - INFO - 📊 Found 23 candidate products after excluding 37 swiped products
2025-08-29 23:36:28,129 - app.services.vector_service - INFO - 🚀 FAISS search found 23 products
2025-08-29 23:36:28,129 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Coca-Cola Hat 6:0.7993', 'YouTube Snack 16:0.7940', 'Airbnb Laptop 7:0.7895']
2025-08-29 23:36:28,129 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:28,129 - app.routers.recommendations - INFO - ✅ [req_1756503388054] SUCCESS: Found 3 recommendations
2025-08-29 23:36:28,129 - app.routers.recommendations - INFO - ⏱️ [req_1756503388054] Processing time: 0.075s
2025-08-29 23:36:28,129 - app.routers.recommendations - INFO - 🏆 [req_1756503388054] Top 1: Coca-Cola Hat 6 (score: 0.7993)
2025-08-29 23:36:28,129 - app.routers.recommendations - INFO - 🏆 [req_1756503388054] Top 2: YouTube Snack 16 (score: 0.7940)
2025-08-29 23:36:28,129 - app.routers.recommendations - INFO - 🏆 [req_1756503388054] Top 3: Airbnb Laptop 7 (score: 0.7895)
2025-08-29 23:36:28,129 - app.routers.recommendations - INFO - 🎯 [req_1756503388054] API RESPONSE: Returning 3 recommendations
2025-08-29 23:36:31,037 - app.routers.recommendations - INFO - 🚀 [req_1756503391037] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:31,037 - app.routers.recommendations - INFO - 📋 [req_1756503391037] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:36:31,037 - app.routers.recommendations - INFO - ⚖️ [req_1756503391037] Weights: image=0.6, text=0.4
2025-08-29 23:36:31,040 - app.routers.recommendations - INFO - ✅ [req_1756503391037] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:36:31,040 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:36:31,041 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:36:31,041 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:36:31,043 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:36:31,043 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:36:31,044 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:36:31,045 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:36:31,045 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:36:31,046 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:36:31,046 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:31,046 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:31,051 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:36:31,052 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:36:31,052 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:36:31,053 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:31,066 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:36:31,066 - app.services.vector_service - INFO -    1. YouTube Snack 16 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:31,066 - app.services.vector_service - INFO -    2. Apple Podcast 10 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:31,066 - app.services.vector_service - INFO -    3. Apple Movie 5 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:31,066 - app.services.vector_service - INFO -    4. YouTube Coffee 11 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:31,066 - app.services.vector_service - INFO -    5. Netflix Train 6 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:31,066 - app.services.vector_service - INFO -    6. Netflix Car 16 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:31,067 - app.services.vector_service - INFO -    7. Netflix Car 22 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:31,067 - app.services.vector_service - INFO -    8. Netflix Bus 26 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:31,067 - app.services.vector_service - INFO -    9. Netflix Bus 13 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:31,067 - app.services.vector_service - INFO -    10. Netflix Train 4 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:31,067 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:36:31,067 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:36:31,067 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:36:31,067 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:36:31,068 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:36:31,068 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:36:31,069 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:36:31,069 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:36:31,069 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:31,069 - app.services.recommendations - INFO - 🚫 Excluding 58 swiped products (liked: 25, disliked: 33)
2025-08-29 23:36:31,069 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:36:31,070 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4733 to 0.5413
2025-08-29 23:36:31,070 - app.services.vector_service - INFO - 📊 Found 27 candidate products after excluding 33 swiped products
2025-08-29 23:36:31,111 - app.services.vector_service - INFO - 🚀 FAISS search found 27 products
2025-08-29 23:36:31,111 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['YouTube Coffee 5:0.8062', 'Airbnb Laptop 7:0.8022', "McDonald's Burger 5:0.7995"]
2025-08-29 23:36:31,112 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:31,112 - app.routers.recommendations - INFO - ✅ [req_1756503391037] SUCCESS: Found 3 recommendations
2025-08-29 23:36:31,112 - app.routers.recommendations - INFO - ⏱️ [req_1756503391037] Processing time: 0.075s
2025-08-29 23:36:31,112 - app.routers.recommendations - INFO - 🏆 [req_1756503391037] Top 1: YouTube Coffee 5 (score: 0.8062)
2025-08-29 23:36:31,112 - app.routers.recommendations - INFO - 🏆 [req_1756503391037] Top 2: Airbnb Laptop 7 (score: 0.8022)
2025-08-29 23:36:31,112 - app.routers.recommendations - INFO - 🏆 [req_1756503391037] Top 3: McDonald's Burger 5 (score: 0.7995)
2025-08-29 23:36:31,112 - app.routers.recommendations - INFO - 🎯 [req_1756503391037] API RESPONSE: Returning 3 recommendations
2025-08-29 23:36:34,151 - app.routers.recommendations - INFO - 🚀 [req_1756503394151] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:34,151 - app.routers.recommendations - INFO - 📋 [req_1756503394151] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:36:34,151 - app.routers.recommendations - INFO - ⚖️ [req_1756503394151] Weights: image=0.6, text=0.4
2025-08-29 23:36:34,153 - app.routers.recommendations - INFO - ✅ [req_1756503394151] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:36:34,154 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:36:34,154 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:36:34,154 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:36:34,155 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:36:34,155 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:36:34,156 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:36:34,157 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:36:34,157 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:36:34,157 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:36:34,157 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:34,157 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:34,160 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:36:34,160 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:36:34,160 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:36:34,161 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:34,169 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:36:34,169 - app.services.vector_service - INFO -    1. YouTube Coffee 5 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:34,169 - app.services.vector_service - INFO -    2. YouTube Snack 16 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:34,169 - app.services.vector_service - INFO -    3. Apple Podcast 10 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:34,169 - app.services.vector_service - INFO -    4. Apple Movie 5 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:34,169 - app.services.vector_service - INFO -    5. YouTube Coffee 11 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:34,169 - app.services.vector_service - INFO -    6. Netflix Train 6 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:34,169 - app.services.vector_service - INFO -    7. Netflix Car 16 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:34,169 - app.services.vector_service - INFO -    8. Netflix Car 22 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:34,169 - app.services.vector_service - INFO -    9. Netflix Bus 26 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:34,169 - app.services.vector_service - INFO -    10. Netflix Bus 13 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:34,169 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:36:34,169 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:36:34,169 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:36:34,169 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:36:34,170 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:36:34,170 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:36:34,170 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:36:34,170 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:36:34,170 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:34,170 - app.services.recommendations - INFO - 🚫 Excluding 60 swiped products (liked: 26, disliked: 34)
2025-08-29 23:36:34,171 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:36:34,171 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4742 to 0.5348
2025-08-29 23:36:34,171 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 27 swiped products
2025-08-29 23:36:34,223 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:36:34,223 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['YouTube Beverage 24:0.8210', "McDonald's Burger 5:0.8082", 'YouTube Beverage 12:0.8061']
2025-08-29 23:36:34,223 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:34,223 - app.routers.recommendations - INFO - ✅ [req_1756503394151] SUCCESS: Found 3 recommendations
2025-08-29 23:36:34,223 - app.routers.recommendations - INFO - ⏱️ [req_1756503394151] Processing time: 0.072s
2025-08-29 23:36:34,223 - app.routers.recommendations - INFO - 🏆 [req_1756503394151] Top 1: YouTube Beverage 24 (score: 0.8210)
2025-08-29 23:36:34,223 - app.routers.recommendations - INFO - 🏆 [req_1756503394151] Top 2: McDonald's Burger 5 (score: 0.8082)
2025-08-29 23:36:34,223 - app.routers.recommendations - INFO - 🏆 [req_1756503394151] Top 3: YouTube Beverage 12 (score: 0.8061)
2025-08-29 23:36:34,223 - app.routers.recommendations - INFO - 🎯 [req_1756503394151] API RESPONSE: Returning 3 recommendations
2025-08-29 23:36:39,503 - app.routers.recommendations - INFO - 🚀 [req_1756503399503] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:39,503 - app.routers.recommendations - INFO - 📋 [req_1756503399503] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:36:39,503 - app.routers.recommendations - INFO - ⚖️ [req_1756503399503] Weights: image=0.6, text=0.4
2025-08-29 23:36:39,506 - app.routers.recommendations - INFO - ✅ [req_1756503399503] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:36:39,506 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:36:39,506 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:36:39,507 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:36:39,509 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:36:39,509 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:36:39,510 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:36:39,512 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:36:39,512 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:36:39,512 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:36:39,512 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:39,512 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:39,517 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:36:39,517 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:36:39,517 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:36:39,519 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:39,534 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:36:39,534 - app.services.vector_service - INFO -    1. YouTube Beverage 24 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:39,535 - app.services.vector_service - INFO -    2. YouTube Coffee 5 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:39,535 - app.services.vector_service - INFO -    3. YouTube Snack 16 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:39,535 - app.services.vector_service - INFO -    4. Apple Podcast 10 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:39,535 - app.services.vector_service - INFO -    5. Apple Movie 5 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:39,535 - app.services.vector_service - INFO -    6. YouTube Coffee 11 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:39,535 - app.services.vector_service - INFO -    7. Netflix Train 6 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:39,535 - app.services.vector_service - INFO -    8. Netflix Car 16 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:39,535 - app.services.vector_service - INFO -    9. Netflix Car 22 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:39,535 - app.services.vector_service - INFO -    10. Netflix Bus 26 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:39,535 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:36:39,535 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:36:39,535 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:36:39,535 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:36:39,536 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:36:39,536 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:36:39,537 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:36:39,537 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:36:39,537 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:39,537 - app.services.recommendations - INFO - 🚫 Excluding 62 swiped products (liked: 27, disliked: 35)
2025-08-29 23:36:39,537 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:36:39,538 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4780 to 0.5345
2025-08-29 23:36:39,538 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 23 swiped products
2025-08-29 23:36:39,579 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:36:39,579 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['YouTube Beverage 12:0.8246', 'YouTube Snack 20:0.8176', 'YouTube Beverage 19:0.8070']
2025-08-29 23:36:39,580 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:39,580 - app.routers.recommendations - INFO - ✅ [req_1756503399503] SUCCESS: Found 3 recommendations
2025-08-29 23:36:39,580 - app.routers.recommendations - INFO - ⏱️ [req_1756503399503] Processing time: 0.077s
2025-08-29 23:36:39,580 - app.routers.recommendations - INFO - 🏆 [req_1756503399503] Top 1: YouTube Beverage 12 (score: 0.8246)
2025-08-29 23:36:39,580 - app.routers.recommendations - INFO - 🏆 [req_1756503399503] Top 2: YouTube Snack 20 (score: 0.8176)
2025-08-29 23:36:39,580 - app.routers.recommendations - INFO - 🏆 [req_1756503399503] Top 3: YouTube Beverage 19 (score: 0.8070)
2025-08-29 23:36:39,580 - app.routers.recommendations - INFO - 🎯 [req_1756503399503] API RESPONSE: Returning 3 recommendations
2025-08-29 23:36:42,764 - app.routers.recommendations - INFO - 🚀 [req_1756503402764] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:42,764 - app.routers.recommendations - INFO - 📋 [req_1756503402764] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:36:42,764 - app.routers.recommendations - INFO - ⚖️ [req_1756503402764] Weights: image=0.6, text=0.4
2025-08-29 23:36:42,766 - app.routers.recommendations - INFO - ✅ [req_1756503402764] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:36:42,766 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:36:42,766 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:36:42,766 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:36:42,768 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:36:42,768 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:36:42,770 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:36:42,771 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:36:42,771 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:36:42,771 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:36:42,771 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:42,771 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:42,776 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:36:42,776 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:36:42,776 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:36:42,777 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:42,789 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:36:42,789 - app.services.vector_service - INFO -    1. YouTube Snack 20 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:42,790 - app.services.vector_service - INFO -    2. YouTube Beverage 12 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:42,790 - app.services.vector_service - INFO -    3. YouTube Beverage 24 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:42,790 - app.services.vector_service - INFO -    4. YouTube Coffee 5 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:42,790 - app.services.vector_service - INFO -    5. YouTube Snack 16 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:42,790 - app.services.vector_service - INFO -    6. Apple Podcast 10 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:42,790 - app.services.vector_service - INFO -    7. Apple Movie 5 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:42,790 - app.services.vector_service - INFO -    8. YouTube Coffee 11 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:42,790 - app.services.vector_service - INFO -    9. Netflix Train 6 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:42,790 - app.services.vector_service - INFO -    10. Netflix Car 16 (swiped: 2025-08-29 21:35)
2025-08-29 23:36:42,790 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:36:42,790 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:36:42,790 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:36:42,790 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:36:42,790 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:36:42,790 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:36:42,791 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:36:42,791 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:36:42,791 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:42,791 - app.services.recommendations - INFO - 🚫 Excluding 64 swiped products (liked: 29, disliked: 35)
2025-08-29 23:36:42,791 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:36:42,791 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4766 to 0.5560
2025-08-29 23:36:42,791 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 18 swiped products
2025-08-29 23:36:42,828 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:36:42,828 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['YouTube Beverage 19:0.8308', 'YouTube Smoothie 7:0.8150', 'YouTube Beverage 8:0.8144']
2025-08-29 23:36:42,829 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:42,829 - app.routers.recommendations - INFO - ✅ [req_1756503402764] SUCCESS: Found 3 recommendations
2025-08-29 23:36:42,829 - app.routers.recommendations - INFO - ⏱️ [req_1756503402764] Processing time: 0.065s
2025-08-29 23:36:42,829 - app.routers.recommendations - INFO - 🏆 [req_1756503402764] Top 1: YouTube Beverage 19 (score: 0.8308)
2025-08-29 23:36:42,829 - app.routers.recommendations - INFO - 🏆 [req_1756503402764] Top 2: YouTube Smoothie 7 (score: 0.8150)
2025-08-29 23:36:42,829 - app.routers.recommendations - INFO - 🏆 [req_1756503402764] Top 3: YouTube Beverage 8 (score: 0.8144)
2025-08-29 23:36:42,829 - app.routers.recommendations - INFO - 🎯 [req_1756503402764] API RESPONSE: Returning 3 recommendations
2025-08-29 23:36:45,233 - app.routers.recommendations - INFO - 🚀 [req_1756503405233] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:45,233 - app.routers.recommendations - INFO - 📋 [req_1756503405233] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:36:45,233 - app.routers.recommendations - INFO - ⚖️ [req_1756503405233] Weights: image=0.6, text=0.4
2025-08-29 23:36:45,235 - app.routers.recommendations - INFO - ✅ [req_1756503405233] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:36:45,235 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:36:45,235 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:36:45,236 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:36:45,238 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:36:45,238 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:36:45,239 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:36:45,241 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:36:45,241 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:36:45,241 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:36:45,241 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:45,241 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:45,255 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:36:45,255 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:36:45,255 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:36:45,257 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:45,267 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:36:45,267 - app.services.vector_service - INFO -    1. YouTube Smoothie 7 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:45,267 - app.services.vector_service - INFO -    2. YouTube Beverage 19 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:45,268 - app.services.vector_service - INFO -    3. YouTube Snack 20 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:45,268 - app.services.vector_service - INFO -    4. YouTube Beverage 12 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:45,268 - app.services.vector_service - INFO -    5. YouTube Beverage 24 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:45,268 - app.services.vector_service - INFO -    6. YouTube Coffee 5 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:45,268 - app.services.vector_service - INFO -    7. YouTube Snack 16 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:45,268 - app.services.vector_service - INFO -    8. Apple Podcast 10 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:45,268 - app.services.vector_service - INFO -    9. Apple Movie 5 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:45,268 - app.services.vector_service - INFO -    10. YouTube Coffee 11 (swiped: 2025-08-29 21:36)
2025-08-29 23:36:45,268 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:36:45,268 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:36:45,268 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:36:45,268 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:36:45,268 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:36:45,269 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:36:45,269 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:36:45,269 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:36:45,269 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:45,269 - app.services.recommendations - INFO - 🚫 Excluding 66 swiped products (liked: 31, disliked: 35)
2025-08-29 23:36:45,269 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:36:45,270 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4796 to 0.5708
2025-08-29 23:36:45,270 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 14 swiped products
2025-08-29 23:36:45,299 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:36:45,299 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['YouTube Beverage 8:0.8350', 'YouTube Beverage 21:0.8330', 'YouTube Coffee 22:0.8249']
2025-08-29 23:36:45,299 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:36:45,300 - app.routers.recommendations - INFO - ✅ [req_1756503405233] SUCCESS: Found 3 recommendations
2025-08-29 23:36:45,300 - app.routers.recommendations - INFO - ⏱️ [req_1756503405233] Processing time: 0.067s
2025-08-29 23:36:45,300 - app.routers.recommendations - INFO - 🏆 [req_1756503405233] Top 1: YouTube Beverage 8 (score: 0.8350)
2025-08-29 23:36:45,300 - app.routers.recommendations - INFO - 🏆 [req_1756503405233] Top 2: YouTube Beverage 21 (score: 0.8330)
2025-08-29 23:36:45,300 - app.routers.recommendations - INFO - 🏆 [req_1756503405233] Top 3: YouTube Coffee 22 (score: 0.8249)
2025-08-29 23:36:45,300 - app.routers.recommendations - INFO - 🎯 [req_1756503405233] API RESPONSE: Returning 3 recommendations
2025-08-29 23:37:04,973 - app.routers.recommendations - INFO - 🚀 [req_1756503424972] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:37:04,973 - app.routers.recommendations - INFO - 📋 [req_1756503424972] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:37:04,974 - app.routers.recommendations - INFO - ⚖️ [req_1756503424972] Weights: image=0.6, text=0.4
2025-08-29 23:37:04,996 - app.routers.recommendations - INFO - ✅ [req_1756503424972] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:37:04,996 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:37:04,996 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:37:04,997 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:37:05,000 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:37:05,000 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:37:05,003 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:37:05,005 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:37:05,005 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:37:05,005 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:37:05,005 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:37:05,005 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:37:05,009 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:37:05,009 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:37:05,009 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:37:05,010 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:37:05,020 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:37:05,020 - app.services.vector_service - INFO -    1. YouTube Beverage 8 (swiped: 2025-08-29 21:36)
2025-08-29 23:37:05,020 - app.services.vector_service - INFO -    2. YouTube Smoothie 7 (swiped: 2025-08-29 21:36)
2025-08-29 23:37:05,020 - app.services.vector_service - INFO -    3. YouTube Beverage 19 (swiped: 2025-08-29 21:36)
2025-08-29 23:37:05,020 - app.services.vector_service - INFO -    4. YouTube Snack 20 (swiped: 2025-08-29 21:36)
2025-08-29 23:37:05,020 - app.services.vector_service - INFO -    5. YouTube Beverage 12 (swiped: 2025-08-29 21:36)
2025-08-29 23:37:05,020 - app.services.vector_service - INFO -    6. YouTube Beverage 24 (swiped: 2025-08-29 21:36)
2025-08-29 23:37:05,020 - app.services.vector_service - INFO -    7. YouTube Coffee 5 (swiped: 2025-08-29 21:36)
2025-08-29 23:37:05,020 - app.services.vector_service - INFO -    8. YouTube Snack 16 (swiped: 2025-08-29 21:36)
2025-08-29 23:37:05,020 - app.services.vector_service - INFO -    9. Apple Podcast 10 (swiped: 2025-08-29 21:36)
2025-08-29 23:37:05,020 - app.services.vector_service - INFO -    10. Apple Movie 5 (swiped: 2025-08-29 21:36)
2025-08-29 23:37:05,020 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:37:05,020 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:37:05,020 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:37:05,020 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:37:05,021 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:37:05,021 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:37:05,021 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:37:05,021 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:37:05,022 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:37:05,022 - app.services.recommendations - INFO - 🚫 Excluding 68 swiped products (liked: 32, disliked: 36)
2025-08-29 23:37:05,022 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:37:05,023 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4783 to 0.5597
2025-08-29 23:37:05,023 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 16 swiped products
2025-08-29 23:37:05,059 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:37:05,059 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['YouTube Coffee 22:0.8276', 'YouTube Burger 15:0.8248', 'YouTube Beverage 25:0.8239']
2025-08-29 23:37:05,060 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:37:05,060 - app.routers.recommendations - INFO - ✅ [req_1756503424972] SUCCESS: Found 3 recommendations
2025-08-29 23:37:05,060 - app.routers.recommendations - INFO - ⏱️ [req_1756503424972] Processing time: 0.088s
2025-08-29 23:37:05,060 - app.routers.recommendations - INFO - 🏆 [req_1756503424972] Top 1: YouTube Coffee 22 (score: 0.8276)
2025-08-29 23:37:05,060 - app.routers.recommendations - INFO - 🏆 [req_1756503424972] Top 2: YouTube Burger 15 (score: 0.8248)
2025-08-29 23:37:05,060 - app.routers.recommendations - INFO - 🏆 [req_1756503424972] Top 3: YouTube Beverage 25 (score: 0.8239)
2025-08-29 23:37:05,060 - app.routers.recommendations - INFO - 🎯 [req_1756503424972] API RESPONSE: Returning 3 recommendations
2025-08-29 23:37:22,769 - app.routers.recommendations - INFO - 🚀 [req_1756503442769] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:37:22,770 - app.routers.recommendations - INFO - 📋 [req_1756503442769] Parameters: limit=3, category=None, brand_id=None
2025-08-29 23:37:22,770 - app.routers.recommendations - INFO - ⚖️ [req_1756503442769] Weights: image=0.6, text=0.4
2025-08-29 23:37:22,772 - app.routers.recommendations - INFO - ✅ [req_1756503442769] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-29 23:37:22,772 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-29 23:37:22,772 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-29 23:37:22,773 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-29 23:37:22,776 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-29 23:37:22,777 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-29 23:37:22,781 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-29 23:37:22,783 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-29 23:37:22,783 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-29 23:37:22,784 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-29 23:37:22,784 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:37:22,784 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:37:22,790 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-29 23:37:22,790 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-29 23:37:22,790 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-29 23:37:22,791 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:37:22,804 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-29 23:37:22,805 - app.services.vector_service - INFO -    1. YouTube Burger 15 (swiped: 2025-08-29 21:37)
2025-08-29 23:37:22,805 - app.services.vector_service - INFO -    2. YouTube Beverage 8 (swiped: 2025-08-29 21:36)
2025-08-29 23:37:22,805 - app.services.vector_service - INFO -    3. YouTube Smoothie 7 (swiped: 2025-08-29 21:36)
2025-08-29 23:37:22,805 - app.services.vector_service - INFO -    4. YouTube Beverage 19 (swiped: 2025-08-29 21:36)
2025-08-29 23:37:22,805 - app.services.vector_service - INFO -    5. YouTube Snack 20 (swiped: 2025-08-29 21:36)
2025-08-29 23:37:22,805 - app.services.vector_service - INFO -    6. YouTube Beverage 12 (swiped: 2025-08-29 21:36)
2025-08-29 23:37:22,805 - app.services.vector_service - INFO -    7. YouTube Beverage 24 (swiped: 2025-08-29 21:36)
2025-08-29 23:37:22,805 - app.services.vector_service - INFO -    8. YouTube Coffee 5 (swiped: 2025-08-29 21:36)
2025-08-29 23:37:22,805 - app.services.vector_service - INFO -    9. YouTube Snack 16 (swiped: 2025-08-29 21:36)
2025-08-29 23:37:22,805 - app.services.vector_service - INFO -    10. Apple Podcast 10 (swiped: 2025-08-29 21:36)
2025-08-29 23:37:22,805 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-29 23:37:22,805 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-29 23:37:22,805 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-29 23:37:22,805 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-29 23:37:22,806 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-29 23:37:22,806 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-29 23:37:22,807 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-29 23:37:22,807 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-29 23:37:22,807 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:37:22,807 - app.services.recommendations - INFO - 🚫 Excluding 70 swiped products (liked: 33, disliked: 37)
2025-08-29 23:37:22,807 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-29 23:37:22,808 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4786 to 0.5636
2025-08-29 23:37:22,808 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 17 swiped products
2025-08-29 23:37:22,851 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-29 23:37:22,851 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['YouTube Beverage 25:0.8279', 'YouTube Burger 9:0.8261', 'YouTube Beverage 18:0.8237']
2025-08-29 23:37:22,851 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-29 23:37:22,851 - app.routers.recommendations - INFO - ✅ [req_1756503442769] SUCCESS: Found 3 recommendations
2025-08-29 23:37:22,851 - app.routers.recommendations - INFO - ⏱️ [req_1756503442769] Processing time: 0.082s
2025-08-29 23:37:22,851 - app.routers.recommendations - INFO - 🏆 [req_1756503442769] Top 1: YouTube Beverage 25 (score: 0.8279)
2025-08-29 23:37:22,851 - app.routers.recommendations - INFO - 🏆 [req_1756503442769] Top 2: YouTube Burger 9 (score: 0.8261)
2025-08-29 23:37:22,851 - app.routers.recommendations - INFO - 🏆 [req_1756503442769] Top 3: YouTube Beverage 18 (score: 0.8237)
2025-08-29 23:37:22,851 - app.routers.recommendations - INFO - 🎯 [req_1756503442769] API RESPONSE: Returning 3 recommendations
2025-08-30 21:45:39,719 - app.routers.recommendations - INFO - 🚀 [req_1756583139719] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:39,730 - app.routers.recommendations - INFO - 📋 [req_1756583139719] Parameters: limit=3, category=None, brand_id=None
2025-08-30 21:45:39,730 - app.routers.recommendations - INFO - ⚖️ [req_1756583139719] Weights: image=0.6, text=0.4
2025-08-30 21:45:39,754 - app.routers.recommendations - INFO - ✅ [req_1756583139719] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-30 21:45:39,756 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-30 21:45:39,756 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-30 21:45:39,759 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-30 21:45:39,766 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-30 21:45:39,767 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-30 21:45:39,770 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-30 21:45:39,774 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-30 21:45:39,774 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-30 21:45:39,774 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-30 21:45:39,774 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:39,775 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:39,788 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-30 21:45:39,788 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-30 21:45:39,788 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-30 21:45:39,792 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:39,811 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-30 21:45:39,812 - app.services.vector_service - INFO -    1. YouTube Burger 9 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:39,812 - app.services.vector_service - INFO -    2. YouTube Beverage 25 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:39,812 - app.services.vector_service - INFO -    3. YouTube Burger 15 (swiped: 2025-08-29 21:37)
2025-08-30 21:45:39,812 - app.services.vector_service - INFO -    4. YouTube Beverage 8 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:39,812 - app.services.vector_service - INFO -    5. YouTube Smoothie 7 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:39,812 - app.services.vector_service - INFO -    6. YouTube Beverage 19 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:39,812 - app.services.vector_service - INFO -    7. YouTube Snack 20 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:39,812 - app.services.vector_service - INFO -    8. YouTube Beverage 12 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:39,812 - app.services.vector_service - INFO -    9. YouTube Beverage 24 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:39,812 - app.services.vector_service - INFO -    10. YouTube Coffee 5 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:39,812 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-30 21:45:39,812 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-30 21:45:39,812 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-30 21:45:39,812 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-30 21:45:39,813 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-30 21:45:39,813 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-30 21:45:39,814 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-30 21:45:39,814 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-30 21:45:39,814 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:39,815 - app.services.recommendations - INFO - 🚫 Excluding 72 swiped products (liked: 35, disliked: 37)
2025-08-30 21:45:39,819 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-30 21:45:39,828 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4706 to 0.5614
2025-08-30 21:45:39,828 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 18 swiped products
2025-08-30 21:45:39,900 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-30 21:45:39,900 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['YouTube Beverage 18:0.8434', 'YouTube Pizza 2:0.8419', 'YouTube Snack 23:0.8210']
2025-08-30 21:45:39,902 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:39,902 - app.routers.recommendations - INFO - ✅ [req_1756583139719] SUCCESS: Found 3 recommendations
2025-08-30 21:45:39,903 - app.routers.recommendations - INFO - ⏱️ [req_1756583139719] Processing time: 0.184s
2025-08-30 21:45:39,903 - app.routers.recommendations - INFO - 🏆 [req_1756583139719] Top 1: YouTube Beverage 18 (score: 0.8434)
2025-08-30 21:45:39,903 - app.routers.recommendations - INFO - 🏆 [req_1756583139719] Top 2: YouTube Pizza 2 (score: 0.8419)
2025-08-30 21:45:39,903 - app.routers.recommendations - INFO - 🏆 [req_1756583139719] Top 3: YouTube Snack 23 (score: 0.8210)
2025-08-30 21:45:39,903 - app.routers.recommendations - INFO - 🎯 [req_1756583139719] API RESPONSE: Returning 3 recommendations
2025-08-30 21:45:43,014 - app.routers.recommendations - INFO - 🚀 [req_1756583143014] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:43,014 - app.routers.recommendations - INFO - 📋 [req_1756583143014] Parameters: limit=3, category=None, brand_id=None
2025-08-30 21:45:43,015 - app.routers.recommendations - INFO - ⚖️ [req_1756583143014] Weights: image=0.6, text=0.4
2025-08-30 21:45:43,017 - app.routers.recommendations - INFO - ✅ [req_1756583143014] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-30 21:45:43,017 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-30 21:45:43,017 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-30 21:45:43,018 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-30 21:45:43,031 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-30 21:45:43,031 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-30 21:45:43,032 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-30 21:45:43,033 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-30 21:45:43,033 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-30 21:45:43,033 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-30 21:45:43,033 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:43,033 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:44,145 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-30 21:45:44,145 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-30 21:45:44,145 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-30 21:45:44,147 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:44,158 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-30 21:45:44,158 - app.services.vector_service - INFO -    1. YouTube Pizza 2 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:44,158 - app.services.vector_service - INFO -    2. YouTube Burger 9 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:44,158 - app.services.vector_service - INFO -    3. YouTube Beverage 25 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:44,158 - app.services.vector_service - INFO -    4. YouTube Burger 15 (swiped: 2025-08-29 21:37)
2025-08-30 21:45:44,158 - app.services.vector_service - INFO -    5. YouTube Beverage 8 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:44,158 - app.services.vector_service - INFO -    6. YouTube Smoothie 7 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:44,158 - app.services.vector_service - INFO -    7. YouTube Beverage 19 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:44,158 - app.services.vector_service - INFO -    8. YouTube Snack 20 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:44,158 - app.services.vector_service - INFO -    9. YouTube Beverage 12 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:44,158 - app.services.vector_service - INFO -    10. YouTube Beverage 24 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:44,158 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-30 21:45:44,158 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-30 21:45:44,158 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-30 21:45:44,158 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-30 21:45:44,159 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-30 21:45:44,159 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-30 21:45:44,159 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-30 21:45:44,159 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-30 21:45:44,159 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:44,159 - app.services.recommendations - INFO - 🚫 Excluding 74 swiped products (liked: 36, disliked: 38)
2025-08-30 21:45:44,159 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-30 21:45:44,160 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4698 to 0.5622
2025-08-30 21:45:44,160 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 20 swiped products
2025-08-30 21:45:44,199 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-30 21:45:44,199 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['YouTube Snack 23:0.8116', 'YouTube Burger 4:0.8098', 'YouTube Smoothie 14:0.8084']
2025-08-30 21:45:44,199 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:44,199 - app.routers.recommendations - INFO - ✅ [req_1756583143014] SUCCESS: Found 3 recommendations
2025-08-30 21:45:44,199 - app.routers.recommendations - INFO - ⏱️ [req_1756583143014] Processing time: 1.185s
2025-08-30 21:45:44,199 - app.routers.recommendations - INFO - 🏆 [req_1756583143014] Top 1: YouTube Snack 23 (score: 0.8116)
2025-08-30 21:45:44,199 - app.routers.recommendations - INFO - 🏆 [req_1756583143014] Top 2: YouTube Burger 4 (score: 0.8098)
2025-08-30 21:45:44,199 - app.routers.recommendations - INFO - 🏆 [req_1756583143014] Top 3: YouTube Smoothie 14 (score: 0.8084)
2025-08-30 21:45:44,199 - app.routers.recommendations - INFO - 🎯 [req_1756583143014] API RESPONSE: Returning 3 recommendations
2025-08-30 21:45:48,062 - app.routers.recommendations - INFO - 🚀 [req_1756583148062] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:48,063 - app.routers.recommendations - INFO - 📋 [req_1756583148062] Parameters: limit=3, category=None, brand_id=None
2025-08-30 21:45:48,063 - app.routers.recommendations - INFO - ⚖️ [req_1756583148062] Weights: image=0.6, text=0.4
2025-08-30 21:45:48,065 - app.routers.recommendations - INFO - ✅ [req_1756583148062] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-30 21:45:48,065 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-30 21:45:48,065 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-30 21:45:48,066 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-30 21:45:48,067 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-30 21:45:48,067 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-30 21:45:48,071 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-30 21:45:48,074 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-30 21:45:48,074 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-30 21:45:48,074 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-30 21:45:48,074 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:48,074 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:48,090 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-30 21:45:48,090 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-30 21:45:48,090 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-30 21:45:48,091 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:48,115 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-30 21:45:48,116 - app.services.vector_service - INFO -    1. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:48,116 - app.services.vector_service - INFO -    2. YouTube Snack 23 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:48,116 - app.services.vector_service - INFO -    3. YouTube Pizza 2 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:48,116 - app.services.vector_service - INFO -    4. YouTube Burger 9 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:48,116 - app.services.vector_service - INFO -    5. YouTube Beverage 25 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:48,116 - app.services.vector_service - INFO -    6. YouTube Burger 15 (swiped: 2025-08-29 21:37)
2025-08-30 21:45:48,117 - app.services.vector_service - INFO -    7. YouTube Beverage 8 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:48,117 - app.services.vector_service - INFO -    8. YouTube Smoothie 7 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:48,117 - app.services.vector_service - INFO -    9. YouTube Beverage 19 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:48,117 - app.services.vector_service - INFO -    10. YouTube Snack 20 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:48,117 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-30 21:45:48,117 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-30 21:45:48,117 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-30 21:45:48,117 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-30 21:45:48,117 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-30 21:45:48,118 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-30 21:45:48,118 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-30 21:45:48,118 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-30 21:45:48,119 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:48,119 - app.services.recommendations - INFO - 🚫 Excluding 76 swiped products (liked: 38, disliked: 38)
2025-08-30 21:45:48,119 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-30 21:45:48,121 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4663 to 0.5561
2025-08-30 21:45:48,122 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 22 swiped products
2025-08-30 21:45:48,156 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-30 21:45:48,156 - app.services.vector_service - INFO - 🏆 Top similarity scores: ["McDonald's Burger 9:0.8071", 'YouTube Smoothie 14:0.8018', 'YouTube Snack 17:0.8018']
2025-08-30 21:45:48,156 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:48,156 - app.routers.recommendations - INFO - ✅ [req_1756583148062] SUCCESS: Found 3 recommendations
2025-08-30 21:45:48,156 - app.routers.recommendations - INFO - ⏱️ [req_1756583148062] Processing time: 0.094s
2025-08-30 21:45:48,156 - app.routers.recommendations - INFO - 🏆 [req_1756583148062] Top 1: McDonald's Burger 9 (score: 0.8071)
2025-08-30 21:45:48,156 - app.routers.recommendations - INFO - 🏆 [req_1756583148062] Top 2: YouTube Smoothie 14 (score: 0.8018)
2025-08-30 21:45:48,156 - app.routers.recommendations - INFO - 🏆 [req_1756583148062] Top 3: YouTube Snack 17 (score: 0.8018)
2025-08-30 21:45:48,156 - app.routers.recommendations - INFO - 🎯 [req_1756583148062] API RESPONSE: Returning 3 recommendations
2025-08-30 21:45:51,785 - app.routers.recommendations - INFO - 🚀 [req_1756583151785] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:51,785 - app.routers.recommendations - INFO - 📋 [req_1756583151785] Parameters: limit=3, category=None, brand_id=None
2025-08-30 21:45:51,785 - app.routers.recommendations - INFO - ⚖️ [req_1756583151785] Weights: image=0.6, text=0.4
2025-08-30 21:45:51,788 - app.routers.recommendations - INFO - ✅ [req_1756583151785] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-30 21:45:51,788 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-30 21:45:51,788 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-30 21:45:51,789 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-30 21:45:51,796 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-30 21:45:51,796 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-30 21:45:51,798 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-30 21:45:51,801 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-30 21:45:51,801 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-30 21:45:51,801 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-30 21:45:51,802 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:51,802 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:51,808 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-30 21:45:51,808 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-30 21:45:51,808 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-30 21:45:51,810 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:51,824 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-30 21:45:51,824 - app.services.vector_service - INFO -    1. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:51,824 - app.services.vector_service - INFO -    2. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:51,824 - app.services.vector_service - INFO -    3. YouTube Snack 23 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:51,824 - app.services.vector_service - INFO -    4. YouTube Pizza 2 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:51,824 - app.services.vector_service - INFO -    5. YouTube Burger 9 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:51,824 - app.services.vector_service - INFO -    6. YouTube Beverage 25 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:51,824 - app.services.vector_service - INFO -    7. YouTube Burger 15 (swiped: 2025-08-29 21:37)
2025-08-30 21:45:51,824 - app.services.vector_service - INFO -    8. YouTube Beverage 8 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:51,824 - app.services.vector_service - INFO -    9. YouTube Smoothie 7 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:51,824 - app.services.vector_service - INFO -    10. YouTube Beverage 19 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:51,824 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-30 21:45:51,824 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-30 21:45:51,824 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-30 21:45:51,824 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-30 21:45:51,825 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-30 21:45:51,825 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-30 21:45:51,826 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-30 21:45:51,826 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-30 21:45:51,826 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:51,826 - app.services.recommendations - INFO - 🚫 Excluding 78 swiped products (liked: 39, disliked: 39)
2025-08-30 21:45:51,826 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-30 21:45:51,827 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4654 to 0.5532
2025-08-30 21:45:51,827 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 23 swiped products
2025-08-30 21:45:51,865 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-30 21:45:51,866 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['YouTube Coffee 6:0.7964', 'YouTube Smoothie 1:0.7957', 'YouTube Snack 17:0.7923']
2025-08-30 21:45:51,866 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:51,866 - app.routers.recommendations - INFO - ✅ [req_1756583151785] SUCCESS: Found 3 recommendations
2025-08-30 21:45:51,866 - app.routers.recommendations - INFO - ⏱️ [req_1756583151785] Processing time: 0.082s
2025-08-30 21:45:51,866 - app.routers.recommendations - INFO - 🏆 [req_1756583151785] Top 1: YouTube Coffee 6 (score: 0.7964)
2025-08-30 21:45:51,866 - app.routers.recommendations - INFO - 🏆 [req_1756583151785] Top 2: YouTube Smoothie 1 (score: 0.7957)
2025-08-30 21:45:51,866 - app.routers.recommendations - INFO - 🏆 [req_1756583151785] Top 3: YouTube Snack 17 (score: 0.7923)
2025-08-30 21:45:51,866 - app.routers.recommendations - INFO - 🎯 [req_1756583151785] API RESPONSE: Returning 3 recommendations
2025-08-30 21:45:54,067 - app.routers.recommendations - INFO - 🚀 [req_1756583154067] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:54,068 - app.routers.recommendations - INFO - 📋 [req_1756583154067] Parameters: limit=3, category=None, brand_id=None
2025-08-30 21:45:54,068 - app.routers.recommendations - INFO - ⚖️ [req_1756583154067] Weights: image=0.6, text=0.4
2025-08-30 21:45:54,081 - app.routers.recommendations - INFO - ✅ [req_1756583154067] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-30 21:45:54,082 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-30 21:45:54,082 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-30 21:45:54,083 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-30 21:45:54,089 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-30 21:45:54,089 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-30 21:45:54,090 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-30 21:45:54,091 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-30 21:45:54,091 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-30 21:45:54,091 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-30 21:45:54,091 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:54,091 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:54,095 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-30 21:45:54,096 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-30 21:45:54,096 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-30 21:45:54,097 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:54,111 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-30 21:45:54,111 - app.services.vector_service - INFO -    1. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:54,111 - app.services.vector_service - INFO -    2. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:54,111 - app.services.vector_service - INFO -    3. YouTube Snack 23 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:54,111 - app.services.vector_service - INFO -    4. YouTube Pizza 2 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:54,111 - app.services.vector_service - INFO -    5. YouTube Burger 9 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:54,111 - app.services.vector_service - INFO -    6. YouTube Beverage 25 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:54,111 - app.services.vector_service - INFO -    7. YouTube Burger 15 (swiped: 2025-08-29 21:37)
2025-08-30 21:45:54,111 - app.services.vector_service - INFO -    8. YouTube Beverage 8 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:54,111 - app.services.vector_service - INFO -    9. YouTube Smoothie 7 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:54,111 - app.services.vector_service - INFO -    10. YouTube Beverage 19 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:54,111 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-30 21:45:54,111 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-30 21:45:54,111 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-30 21:45:54,111 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-30 21:45:54,112 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-30 21:45:54,112 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-30 21:45:54,113 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-30 21:45:54,113 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-30 21:45:54,113 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:54,113 - app.services.recommendations - INFO - 🚫 Excluding 80 swiped products (liked: 39, disliked: 41)
2025-08-30 21:45:54,113 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-30 21:45:54,114 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4654 to 0.5532
2025-08-30 21:45:54,114 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 25 swiped products
2025-08-30 21:45:54,148 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-30 21:45:54,148 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['YouTube Smoothie 1:0.7957', "McDonald's Snack 18:0.7883", 'Nike Coffee 23:0.7829']
2025-08-30 21:45:54,149 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:54,149 - app.routers.recommendations - INFO - ✅ [req_1756583154067] SUCCESS: Found 3 recommendations
2025-08-30 21:45:54,149 - app.routers.recommendations - INFO - ⏱️ [req_1756583154067] Processing time: 0.082s
2025-08-30 21:45:54,149 - app.routers.recommendations - INFO - 🏆 [req_1756583154067] Top 1: YouTube Smoothie 1 (score: 0.7957)
2025-08-30 21:45:54,149 - app.routers.recommendations - INFO - 🏆 [req_1756583154067] Top 2: McDonald's Snack 18 (score: 0.7883)
2025-08-30 21:45:54,149 - app.routers.recommendations - INFO - 🏆 [req_1756583154067] Top 3: Nike Coffee 23 (score: 0.7829)
2025-08-30 21:45:54,149 - app.routers.recommendations - INFO - 🎯 [req_1756583154067] API RESPONSE: Returning 3 recommendations
2025-08-30 21:45:56,217 - app.routers.recommendations - INFO - 🚀 [req_1756583156217] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:56,217 - app.routers.recommendations - INFO - 📋 [req_1756583156217] Parameters: limit=3, category=None, brand_id=None
2025-08-30 21:45:56,217 - app.routers.recommendations - INFO - ⚖️ [req_1756583156217] Weights: image=0.6, text=0.4
2025-08-30 21:45:56,220 - app.routers.recommendations - INFO - ✅ [req_1756583156217] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-30 21:45:56,220 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-30 21:45:56,220 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-30 21:45:56,220 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-30 21:45:56,222 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-30 21:45:56,223 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-30 21:45:56,224 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-30 21:45:56,228 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-30 21:45:56,229 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-30 21:45:56,229 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-30 21:45:56,229 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:56,229 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:56,235 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-30 21:45:56,236 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-30 21:45:56,236 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-30 21:45:56,238 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:56,250 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-30 21:45:56,251 - app.services.vector_service - INFO -    1. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:56,251 - app.services.vector_service - INFO -    2. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:56,251 - app.services.vector_service - INFO -    3. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:56,251 - app.services.vector_service - INFO -    4. YouTube Snack 23 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:56,251 - app.services.vector_service - INFO -    5. YouTube Pizza 2 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:56,251 - app.services.vector_service - INFO -    6. YouTube Burger 9 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:56,251 - app.services.vector_service - INFO -    7. YouTube Beverage 25 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:56,251 - app.services.vector_service - INFO -    8. YouTube Burger 15 (swiped: 2025-08-29 21:37)
2025-08-30 21:45:56,251 - app.services.vector_service - INFO -    9. YouTube Beverage 8 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:56,251 - app.services.vector_service - INFO -    10. YouTube Smoothie 7 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:56,251 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-30 21:45:56,251 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-30 21:45:56,251 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-30 21:45:56,251 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-30 21:45:56,252 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-30 21:45:56,252 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-30 21:45:56,253 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-30 21:45:56,253 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-30 21:45:56,253 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:56,253 - app.services.recommendations - INFO - 🚫 Excluding 82 swiped products (liked: 40, disliked: 42)
2025-08-30 21:45:56,253 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-30 21:45:56,253 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4693 to 0.5500
2025-08-30 21:45:56,253 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 27 swiped products
2025-08-30 21:45:56,295 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-30 21:45:56,295 - app.services.vector_service - INFO - 🏆 Top similarity scores: ["McDonald's Coffee 1:0.7919", 'Nike Coffee 23:0.7900', 'Nike Pizza 19:0.7899']
2025-08-30 21:45:56,296 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:56,296 - app.routers.recommendations - INFO - ✅ [req_1756583156217] SUCCESS: Found 3 recommendations
2025-08-30 21:45:56,296 - app.routers.recommendations - INFO - ⏱️ [req_1756583156217] Processing time: 0.080s
2025-08-30 21:45:56,296 - app.routers.recommendations - INFO - 🏆 [req_1756583156217] Top 1: McDonald's Coffee 1 (score: 0.7919)
2025-08-30 21:45:56,296 - app.routers.recommendations - INFO - 🏆 [req_1756583156217] Top 2: Nike Coffee 23 (score: 0.7900)
2025-08-30 21:45:56,297 - app.routers.recommendations - INFO - 🏆 [req_1756583156217] Top 3: Nike Pizza 19 (score: 0.7899)
2025-08-30 21:45:56,297 - app.routers.recommendations - INFO - 🎯 [req_1756583156217] API RESPONSE: Returning 3 recommendations
2025-08-30 21:45:58,919 - app.routers.recommendations - INFO - 🚀 [req_1756583158919] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:58,920 - app.routers.recommendations - INFO - 📋 [req_1756583158919] Parameters: limit=3, category=None, brand_id=None
2025-08-30 21:45:58,920 - app.routers.recommendations - INFO - ⚖️ [req_1756583158919] Weights: image=0.6, text=0.4
2025-08-30 21:45:58,924 - app.routers.recommendations - INFO - ✅ [req_1756583158919] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-30 21:45:58,924 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-30 21:45:58,924 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-30 21:45:58,925 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-30 21:45:58,928 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-30 21:45:58,928 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-30 21:45:58,929 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-30 21:45:58,931 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-30 21:45:58,932 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-30 21:45:58,932 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-30 21:45:58,932 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:58,932 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:58,938 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-30 21:45:58,938 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-30 21:45:58,938 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-30 21:45:58,940 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:58,964 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-30 21:45:58,964 - app.services.vector_service - INFO -    1. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:58,964 - app.services.vector_service - INFO -    2. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:58,964 - app.services.vector_service - INFO -    3. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:58,964 - app.services.vector_service - INFO -    4. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:58,964 - app.services.vector_service - INFO -    5. YouTube Snack 23 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:58,965 - app.services.vector_service - INFO -    6. YouTube Pizza 2 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:58,965 - app.services.vector_service - INFO -    7. YouTube Burger 9 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:58,965 - app.services.vector_service - INFO -    8. YouTube Beverage 25 (swiped: 2025-08-30 19:45)
2025-08-30 21:45:58,965 - app.services.vector_service - INFO -    9. YouTube Burger 15 (swiped: 2025-08-29 21:37)
2025-08-30 21:45:58,965 - app.services.vector_service - INFO -    10. YouTube Beverage 8 (swiped: 2025-08-29 21:36)
2025-08-30 21:45:58,965 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-30 21:45:58,965 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-30 21:45:58,965 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-30 21:45:58,965 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-30 21:45:58,965 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-30 21:45:58,966 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-30 21:45:58,966 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-30 21:45:58,966 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-30 21:45:58,967 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:58,967 - app.services.recommendations - INFO - 🚫 Excluding 84 swiped products (liked: 41, disliked: 43)
2025-08-30 21:45:58,967 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-30 21:45:58,967 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4721 to 0.5475
2025-08-30 21:45:58,968 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 29 swiped products
2025-08-30 21:45:58,998 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-30 21:45:58,998 - app.services.vector_service - INFO - 🏆 Top similarity scores: ["McDonald's Snack 7:0.7995", "McDonald's Pizza 26:0.7988", "McDonald's Smoothie 10:0.7965"]
2025-08-30 21:45:58,998 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:45:58,998 - app.routers.recommendations - INFO - ✅ [req_1756583158919] SUCCESS: Found 3 recommendations
2025-08-30 21:45:58,998 - app.routers.recommendations - INFO - ⏱️ [req_1756583158919] Processing time: 0.080s
2025-08-30 21:45:58,998 - app.routers.recommendations - INFO - 🏆 [req_1756583158919] Top 1: McDonald's Snack 7 (score: 0.7995)
2025-08-30 21:45:58,998 - app.routers.recommendations - INFO - 🏆 [req_1756583158919] Top 2: McDonald's Pizza 26 (score: 0.7988)
2025-08-30 21:45:58,998 - app.routers.recommendations - INFO - 🏆 [req_1756583158919] Top 3: McDonald's Smoothie 10 (score: 0.7965)
2025-08-30 21:45:58,998 - app.routers.recommendations - INFO - 🎯 [req_1756583158919] API RESPONSE: Returning 3 recommendations
2025-08-30 21:46:02,098 - app.routers.recommendations - INFO - 🚀 [req_1756583162098] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:46:02,099 - app.routers.recommendations - INFO - 📋 [req_1756583162098] Parameters: limit=3, category=None, brand_id=None
2025-08-30 21:46:02,099 - app.routers.recommendations - INFO - ⚖️ [req_1756583162098] Weights: image=0.6, text=0.4
2025-08-30 21:46:02,101 - app.routers.recommendations - INFO - ✅ [req_1756583162098] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-30 21:46:02,101 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-30 21:46:02,101 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-30 21:46:02,101 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-30 21:46:02,103 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-30 21:46:02,103 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-30 21:46:02,104 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-30 21:46:02,106 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-30 21:46:02,106 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-30 21:46:02,106 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-30 21:46:02,106 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:46:02,106 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:46:02,111 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-30 21:46:02,111 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-30 21:46:02,111 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-30 21:46:02,113 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:46:02,127 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-30 21:46:02,127 - app.services.vector_service - INFO -    1. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-30 21:46:02,127 - app.services.vector_service - INFO -    2. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-30 21:46:02,128 - app.services.vector_service - INFO -    3. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-30 21:46:02,128 - app.services.vector_service - INFO -    4. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-30 21:46:02,128 - app.services.vector_service - INFO -    5. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-30 21:46:02,128 - app.services.vector_service - INFO -    6. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-30 21:46:02,128 - app.services.vector_service - INFO -    7. YouTube Snack 23 (swiped: 2025-08-30 19:45)
2025-08-30 21:46:02,128 - app.services.vector_service - INFO -    8. YouTube Pizza 2 (swiped: 2025-08-30 19:45)
2025-08-30 21:46:02,128 - app.services.vector_service - INFO -    9. YouTube Burger 9 (swiped: 2025-08-30 19:45)
2025-08-30 21:46:02,128 - app.services.vector_service - INFO -    10. YouTube Beverage 25 (swiped: 2025-08-30 19:45)
2025-08-30 21:46:02,128 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-30 21:46:02,128 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-30 21:46:02,128 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-30 21:46:02,128 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-30 21:46:02,129 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-30 21:46:02,129 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-30 21:46:02,130 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-30 21:46:02,130 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-30 21:46:02,131 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:46:02,131 - app.services.recommendations - INFO - 🚫 Excluding 87 swiped products (liked: 43, disliked: 44)
2025-08-30 21:46:02,131 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-30 21:46:02,131 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4736 to 0.5404
2025-08-30 21:46:02,132 - app.services.vector_service - INFO - 📊 Found 29 candidate products after excluding 31 swiped products
2025-08-30 21:46:02,176 - app.services.vector_service - INFO - 🚀 FAISS search found 29 products
2025-08-30 21:46:02,176 - app.services.vector_service - INFO - 🏆 Top similarity scores: ["McDonald's Snack 17:0.8249", "McDonald's Burger 11:0.8232", "McDonald's Smoothie 10:0.8216"]
2025-08-30 21:46:02,177 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:46:02,177 - app.routers.recommendations - INFO - ✅ [req_1756583162098] SUCCESS: Found 3 recommendations
2025-08-30 21:46:02,177 - app.routers.recommendations - INFO - ⏱️ [req_1756583162098] Processing time: 0.078s
2025-08-30 21:46:02,177 - app.routers.recommendations - INFO - 🏆 [req_1756583162098] Top 1: McDonald's Snack 17 (score: 0.8249)
2025-08-30 21:46:02,177 - app.routers.recommendations - INFO - 🏆 [req_1756583162098] Top 2: McDonald's Burger 11 (score: 0.8232)
2025-08-30 21:46:02,177 - app.routers.recommendations - INFO - 🏆 [req_1756583162098] Top 3: McDonald's Smoothie 10 (score: 0.8216)
2025-08-30 21:46:02,177 - app.routers.recommendations - INFO - 🎯 [req_1756583162098] API RESPONSE: Returning 3 recommendations
2025-08-30 21:46:04,233 - app.routers.recommendations - INFO - 🚀 [req_1756583164233] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:46:04,234 - app.routers.recommendations - INFO - 📋 [req_1756583164233] Parameters: limit=3, category=None, brand_id=None
2025-08-30 21:46:04,234 - app.routers.recommendations - INFO - ⚖️ [req_1756583164233] Weights: image=0.6, text=0.4
2025-08-30 21:46:04,235 - app.routers.recommendations - INFO - ✅ [req_1756583164233] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-30 21:46:04,236 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-30 21:46:04,236 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-30 21:46:04,236 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-30 21:46:04,237 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-30 21:46:04,237 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-30 21:46:04,239 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-30 21:46:04,240 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-30 21:46:04,240 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-30 21:46:04,241 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-30 21:46:04,241 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:46:04,241 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:46:04,246 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-30 21:46:04,246 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-30 21:46:04,246 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-30 21:46:04,250 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:46:04,261 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-30 21:46:04,261 - app.services.vector_service - INFO -    1. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-30 21:46:04,262 - app.services.vector_service - INFO -    2. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-30 21:46:04,262 - app.services.vector_service - INFO -    3. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-30 21:46:04,262 - app.services.vector_service - INFO -    4. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-30 21:46:04,262 - app.services.vector_service - INFO -    5. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-30 21:46:04,262 - app.services.vector_service - INFO -    6. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-30 21:46:04,262 - app.services.vector_service - INFO -    7. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-30 21:46:04,262 - app.services.vector_service - INFO -    8. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-30 21:46:04,262 - app.services.vector_service - INFO -    9. YouTube Snack 23 (swiped: 2025-08-30 19:45)
2025-08-30 21:46:04,262 - app.services.vector_service - INFO -    10. YouTube Pizza 2 (swiped: 2025-08-30 19:45)
2025-08-30 21:46:04,262 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-30 21:46:04,262 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-30 21:46:04,262 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-30 21:46:04,262 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-30 21:46:04,262 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-30 21:46:04,263 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-30 21:46:04,263 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-30 21:46:04,263 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-30 21:46:04,264 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:46:04,264 - app.services.recommendations - INFO - 🚫 Excluding 89 swiped products (liked: 45, disliked: 44)
2025-08-30 21:46:04,264 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-30 21:46:04,264 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4780 to 0.5613
2025-08-30 21:46:04,264 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 30 swiped products
2025-08-30 21:46:04,325 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-30 21:46:04,325 - app.services.vector_service - INFO - 🏆 Top similarity scores: ["McDonald's Meal 14:0.8448", "McDonald's Meal 12:0.8367", "McDonald's Dessert 19:0.8355"]
2025-08-30 21:46:04,326 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-30 21:46:04,326 - app.routers.recommendations - INFO - ✅ [req_1756583164233] SUCCESS: Found 3 recommendations
2025-08-30 21:46:04,326 - app.routers.recommendations - INFO - ⏱️ [req_1756583164233] Processing time: 0.093s
2025-08-30 21:46:04,326 - app.routers.recommendations - INFO - 🏆 [req_1756583164233] Top 1: McDonald's Meal 14 (score: 0.8448)
2025-08-30 21:46:04,326 - app.routers.recommendations - INFO - 🏆 [req_1756583164233] Top 2: McDonald's Meal 12 (score: 0.8367)
2025-08-30 21:46:04,326 - app.routers.recommendations - INFO - 🏆 [req_1756583164233] Top 3: McDonald's Dessert 19 (score: 0.8355)
2025-08-30 21:46:04,327 - app.routers.recommendations - INFO - 🎯 [req_1756583164233] API RESPONSE: Returning 3 recommendations
2025-08-31 09:58:53,929 - app.routers.recommendations - INFO - 🚀 [req_1756627133928] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 09:58:53,931 - app.routers.recommendations - INFO - 📋 [req_1756627133928] Parameters: limit=3, category=None, brand_id=None
2025-08-31 09:58:53,931 - app.routers.recommendations - INFO - ⚖️ [req_1756627133928] Weights: image=0.6, text=0.4
2025-08-31 09:58:54,059 - app.routers.recommendations - INFO - ✅ [req_1756627133928] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 09:58:54,060 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 09:58:54,060 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 09:58:54,065 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 09:58:54,088 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 09:58:54,089 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 09:58:54,091 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 09:58:54,095 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 09:58:54,095 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 09:58:54,095 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 09:58:54,096 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 09:58:54,096 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 09:58:54,225 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 09:58:54,225 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 09:58:54,225 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 09:58:54,235 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 09:58:54,331 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 09:58:54,332 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 09:58:54,332 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 09:58:54,332 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 09:58:54,332 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 09:58:54,332 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 09:58:54,332 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 09:58:54,332 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 09:58:54,332 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 09:58:54,332 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 09:58:54,332 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 09:58:54,332 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 09:58:54,332 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 09:58:54,332 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 09:58:54,332 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 09:58:54,333 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 09:58:54,333 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 09:58:54,333 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 09:58:54,333 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 09:58:54,334 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 09:58:54,334 - app.services.recommendations - INFO - 🚫 Excluding 92 swiped products (liked: 47, disliked: 45)
2025-08-31 09:58:54,337 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 09:58:54,345 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4786 to 0.5722
2025-08-31 09:58:54,345 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 27 swiped products
2025-08-31 09:58:54,430 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-31 09:58:54,430 - app.services.vector_service - INFO - 🏆 Top similarity scores: ["McDonald's Dessert 19:0.8467", "McDonald's Burger 20:0.8455", "McDonald's Dessert 16:0.8413"]
2025-08-31 09:58:54,430 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 09:58:54,430 - app.routers.recommendations - INFO - ✅ [req_1756627133928] SUCCESS: Found 3 recommendations
2025-08-31 09:58:54,430 - app.routers.recommendations - INFO - ⏱️ [req_1756627133928] Processing time: 0.502s
2025-08-31 09:58:54,430 - app.routers.recommendations - INFO - 🏆 [req_1756627133928] Top 1: McDonald's Dessert 19 (score: 0.8467)
2025-08-31 09:58:54,430 - app.routers.recommendations - INFO - 🏆 [req_1756627133928] Top 2: McDonald's Burger 20 (score: 0.8455)
2025-08-31 09:58:54,430 - app.routers.recommendations - INFO - 🏆 [req_1756627133928] Top 3: McDonald's Dessert 16 (score: 0.8413)
2025-08-31 09:58:54,431 - app.routers.recommendations - INFO - 🎯 [req_1756627133928] API RESPONSE: Returning 3 recommendations
2025-08-31 09:58:58,684 - app.routers.recommendations - INFO - 🚀 [req_1756627138684] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 09:58:58,685 - app.routers.recommendations - INFO - 📋 [req_1756627138684] Parameters: limit=3, category=None, brand_id=None
2025-08-31 09:58:58,685 - app.routers.recommendations - INFO - ⚖️ [req_1756627138684] Weights: image=0.6, text=0.4
2025-08-31 09:58:58,701 - app.routers.recommendations - INFO - ✅ [req_1756627138684] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 09:58:58,701 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 09:58:58,702 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 09:58:58,703 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 09:58:58,706 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 09:58:58,707 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 09:58:58,709 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 09:58:58,711 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 09:58:58,712 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 09:58:58,712 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 09:58:58,712 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 09:58:58,712 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 09:58:58,734 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 09:58:58,734 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 09:58:58,734 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 09:58:58,747 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 09:58:58,759 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 09:58:58,759 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 09:58:58,759 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 09:58:58,759 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 09:58:58,759 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 09:58:58,759 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 09:58:58,759 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 09:58:58,759 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 09:58:58,759 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 09:58:58,759 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 09:58:58,759 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 09:58:58,759 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 09:58:58,759 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 09:58:58,760 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 09:58:58,760 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 09:58:58,760 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 09:58:58,760 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 09:58:58,761 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 09:58:58,761 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 09:58:58,761 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 09:58:58,761 - app.services.recommendations - INFO - 🚫 Excluding 94 swiped products (liked: 47, disliked: 47)
2025-08-31 09:58:58,762 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 09:58:58,762 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4786 to 0.5722
2025-08-31 09:58:58,762 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 29 swiped products
2025-08-31 09:58:58,792 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-31 09:58:58,793 - app.services.vector_service - INFO - 🏆 Top similarity scores: ["McDonald's Dessert 16:0.8413", "McDonald's Burger 4:0.8304", "McDonald's Dessert 15:0.8221"]
2025-08-31 09:58:58,793 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 09:58:58,793 - app.routers.recommendations - INFO - ✅ [req_1756627138684] SUCCESS: Found 3 recommendations
2025-08-31 09:58:58,793 - app.routers.recommendations - INFO - ⏱️ [req_1756627138684] Processing time: 0.109s
2025-08-31 09:58:58,793 - app.routers.recommendations - INFO - 🏆 [req_1756627138684] Top 1: McDonald's Dessert 16 (score: 0.8413)
2025-08-31 09:58:58,793 - app.routers.recommendations - INFO - 🏆 [req_1756627138684] Top 2: McDonald's Burger 4 (score: 0.8304)
2025-08-31 09:58:58,793 - app.routers.recommendations - INFO - 🏆 [req_1756627138684] Top 3: McDonald's Dessert 15 (score: 0.8221)
2025-08-31 09:58:58,794 - app.routers.recommendations - INFO - 🎯 [req_1756627138684] API RESPONSE: Returning 3 recommendations
2025-08-31 10:01:32,991 - app.routers.recommendations - INFO - 🚀 [req_1756627292991] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:32,993 - app.routers.recommendations - INFO - 📋 [req_1756627292991] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:01:32,993 - app.routers.recommendations - INFO - ⚖️ [req_1756627292991] Weights: image=0.6, text=0.4
2025-08-31 10:01:32,998 - app.routers.recommendations - INFO - ✅ [req_1756627292991] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 10:01:33,000 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:01:33,000 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:01:33,003 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:01:33,016 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:01:33,017 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:01:33,022 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:01:33,026 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:01:33,026 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:01:33,027 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:01:33,027 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:33,027 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:33,037 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:01:33,037 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 10:01:33,037 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 10:01:33,041 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:33,062 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 10:01:33,062 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 10:01:33,062 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:33,062 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:33,062 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:33,062 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:33,062 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:33,062 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:33,062 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:33,062 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:33,062 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:33,062 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:01:33,063 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 10:01:33,063 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 10:01:33,063 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 10:01:33,063 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:01:33,064 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:01:33,064 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:01:33,064 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:01:33,064 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:33,064 - app.services.recommendations - INFO - 🚫 Excluding 96 swiped products (liked: 47, disliked: 49)
2025-08-31 10:01:33,068 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:01:33,077 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4786 to 0.5722
2025-08-31 10:01:33,078 - app.services.vector_service - INFO - 📊 Found 29 candidate products after excluding 31 swiped products
2025-08-31 10:01:33,221 - app.services.vector_service - INFO - 🚀 FAISS search found 29 products
2025-08-31 10:01:33,221 - app.services.vector_service - INFO - 🏆 Top similarity scores: ["McDonald's Dessert 15:0.8221", 'Nike Smoothie 2:0.7988', "McDonald's Pizza 23:0.7955"]
2025-08-31 10:01:33,222 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:33,222 - app.routers.recommendations - INFO - ✅ [req_1756627292991] SUCCESS: Found 3 recommendations
2025-08-31 10:01:33,222 - app.routers.recommendations - INFO - ⏱️ [req_1756627292991] Processing time: 0.230s
2025-08-31 10:01:33,222 - app.routers.recommendations - INFO - 🏆 [req_1756627292991] Top 1: McDonald's Dessert 15 (score: 0.8221)
2025-08-31 10:01:33,222 - app.routers.recommendations - INFO - 🏆 [req_1756627292991] Top 2: Nike Smoothie 2 (score: 0.7988)
2025-08-31 10:01:33,222 - app.routers.recommendations - INFO - 🏆 [req_1756627292991] Top 3: McDonald's Pizza 23 (score: 0.7955)
2025-08-31 10:01:33,222 - app.routers.recommendations - INFO - 🎯 [req_1756627292991] API RESPONSE: Returning 3 recommendations
2025-08-31 10:01:36,631 - app.routers.recommendations - INFO - 🚀 [req_1756627296631] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:36,632 - app.routers.recommendations - INFO - 📋 [req_1756627296631] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:01:36,632 - app.routers.recommendations - INFO - ⚖️ [req_1756627296631] Weights: image=0.6, text=0.4
2025-08-31 10:01:36,635 - app.routers.recommendations - INFO - ✅ [req_1756627296631] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 10:01:36,635 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:01:36,635 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:01:36,636 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:01:36,643 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:01:36,643 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:01:36,650 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:01:36,654 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:01:36,655 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:01:36,655 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:01:36,655 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:36,655 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:36,661 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:01:36,662 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 10:01:36,662 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 10:01:36,663 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:36,682 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 10:01:36,682 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 10:01:36,682 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:36,682 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:36,682 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:36,682 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:36,682 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:36,682 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:36,682 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:36,682 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:36,682 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:36,682 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:01:36,682 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 10:01:36,682 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 10:01:36,682 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 10:01:36,683 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:01:36,683 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:01:36,684 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:01:36,684 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:01:36,684 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:36,684 - app.services.recommendations - INFO - 🚫 Excluding 98 swiped products (liked: 47, disliked: 51)
2025-08-31 10:01:36,684 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:01:36,685 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4786 to 0.5722
2025-08-31 10:01:36,685 - app.services.vector_service - INFO - 📊 Found 27 candidate products after excluding 33 swiped products
2025-08-31 10:01:36,719 - app.services.vector_service - INFO - 🚀 FAISS search found 27 products
2025-08-31 10:01:36,719 - app.services.vector_service - INFO - 🏆 Top similarity scores: ["McDonald's Pizza 23:0.7955", "McDonald's Smoothie 13:0.7955", "McDonald's Pizza 8:0.7950"]
2025-08-31 10:01:36,719 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:36,720 - app.routers.recommendations - INFO - ✅ [req_1756627296631] SUCCESS: Found 3 recommendations
2025-08-31 10:01:36,720 - app.routers.recommendations - INFO - ⏱️ [req_1756627296631] Processing time: 0.088s
2025-08-31 10:01:36,720 - app.routers.recommendations - INFO - 🏆 [req_1756627296631] Top 1: McDonald's Pizza 23 (score: 0.7955)
2025-08-31 10:01:36,720 - app.routers.recommendations - INFO - 🏆 [req_1756627296631] Top 2: McDonald's Smoothie 13 (score: 0.7955)
2025-08-31 10:01:36,720 - app.routers.recommendations - INFO - 🏆 [req_1756627296631] Top 3: McDonald's Pizza 8 (score: 0.7950)
2025-08-31 10:01:36,720 - app.routers.recommendations - INFO - 🎯 [req_1756627296631] API RESPONSE: Returning 3 recommendations
2025-08-31 10:01:42,085 - app.routers.recommendations - INFO - 🚀 [req_1756627302085] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:42,086 - app.routers.recommendations - INFO - 📋 [req_1756627302085] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:01:42,086 - app.routers.recommendations - INFO - ⚖️ [req_1756627302085] Weights: image=0.6, text=0.4
2025-08-31 10:01:42,090 - app.routers.recommendations - INFO - ✅ [req_1756627302085] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 10:01:42,091 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:01:42,091 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:01:42,092 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:01:42,099 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:01:42,099 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:01:42,100 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:01:42,105 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:01:42,105 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:01:42,105 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:01:42,105 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:42,105 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:42,112 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:01:42,112 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 10:01:42,112 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 10:01:42,113 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:42,129 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 10:01:42,129 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 10:01:42,129 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:42,129 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:42,129 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:42,129 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:42,129 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:42,129 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:42,129 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:42,129 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:42,129 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:42,129 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:01:42,129 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 10:01:42,130 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 10:01:42,130 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 10:01:42,130 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:01:42,130 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:01:42,131 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:01:42,131 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:01:42,131 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:42,131 - app.services.recommendations - INFO - 🚫 Excluding 100 swiped products (liked: 47, disliked: 53)
2025-08-31 10:01:42,132 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:01:42,132 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4786 to 0.5722
2025-08-31 10:01:42,132 - app.services.vector_service - INFO - 📊 Found 25 candidate products after excluding 35 swiped products
2025-08-31 10:01:42,170 - app.services.vector_service - INFO - 🚀 FAISS search found 25 products
2025-08-31 10:01:42,170 - app.services.vector_service - INFO - 🏆 Top similarity scores: ["McDonald's Pizza 8:0.7950", 'Samsung Meal 21:0.7948', "McDonald's Pizza 22:0.7947"]
2025-08-31 10:01:42,171 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:42,171 - app.routers.recommendations - INFO - ✅ [req_1756627302085] SUCCESS: Found 3 recommendations
2025-08-31 10:01:42,171 - app.routers.recommendations - INFO - ⏱️ [req_1756627302085] Processing time: 0.086s
2025-08-31 10:01:42,171 - app.routers.recommendations - INFO - 🏆 [req_1756627302085] Top 1: McDonald's Pizza 8 (score: 0.7950)
2025-08-31 10:01:42,171 - app.routers.recommendations - INFO - 🏆 [req_1756627302085] Top 2: Samsung Meal 21 (score: 0.7948)
2025-08-31 10:01:42,171 - app.routers.recommendations - INFO - 🏆 [req_1756627302085] Top 3: McDonald's Pizza 22 (score: 0.7947)
2025-08-31 10:01:42,171 - app.routers.recommendations - INFO - 🎯 [req_1756627302085] API RESPONSE: Returning 3 recommendations
2025-08-31 10:01:47,298 - app.routers.recommendations - INFO - 🚀 [req_1756627307298] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:47,299 - app.routers.recommendations - INFO - 📋 [req_1756627307298] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:01:47,299 - app.routers.recommendations - INFO - ⚖️ [req_1756627307298] Weights: image=0.6, text=0.4
2025-08-31 10:01:47,302 - app.routers.recommendations - INFO - ✅ [req_1756627307298] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 10:01:47,302 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:01:47,302 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:01:47,303 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:01:47,306 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:01:47,307 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:01:47,308 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:01:47,312 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:01:47,312 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:01:47,312 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:01:47,312 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:47,313 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:47,319 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:01:47,320 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 10:01:47,320 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 10:01:47,322 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:47,338 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 10:01:47,339 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 10:01:47,339 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:47,339 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:47,339 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:47,339 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:47,339 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:47,339 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:47,339 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:47,339 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:47,339 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:47,339 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:01:47,339 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 10:01:47,339 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 10:01:47,339 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 10:01:47,340 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:01:47,340 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:01:47,341 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:01:47,341 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:01:47,341 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:47,341 - app.services.recommendations - INFO - 🚫 Excluding 102 swiped products (liked: 47, disliked: 55)
2025-08-31 10:01:47,341 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:01:47,342 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4786 to 0.5722
2025-08-31 10:01:47,342 - app.services.vector_service - INFO - 📊 Found 23 candidate products after excluding 37 swiped products
2025-08-31 10:01:47,377 - app.services.vector_service - INFO - 🚀 FAISS search found 23 products
2025-08-31 10:01:47,377 - app.services.vector_service - INFO - 🏆 Top similarity scores: ["McDonald's Pizza 22:0.7947", "McDonald's Smoothie 25:0.7920", 'Uber Meal 28:0.7898']
2025-08-31 10:01:47,377 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:47,377 - app.routers.recommendations - INFO - ✅ [req_1756627307298] SUCCESS: Found 3 recommendations
2025-08-31 10:01:47,377 - app.routers.recommendations - INFO - ⏱️ [req_1756627307298] Processing time: 0.079s
2025-08-31 10:01:47,377 - app.routers.recommendations - INFO - 🏆 [req_1756627307298] Top 1: McDonald's Pizza 22 (score: 0.7947)
2025-08-31 10:01:47,377 - app.routers.recommendations - INFO - 🏆 [req_1756627307298] Top 2: McDonald's Smoothie 25 (score: 0.7920)
2025-08-31 10:01:47,377 - app.routers.recommendations - INFO - 🏆 [req_1756627307298] Top 3: Uber Meal 28 (score: 0.7898)
2025-08-31 10:01:47,378 - app.routers.recommendations - INFO - 🎯 [req_1756627307298] API RESPONSE: Returning 3 recommendations
2025-08-31 10:01:50,666 - app.routers.recommendations - INFO - 🚀 [req_1756627310666] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:50,666 - app.routers.recommendations - INFO - 📋 [req_1756627310666] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:01:50,666 - app.routers.recommendations - INFO - ⚖️ [req_1756627310666] Weights: image=0.6, text=0.4
2025-08-31 10:01:50,669 - app.routers.recommendations - INFO - ✅ [req_1756627310666] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 10:01:50,669 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:01:50,669 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:01:50,669 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:01:50,670 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:01:50,670 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:01:50,671 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:01:50,672 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:01:50,672 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:01:50,672 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:01:50,672 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:50,672 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:50,676 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:01:50,676 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 10:01:50,676 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 10:01:50,677 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:50,689 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 10:01:50,689 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 10:01:50,689 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:50,689 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:50,689 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:50,690 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:50,690 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:50,690 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:50,690 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:50,690 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:50,690 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:50,690 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:01:50,690 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 10:01:50,690 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 10:01:50,690 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 10:01:50,690 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:01:50,690 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:01:50,690 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:01:50,690 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:01:50,691 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:50,691 - app.services.recommendations - INFO - 🚫 Excluding 104 swiped products (liked: 47, disliked: 57)
2025-08-31 10:01:50,691 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:01:50,691 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4786 to 0.5722
2025-08-31 10:01:50,691 - app.services.vector_service - INFO - 📊 Found 21 candidate products after excluding 39 swiped products
2025-08-31 10:01:50,728 - app.services.vector_service - INFO - 🚀 FAISS search found 21 products
2025-08-31 10:01:50,728 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Uber Meal 28:0.7898', 'Nike Dessert 14:0.7875', 'Nike Smoothie 18:0.7863']
2025-08-31 10:01:50,728 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:50,728 - app.routers.recommendations - INFO - ✅ [req_1756627310666] SUCCESS: Found 3 recommendations
2025-08-31 10:01:50,728 - app.routers.recommendations - INFO - ⏱️ [req_1756627310666] Processing time: 0.063s
2025-08-31 10:01:50,728 - app.routers.recommendations - INFO - 🏆 [req_1756627310666] Top 1: Uber Meal 28 (score: 0.7898)
2025-08-31 10:01:50,729 - app.routers.recommendations - INFO - 🏆 [req_1756627310666] Top 2: Nike Dessert 14 (score: 0.7875)
2025-08-31 10:01:50,729 - app.routers.recommendations - INFO - 🏆 [req_1756627310666] Top 3: Nike Smoothie 18 (score: 0.7863)
2025-08-31 10:01:50,729 - app.routers.recommendations - INFO - 🎯 [req_1756627310666] API RESPONSE: Returning 3 recommendations
2025-08-31 10:01:54,448 - app.routers.recommendations - INFO - 🚀 [req_1756627314448] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:54,449 - app.routers.recommendations - INFO - 📋 [req_1756627314448] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:01:54,449 - app.routers.recommendations - INFO - ⚖️ [req_1756627314448] Weights: image=0.6, text=0.4
2025-08-31 10:01:54,450 - app.routers.recommendations - INFO - ✅ [req_1756627314448] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 10:01:54,450 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:01:54,450 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:01:54,451 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:01:54,452 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:01:54,452 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:01:54,452 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:01:54,453 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:01:54,453 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:01:54,454 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:01:54,454 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:54,454 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:54,457 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:01:54,457 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 10:01:54,457 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 10:01:54,458 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:54,469 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 10:01:54,469 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 10:01:54,469 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:54,469 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:54,469 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:54,469 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:54,469 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:54,469 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:54,469 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:54,469 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:54,469 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:54,469 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:01:54,469 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 10:01:54,469 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 10:01:54,469 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 10:01:54,470 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:01:54,470 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:01:54,470 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:01:54,470 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:01:54,470 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:54,470 - app.services.recommendations - INFO - 🚫 Excluding 106 swiped products (liked: 47, disliked: 59)
2025-08-31 10:01:54,470 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:01:54,471 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4786 to 0.5722
2025-08-31 10:01:54,471 - app.services.vector_service - INFO - 📊 Found 19 candidate products after excluding 41 swiped products
2025-08-31 10:01:54,491 - app.services.vector_service - INFO - 🚀 FAISS search found 19 products
2025-08-31 10:01:54,491 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Nike Smoothie 18:0.7863', 'Apple Event 15:0.7854', "McDonald's Dessert 21:0.7845"]
2025-08-31 10:01:54,491 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:54,491 - app.routers.recommendations - INFO - ✅ [req_1756627314448] SUCCESS: Found 3 recommendations
2025-08-31 10:01:54,491 - app.routers.recommendations - INFO - ⏱️ [req_1756627314448] Processing time: 0.043s
2025-08-31 10:01:54,491 - app.routers.recommendations - INFO - 🏆 [req_1756627314448] Top 1: Nike Smoothie 18 (score: 0.7863)
2025-08-31 10:01:54,492 - app.routers.recommendations - INFO - 🏆 [req_1756627314448] Top 2: Apple Event 15 (score: 0.7854)
2025-08-31 10:01:54,492 - app.routers.recommendations - INFO - 🏆 [req_1756627314448] Top 3: McDonald's Dessert 21 (score: 0.7845)
2025-08-31 10:01:54,492 - app.routers.recommendations - INFO - 🎯 [req_1756627314448] API RESPONSE: Returning 3 recommendations
2025-08-31 10:01:57,232 - app.routers.recommendations - INFO - 🚀 [req_1756627317232] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:57,232 - app.routers.recommendations - INFO - 📋 [req_1756627317232] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:01:57,233 - app.routers.recommendations - INFO - ⚖️ [req_1756627317232] Weights: image=0.6, text=0.4
2025-08-31 10:01:57,247 - app.routers.recommendations - INFO - ✅ [req_1756627317232] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 10:01:57,248 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:01:57,248 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:01:57,248 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:01:57,249 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:01:57,249 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:01:57,250 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:01:57,250 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:01:57,250 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:01:57,250 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:01:57,250 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:57,250 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:57,254 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:01:57,254 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 10:01:57,254 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 10:01:57,254 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:57,262 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 10:01:57,262 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 10:01:57,262 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:57,262 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:57,262 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:57,262 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:57,262 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:57,262 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:57,262 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:57,262 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:57,262 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:57,263 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:01:57,263 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 10:01:57,263 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 10:01:57,263 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 10:01:57,263 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:01:57,263 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:01:57,263 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:01:57,263 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:01:57,264 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:57,264 - app.services.recommendations - INFO - 🚫 Excluding 108 swiped products (liked: 47, disliked: 61)
2025-08-31 10:01:57,264 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:01:57,264 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4786 to 0.5722
2025-08-31 10:01:57,264 - app.services.vector_service - INFO - 📊 Found 17 candidate products after excluding 43 swiped products
2025-08-31 10:01:57,278 - app.services.vector_service - INFO - 🚀 FAISS search found 17 products
2025-08-31 10:01:57,278 - app.services.vector_service - INFO - 🏆 Top similarity scores: ["McDonald's Dessert 21:0.7845", "McDonald's Snack 6:0.7823", 'Starbucks Bag 10:0.7807']
2025-08-31 10:01:57,278 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:57,279 - app.routers.recommendations - INFO - ✅ [req_1756627317232] SUCCESS: Found 3 recommendations
2025-08-31 10:01:57,279 - app.routers.recommendations - INFO - ⏱️ [req_1756627317232] Processing time: 0.047s
2025-08-31 10:01:57,279 - app.routers.recommendations - INFO - 🏆 [req_1756627317232] Top 1: McDonald's Dessert 21 (score: 0.7845)
2025-08-31 10:01:57,279 - app.routers.recommendations - INFO - 🏆 [req_1756627317232] Top 2: McDonald's Snack 6 (score: 0.7823)
2025-08-31 10:01:57,279 - app.routers.recommendations - INFO - 🏆 [req_1756627317232] Top 3: Starbucks Bag 10 (score: 0.7807)
2025-08-31 10:01:57,279 - app.routers.recommendations - INFO - 🎯 [req_1756627317232] API RESPONSE: Returning 3 recommendations
2025-08-31 10:01:59,666 - app.routers.recommendations - INFO - 🚀 [req_1756627319666] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:59,666 - app.routers.recommendations - INFO - 📋 [req_1756627319666] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:01:59,666 - app.routers.recommendations - INFO - ⚖️ [req_1756627319666] Weights: image=0.6, text=0.4
2025-08-31 10:01:59,667 - app.routers.recommendations - INFO - ✅ [req_1756627319666] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 10:01:59,667 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:01:59,667 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:01:59,667 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:01:59,668 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:01:59,668 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:01:59,668 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:01:59,669 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:01:59,669 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:01:59,669 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:01:59,669 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:59,669 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:59,672 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:01:59,672 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 10:01:59,672 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 10:01:59,673 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:59,684 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 10:01:59,684 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 10:01:59,684 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:59,684 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:59,684 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:59,684 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:59,684 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 10:01:59,685 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:59,685 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:59,685 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:59,685 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 10:01:59,685 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:01:59,685 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 10:01:59,685 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 10:01:59,685 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 10:01:59,685 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:01:59,685 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:01:59,685 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:01:59,685 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:01:59,686 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:59,686 - app.services.recommendations - INFO - 🚫 Excluding 110 swiped products (liked: 47, disliked: 63)
2025-08-31 10:01:59,686 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:01:59,686 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4786 to 0.5722
2025-08-31 10:01:59,686 - app.services.vector_service - INFO - 📊 Found 15 candidate products after excluding 45 swiped products
2025-08-31 10:01:59,716 - app.services.vector_service - INFO - 🚀 FAISS search found 15 products
2025-08-31 10:01:59,716 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Starbucks Bag 10:0.7807', 'Uber Coffee 20:0.7807', 'Uber Smoothie 16:0.7797']
2025-08-31 10:01:59,716 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:01:59,716 - app.routers.recommendations - INFO - ✅ [req_1756627319666] SUCCESS: Found 3 recommendations
2025-08-31 10:01:59,717 - app.routers.recommendations - INFO - ⏱️ [req_1756627319666] Processing time: 0.051s
2025-08-31 10:01:59,717 - app.routers.recommendations - INFO - 🏆 [req_1756627319666] Top 1: Starbucks Bag 10 (score: 0.7807)
2025-08-31 10:01:59,717 - app.routers.recommendations - INFO - 🏆 [req_1756627319666] Top 2: Uber Coffee 20 (score: 0.7807)
2025-08-31 10:01:59,717 - app.routers.recommendations - INFO - 🏆 [req_1756627319666] Top 3: Uber Smoothie 16 (score: 0.7797)
2025-08-31 10:01:59,717 - app.routers.recommendations - INFO - 🎯 [req_1756627319666] API RESPONSE: Returning 3 recommendations
2025-08-31 10:02:02,950 - app.routers.recommendations - INFO - 🚀 [req_1756627322950] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:02,951 - app.routers.recommendations - INFO - 📋 [req_1756627322950] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:02:02,951 - app.routers.recommendations - INFO - ⚖️ [req_1756627322950] Weights: image=0.6, text=0.4
2025-08-31 10:02:02,953 - app.routers.recommendations - INFO - ✅ [req_1756627322950] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 10:02:02,953 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:02:02,953 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:02:02,954 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:02:02,954 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:02:02,955 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:02:02,955 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:02:02,956 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:02:02,956 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:02:02,956 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:02:02,956 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:02,956 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:02,959 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:02:02,959 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 10:02:02,959 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 10:02:02,960 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:02,978 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 10:02:02,978 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 10:02:02,978 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:02,978 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:02,978 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:02,978 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:02,978 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:02,978 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:02,978 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:02,978 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:02,978 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:02,978 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:02:02,978 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 10:02:02,978 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 10:02:02,978 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 10:02:02,978 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:02:02,979 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:02:02,979 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:02:02,979 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:02:02,979 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:02,979 - app.services.recommendations - INFO - 🚫 Excluding 112 swiped products (liked: 47, disliked: 65)
2025-08-31 10:02:02,979 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:02:02,980 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4786 to 0.5722
2025-08-31 10:02:02,980 - app.services.vector_service - INFO - 📊 Found 13 candidate products after excluding 47 swiped products
2025-08-31 10:02:03,013 - app.services.vector_service - INFO - 🚀 FAISS search found 13 products
2025-08-31 10:02:03,013 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Uber Smoothie 16:0.7797', 'TikTok Concert 11:0.7775', 'Nike Snack 3:0.7768']
2025-08-31 10:02:03,013 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:03,013 - app.routers.recommendations - INFO - ✅ [req_1756627322950] SUCCESS: Found 3 recommendations
2025-08-31 10:02:03,013 - app.routers.recommendations - INFO - ⏱️ [req_1756627322950] Processing time: 0.063s
2025-08-31 10:02:03,013 - app.routers.recommendations - INFO - 🏆 [req_1756627322950] Top 1: Uber Smoothie 16 (score: 0.7797)
2025-08-31 10:02:03,013 - app.routers.recommendations - INFO - 🏆 [req_1756627322950] Top 2: TikTok Concert 11 (score: 0.7775)
2025-08-31 10:02:03,013 - app.routers.recommendations - INFO - 🏆 [req_1756627322950] Top 3: Nike Snack 3 (score: 0.7768)
2025-08-31 10:02:03,013 - app.routers.recommendations - INFO - 🎯 [req_1756627322950] API RESPONSE: Returning 3 recommendations
2025-08-31 10:02:07,365 - app.routers.recommendations - INFO - 🚀 [req_1756627327365] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:07,366 - app.routers.recommendations - INFO - 📋 [req_1756627327365] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:02:07,366 - app.routers.recommendations - INFO - ⚖️ [req_1756627327365] Weights: image=0.6, text=0.4
2025-08-31 10:02:07,367 - app.routers.recommendations - INFO - ✅ [req_1756627327365] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 10:02:07,367 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:02:07,367 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:02:07,368 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:02:07,368 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:02:07,369 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:02:07,369 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:02:07,369 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:02:07,369 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:02:07,369 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:02:07,369 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:07,370 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:07,391 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:02:07,391 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 10:02:07,391 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 10:02:07,392 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:07,403 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 10:02:07,404 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 10:02:07,404 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:07,404 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:07,404 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:07,404 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:07,404 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:07,404 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:07,404 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:07,404 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:07,404 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:07,404 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:02:07,404 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 10:02:07,404 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 10:02:07,404 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 10:02:07,404 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:02:07,404 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:02:07,405 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:02:07,405 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:02:07,405 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:07,405 - app.services.recommendations - INFO - 🚫 Excluding 114 swiped products (liked: 47, disliked: 67)
2025-08-31 10:02:07,405 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:02:07,405 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4786 to 0.5722
2025-08-31 10:02:07,405 - app.services.vector_service - INFO - 📊 Found 11 candidate products after excluding 49 swiped products
2025-08-31 10:02:07,418 - app.services.vector_service - INFO - 🚀 FAISS search found 11 products
2025-08-31 10:02:07,418 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Nike Snack 3:0.7768', 'Apple Concert 11:0.7733', "McDonald's Beverage 2:0.7715"]
2025-08-31 10:02:07,418 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:07,418 - app.routers.recommendations - INFO - ✅ [req_1756627327365] SUCCESS: Found 3 recommendations
2025-08-31 10:02:07,418 - app.routers.recommendations - INFO - ⏱️ [req_1756627327365] Processing time: 0.053s
2025-08-31 10:02:07,418 - app.routers.recommendations - INFO - 🏆 [req_1756627327365] Top 1: Nike Snack 3 (score: 0.7768)
2025-08-31 10:02:07,418 - app.routers.recommendations - INFO - 🏆 [req_1756627327365] Top 2: Apple Concert 11 (score: 0.7733)
2025-08-31 10:02:07,418 - app.routers.recommendations - INFO - 🏆 [req_1756627327365] Top 3: McDonald's Beverage 2 (score: 0.7715)
2025-08-31 10:02:07,419 - app.routers.recommendations - INFO - 🎯 [req_1756627327365] API RESPONSE: Returning 3 recommendations
2025-08-31 10:02:10,002 - app.routers.recommendations - INFO - 🚀 [req_1756627330002] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:10,005 - app.routers.recommendations - INFO - 📋 [req_1756627330002] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:02:10,005 - app.routers.recommendations - INFO - ⚖️ [req_1756627330002] Weights: image=0.6, text=0.4
2025-08-31 10:02:10,007 - app.routers.recommendations - INFO - ✅ [req_1756627330002] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 10:02:10,007 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:02:10,007 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:02:10,008 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:02:10,017 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:02:10,018 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:02:10,018 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:02:10,019 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:02:10,019 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:02:10,020 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:02:10,020 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:10,020 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:10,024 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:02:10,025 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 10:02:10,025 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 10:02:10,025 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:10,046 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 10:02:10,047 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 10:02:10,047 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:10,047 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:10,047 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:10,047 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:10,047 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:10,047 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:10,047 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:10,047 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:10,047 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:10,047 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:02:10,047 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 10:02:10,047 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 10:02:10,047 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 10:02:10,047 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:02:10,048 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:02:10,048 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:02:10,048 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:02:10,048 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:10,048 - app.services.recommendations - INFO - 🚫 Excluding 116 swiped products (liked: 47, disliked: 69)
2025-08-31 10:02:10,048 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:02:10,049 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4786 to 0.5722
2025-08-31 10:02:10,049 - app.services.vector_service - INFO - 📊 Found 9 candidate products after excluding 51 swiped products
2025-08-31 10:02:10,118 - app.services.vector_service - INFO - 🚀 FAISS search found 9 products
2025-08-31 10:02:10,132 - app.services.vector_service - INFO - 🏆 Top similarity scores: ["McDonald's Beverage 2:0.7715", 'Nike Pizza 9:0.7703', 'Uber Snack 4:0.7699']
2025-08-31 10:02:10,153 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:10,153 - app.routers.recommendations - INFO - ✅ [req_1756627330002] SUCCESS: Found 3 recommendations
2025-08-31 10:02:10,153 - app.routers.recommendations - INFO - ⏱️ [req_1756627330002] Processing time: 0.151s
2025-08-31 10:02:10,153 - app.routers.recommendations - INFO - 🏆 [req_1756627330002] Top 1: McDonald's Beverage 2 (score: 0.7715)
2025-08-31 10:02:10,153 - app.routers.recommendations - INFO - 🏆 [req_1756627330002] Top 2: Nike Pizza 9 (score: 0.7703)
2025-08-31 10:02:10,153 - app.routers.recommendations - INFO - 🏆 [req_1756627330002] Top 3: Uber Snack 4 (score: 0.7699)
2025-08-31 10:02:10,154 - app.routers.recommendations - INFO - 🎯 [req_1756627330002] API RESPONSE: Returning 3 recommendations
2025-08-31 10:02:13,599 - app.routers.recommendations - INFO - 🚀 [req_1756627333598] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:13,599 - app.routers.recommendations - INFO - 📋 [req_1756627333598] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:02:13,599 - app.routers.recommendations - INFO - ⚖️ [req_1756627333598] Weights: image=0.6, text=0.4
2025-08-31 10:02:13,600 - app.routers.recommendations - INFO - ✅ [req_1756627333598] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 10:02:13,601 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:02:13,601 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:02:13,601 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:02:13,602 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:02:13,602 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:02:13,602 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:02:13,603 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:02:13,603 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:02:13,603 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:02:13,603 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:13,603 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:13,606 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:02:13,606 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 10:02:13,606 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 10:02:13,607 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:13,617 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 10:02:13,617 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 10:02:13,617 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:13,617 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:13,617 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:13,617 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:13,617 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:13,617 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:13,617 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:13,617 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:13,617 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:13,617 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:02:13,617 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 10:02:13,617 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 10:02:13,617 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 10:02:13,617 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:02:13,618 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:02:13,618 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:02:13,618 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:02:13,618 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:13,618 - app.services.recommendations - INFO - 🚫 Excluding 118 swiped products (liked: 47, disliked: 71)
2025-08-31 10:02:13,618 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:02:13,618 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4786 to 0.5722
2025-08-31 10:02:13,618 - app.services.vector_service - INFO - 📊 Found 7 candidate products after excluding 53 swiped products
2025-08-31 10:02:13,630 - app.services.vector_service - INFO - 🚀 FAISS search found 7 products
2025-08-31 10:02:13,630 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Uber Snack 4:0.7699', 'Starbucks Dress 8:0.7697', 'Starbucks Hat 5:0.7682']
2025-08-31 10:02:13,630 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:13,630 - app.routers.recommendations - INFO - ✅ [req_1756627333598] SUCCESS: Found 3 recommendations
2025-08-31 10:02:13,630 - app.routers.recommendations - INFO - ⏱️ [req_1756627333598] Processing time: 0.032s
2025-08-31 10:02:13,630 - app.routers.recommendations - INFO - 🏆 [req_1756627333598] Top 1: Uber Snack 4 (score: 0.7699)
2025-08-31 10:02:13,630 - app.routers.recommendations - INFO - 🏆 [req_1756627333598] Top 2: Starbucks Dress 8 (score: 0.7697)
2025-08-31 10:02:13,630 - app.routers.recommendations - INFO - 🏆 [req_1756627333598] Top 3: Starbucks Hat 5 (score: 0.7682)
2025-08-31 10:02:13,630 - app.routers.recommendations - INFO - 🎯 [req_1756627333598] API RESPONSE: Returning 3 recommendations
2025-08-31 10:02:16,309 - app.routers.recommendations - INFO - 🚀 [req_1756627336307] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:16,315 - app.routers.recommendations - INFO - 📋 [req_1756627336307] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:02:16,315 - app.routers.recommendations - INFO - ⚖️ [req_1756627336307] Weights: image=0.6, text=0.4
2025-08-31 10:02:16,341 - app.routers.recommendations - INFO - ✅ [req_1756627336307] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 10:02:16,341 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:02:16,342 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:02:16,347 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:02:16,349 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:02:16,351 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:02:16,356 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:02:16,361 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:02:16,362 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:02:16,362 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:02:16,362 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:16,362 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:16,405 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:02:16,405 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 10:02:16,405 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 10:02:16,420 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:16,436 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 10:02:16,437 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 10:02:16,437 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:16,442 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:16,442 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:16,442 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:16,442 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:16,442 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:16,442 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:16,442 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:16,442 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:16,442 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:02:16,443 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 10:02:16,443 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 10:02:16,443 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 10:02:16,455 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:02:16,455 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:02:16,456 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:02:16,456 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:02:16,457 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:16,457 - app.services.recommendations - INFO - 🚫 Excluding 120 swiped products (liked: 47, disliked: 73)
2025-08-31 10:02:16,457 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:02:16,458 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4786 to 0.5722
2025-08-31 10:02:16,461 - app.services.vector_service - INFO - 📊 Found 5 candidate products after excluding 55 swiped products
2025-08-31 10:02:16,508 - app.services.vector_service - INFO - 🚀 FAISS search found 5 products
2025-08-31 10:02:16,509 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Starbucks Hat 5:0.7682', 'Samsung Burger 7:0.7669', "McDonald's Snack 24:0.7668"]
2025-08-31 10:02:16,509 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:16,509 - app.routers.recommendations - INFO - ✅ [req_1756627336307] SUCCESS: Found 3 recommendations
2025-08-31 10:02:16,509 - app.routers.recommendations - INFO - ⏱️ [req_1756627336307] Processing time: 0.202s
2025-08-31 10:02:16,509 - app.routers.recommendations - INFO - 🏆 [req_1756627336307] Top 1: Starbucks Hat 5 (score: 0.7682)
2025-08-31 10:02:16,509 - app.routers.recommendations - INFO - 🏆 [req_1756627336307] Top 2: Samsung Burger 7 (score: 0.7669)
2025-08-31 10:02:16,510 - app.routers.recommendations - INFO - 🏆 [req_1756627336307] Top 3: McDonald's Snack 24 (score: 0.7668)
2025-08-31 10:02:16,510 - app.routers.recommendations - INFO - 🎯 [req_1756627336307] API RESPONSE: Returning 3 recommendations
2025-08-31 10:02:19,280 - app.routers.recommendations - INFO - 🚀 [req_1756627339280] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:19,281 - app.routers.recommendations - INFO - 📋 [req_1756627339280] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:02:19,281 - app.routers.recommendations - INFO - ⚖️ [req_1756627339280] Weights: image=0.6, text=0.4
2025-08-31 10:02:19,283 - app.routers.recommendations - INFO - ✅ [req_1756627339280] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 10:02:19,283 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:02:19,283 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:02:19,284 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:02:19,285 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:02:19,286 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:02:19,287 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:02:19,287 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:02:19,288 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:02:19,288 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:02:19,288 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:19,288 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:19,295 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:02:19,295 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 10:02:19,295 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 10:02:19,299 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:19,323 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 10:02:19,323 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 10:02:19,323 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:19,323 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:19,323 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:19,323 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:19,323 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:19,324 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:19,324 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:19,324 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:19,324 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:19,324 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:02:19,324 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 10:02:19,324 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 10:02:19,324 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 10:02:19,324 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:02:19,324 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:02:19,324 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:02:19,324 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:02:19,325 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:19,325 - app.services.recommendations - INFO - 🚫 Excluding 122 swiped products (liked: 47, disliked: 75)
2025-08-31 10:02:19,325 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:02:19,325 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4786 to 0.5722
2025-08-31 10:02:19,325 - app.services.vector_service - INFO - 📊 Found 3 candidate products after excluding 57 swiped products
2025-08-31 10:02:19,330 - app.services.vector_service - INFO - 🚀 FAISS search found 3 products
2025-08-31 10:02:19,330 - app.services.vector_service - INFO - 🏆 Top similarity scores: ["McDonald's Snack 24:0.7668", 'Apple Event 19:0.7655', 'Uber Snack 21:0.7649']
2025-08-31 10:02:19,330 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:19,330 - app.routers.recommendations - INFO - ✅ [req_1756627339280] SUCCESS: Found 3 recommendations
2025-08-31 10:02:19,330 - app.routers.recommendations - INFO - ⏱️ [req_1756627339280] Processing time: 0.050s
2025-08-31 10:02:19,330 - app.routers.recommendations - INFO - 🏆 [req_1756627339280] Top 1: McDonald's Snack 24 (score: 0.7668)
2025-08-31 10:02:19,330 - app.routers.recommendations - INFO - 🏆 [req_1756627339280] Top 2: Apple Event 19 (score: 0.7655)
2025-08-31 10:02:19,330 - app.routers.recommendations - INFO - 🏆 [req_1756627339280] Top 3: Uber Snack 21 (score: 0.7649)
2025-08-31 10:02:19,331 - app.routers.recommendations - INFO - 🎯 [req_1756627339280] API RESPONSE: Returning 3 recommendations
2025-08-31 10:02:22,017 - app.routers.recommendations - INFO - 🚀 [req_1756627342017] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:22,018 - app.routers.recommendations - INFO - 📋 [req_1756627342017] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:02:22,018 - app.routers.recommendations - INFO - ⚖️ [req_1756627342017] Weights: image=0.6, text=0.4
2025-08-31 10:02:22,020 - app.routers.recommendations - INFO - ✅ [req_1756627342017] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 10:02:22,020 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:02:22,020 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:02:22,020 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:02:22,021 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:02:22,021 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:02:22,022 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:02:22,022 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:02:22,022 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:02:22,022 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:02:22,022 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:22,022 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:22,027 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:02:22,027 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 10:02:22,027 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 10:02:22,027 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:22,048 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 10:02:22,048 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 10:02:22,048 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:22,048 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:22,048 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:22,048 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:22,048 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:22,048 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:22,048 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:22,048 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:22,048 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:22,048 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:02:22,048 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 10:02:22,048 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 10:02:22,048 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 10:02:22,049 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:02:22,049 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:02:22,049 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:02:22,049 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:02:22,049 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:22,049 - app.services.recommendations - INFO - 🚫 Excluding 124 swiped products (liked: 47, disliked: 77)
2025-08-31 10:02:22,050 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:02:22,050 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4786 to 0.5722
2025-08-31 10:02:22,050 - app.services.vector_service - INFO - 📊 Found 1 candidate products after excluding 59 swiped products
2025-08-31 10:02:22,052 - app.services.vector_service - INFO - 🚀 FAISS search found 1 products
2025-08-31 10:02:22,052 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Uber Snack 21:0.7649']
2025-08-31 10:02:22,052 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:22,052 - app.routers.recommendations - INFO - ✅ [req_1756627342017] SUCCESS: Found 1 recommendations
2025-08-31 10:02:22,052 - app.routers.recommendations - INFO - ⏱️ [req_1756627342017] Processing time: 0.035s
2025-08-31 10:02:22,052 - app.routers.recommendations - INFO - 🏆 [req_1756627342017] Top 1: Uber Snack 21 (score: 0.7649)
2025-08-31 10:02:22,052 - app.routers.recommendations - INFO - 🎯 [req_1756627342017] API RESPONSE: Returning 1 recommendations
2025-08-31 10:02:23,282 - app.routers.recommendations - INFO - 🚀 [req_1756627343281] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:23,282 - app.routers.recommendations - INFO - 📋 [req_1756627343281] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:02:23,282 - app.routers.recommendations - INFO - ⚖️ [req_1756627343281] Weights: image=0.6, text=0.4
2025-08-31 10:02:23,283 - app.routers.recommendations - INFO - ✅ [req_1756627343281] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 10:02:23,283 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:02:23,283 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:02:23,283 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:02:23,284 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:02:23,284 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:02:23,284 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:02:23,284 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:02:23,284 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:02:23,284 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:02:23,284 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:23,284 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:23,287 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:02:23,287 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 10:02:23,288 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 10:02:23,289 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:23,303 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 10:02:23,303 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 10:02:23,303 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:23,303 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:23,303 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:23,303 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:23,303 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:23,303 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:23,303 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:23,303 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:23,303 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:23,303 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:02:23,304 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 10:02:23,304 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 10:02:23,304 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 10:02:23,304 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:02:23,304 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:02:23,304 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:02:23,304 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:02:23,304 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:23,304 - app.services.recommendations - INFO - 🚫 Excluding 125 swiped products (liked: 47, disliked: 78)
2025-08-31 10:02:23,304 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:02:23,305 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4786 to 0.5722
2025-08-31 10:02:23,305 - app.services.vector_service - INFO - 📊 Found 0 candidate products after excluding 60 swiped products
2025-08-31 10:02:23,305 - app.services.vector_service - WARNING - ⚠️ No products available after filtering. User may have swiped all products or FAISS search failed
2025-08-31 10:02:23,305 - app.routers.recommendations - INFO - ✅ [req_1756627343281] SUCCESS: Found 0 recommendations
2025-08-31 10:02:23,305 - app.routers.recommendations - INFO - ⏱️ [req_1756627343281] Processing time: 0.023s
2025-08-31 10:02:23,305 - app.routers.recommendations - INFO - 🎯 [req_1756627343281] API RESPONSE: Returning 0 recommendations
2025-08-31 10:02:24,615 - app.routers.recommendations - INFO - 🚀 [req_1756627344615] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:24,616 - app.routers.recommendations - INFO - 📋 [req_1756627344615] Parameters: limit=5, category=None, brand_id=None
2025-08-31 10:02:24,616 - app.routers.recommendations - INFO - ⚖️ [req_1756627344615] Weights: image=0.6, text=0.4
2025-08-31 10:02:24,617 - app.routers.recommendations - INFO - ✅ [req_1756627344615] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 10:02:24,617 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:02:24,617 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:02:24,617 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:02:24,618 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:02:24,618 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:02:24,619 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:02:24,619 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:02:24,619 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:02:24,620 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:02:24,620 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:24,620 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:24,623 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:02:24,623 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 10:02:24,623 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 10:02:24,624 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:24,633 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 10:02:24,633 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 10:02:24,634 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:24,634 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:24,634 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:24,634 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:24,634 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:24,634 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:24,634 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:24,634 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:24,634 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:24,634 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:02:24,634 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 10:02:24,634 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 10:02:24,634 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 10:02:24,634 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:02:24,634 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:02:24,635 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:02:24,635 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:02:24,635 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:24,635 - app.services.recommendations - INFO - 🚫 Excluding 125 swiped products (liked: 47, disliked: 78)
2025-08-31 10:02:24,635 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:02:24,636 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4648 to 0.5722
2025-08-31 10:02:24,636 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 70 swiped products
2025-08-31 10:02:24,743 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-31 10:02:24,743 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Nike Beverage 5:0.7649', 'Uber Coffee 12:0.7647', 'Apple Game 14:0.7643']
2025-08-31 10:02:24,743 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:24,743 - app.routers.recommendations - INFO - ✅ [req_1756627344615] SUCCESS: Found 5 recommendations
2025-08-31 10:02:24,743 - app.routers.recommendations - INFO - ⏱️ [req_1756627344615] Processing time: 0.128s
2025-08-31 10:02:24,743 - app.routers.recommendations - INFO - 🏆 [req_1756627344615] Top 1: Nike Beverage 5 (score: 0.7649)
2025-08-31 10:02:24,743 - app.routers.recommendations - INFO - 🏆 [req_1756627344615] Top 2: Uber Coffee 12 (score: 0.7647)
2025-08-31 10:02:24,743 - app.routers.recommendations - INFO - 🏆 [req_1756627344615] Top 3: Apple Game 14 (score: 0.7643)
2025-08-31 10:02:24,743 - app.routers.recommendations - INFO - 🎯 [req_1756627344615] API RESPONSE: Returning 5 recommendations
2025-08-31 10:02:30,601 - app.routers.recommendations - INFO - 🚀 [req_1756627350601] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:30,602 - app.routers.recommendations - INFO - 📋 [req_1756627350601] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:02:30,602 - app.routers.recommendations - INFO - ⚖️ [req_1756627350601] Weights: image=0.6, text=0.4
2025-08-31 10:02:30,615 - app.routers.recommendations - INFO - ✅ [req_1756627350601] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 10:02:30,616 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:02:30,616 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:02:30,616 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:02:30,617 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:02:30,617 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:02:30,618 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:02:30,619 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:02:30,619 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:02:30,619 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:02:30,619 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:30,619 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:30,623 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:02:30,623 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 10:02:30,623 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 10:02:30,623 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:30,631 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 10:02:30,631 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 10:02:30,631 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:30,631 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:30,631 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:30,631 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:30,631 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:30,631 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:30,631 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:30,631 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:30,631 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:30,631 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:02:30,631 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 10:02:30,632 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 10:02:30,632 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 10:02:30,632 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:02:30,632 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:02:30,632 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:02:30,632 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:02:30,633 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:30,633 - app.services.recommendations - INFO - 🚫 Excluding 129 swiped products (liked: 47, disliked: 82)
2025-08-31 10:02:30,633 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:02:30,633 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4786 to 0.5722
2025-08-31 10:02:30,633 - app.services.vector_service - INFO - 📊 Found 0 candidate products after excluding 60 swiped products
2025-08-31 10:02:30,633 - app.services.vector_service - WARNING - ⚠️ No products available after filtering. User may have swiped all products or FAISS search failed
2025-08-31 10:02:30,633 - app.routers.recommendations - INFO - ✅ [req_1756627350601] SUCCESS: Found 0 recommendations
2025-08-31 10:02:30,633 - app.routers.recommendations - INFO - ⏱️ [req_1756627350601] Processing time: 0.032s
2025-08-31 10:02:30,633 - app.routers.recommendations - INFO - 🎯 [req_1756627350601] API RESPONSE: Returning 0 recommendations
2025-08-31 10:02:32,015 - app.routers.recommendations - INFO - 🚀 [req_1756627352015] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:32,015 - app.routers.recommendations - INFO - 📋 [req_1756627352015] Parameters: limit=5, category=None, brand_id=None
2025-08-31 10:02:32,015 - app.routers.recommendations - INFO - ⚖️ [req_1756627352015] Weights: image=0.6, text=0.4
2025-08-31 10:02:32,028 - app.routers.recommendations - INFO - ✅ [req_1756627352015] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 10:02:32,028 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:02:32,028 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:02:32,029 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:02:32,029 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:02:32,029 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:02:32,030 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:02:32,031 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:02:32,031 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:02:32,031 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:02:32,031 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:32,031 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:32,035 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:02:32,035 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 10:02:32,035 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 10:02:32,036 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:32,047 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 10:02:32,047 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 10:02:32,047 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:32,047 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:32,047 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:32,047 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:32,047 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:32,047 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:32,047 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:32,047 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:32,047 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:32,047 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:02:32,047 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 10:02:32,047 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 10:02:32,047 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 10:02:32,047 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:02:32,048 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:02:32,048 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:02:32,048 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:02:32,048 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:32,048 - app.services.recommendations - INFO - 🚫 Excluding 129 swiped products (liked: 47, disliked: 82)
2025-08-31 10:02:32,048 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:02:32,048 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4648 to 0.5722
2025-08-31 10:02:32,048 - app.services.vector_service - INFO - 📊 Found 26 candidate products after excluding 74 swiped products
2025-08-31 10:02:32,089 - app.services.vector_service - INFO - 🚀 FAISS search found 26 products
2025-08-31 10:02:32,089 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Spotify Gaming Console 10:0.7632', 'Starbucks Sneakers 21:0.7612', 'Nike Dessert 25:0.7592']
2025-08-31 10:02:32,089 - app.services.recommendations - INFO - 💾 Cached recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:32,089 - app.routers.recommendations - INFO - ✅ [req_1756627352015] SUCCESS: Found 5 recommendations
2025-08-31 10:02:32,089 - app.routers.recommendations - INFO - ⏱️ [req_1756627352015] Processing time: 0.074s
2025-08-31 10:02:32,089 - app.routers.recommendations - INFO - 🏆 [req_1756627352015] Top 1: Spotify Gaming Console 10 (score: 0.7632)
2025-08-31 10:02:32,089 - app.routers.recommendations - INFO - 🏆 [req_1756627352015] Top 2: Starbucks Sneakers 21 (score: 0.7612)
2025-08-31 10:02:32,089 - app.routers.recommendations - INFO - 🏆 [req_1756627352015] Top 3: Nike Dessert 25 (score: 0.7592)
2025-08-31 10:02:32,089 - app.routers.recommendations - INFO - 🎯 [req_1756627352015] API RESPONSE: Returning 5 recommendations
2025-08-31 10:02:37,456 - app.routers.recommendations - INFO - 🚀 [req_1756627357456] API CALL: Vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:37,457 - app.routers.recommendations - INFO - 📋 [req_1756627357456] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:02:37,457 - app.routers.recommendations - INFO - ⚖️ [req_1756627357456] Weights: image=0.6, text=0.4
2025-08-31 10:02:37,458 - app.routers.recommendations - INFO - ✅ [req_1756627357456] User 0178581f-5cac-4b09-93de-b8b174d4772d validated
2025-08-31 10:02:37,458 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:02:37,458 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:02:37,459 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:02:37,459 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:02:37,460 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:02:37,460 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:02:37,461 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:02:37,461 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:02:37,461 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:02:37,461 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:37,461 - app.services.recommendations - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:37,465 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:02:37,465 - app.services.vector_service - INFO - ❄️ Cache MISS for user 0178581f-5cac-4b09-93de-b8b174d4772d preference vectors
2025-08-31 10:02:37,465 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d (max 10 recent liked products)
2025-08-31 10:02:37,465 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:37,475 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 10:02:37,475 - app.services.vector_service - INFO -    1. McDonald's Meal 14 (swiped: 2025-08-31 07:58)
2025-08-31 10:02:37,475 - app.services.vector_service - INFO -    2. McDonald's Burger 11 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:37,475 - app.services.vector_service - INFO -    3. McDonald's Snack 17 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:37,475 - app.services.vector_service - INFO -    4. McDonald's Smoothie 10 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:37,475 - app.services.vector_service - INFO -    5. McDonald's Pizza 26 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:37,475 - app.services.vector_service - INFO -    6. McDonald's Snack 7 (swiped: 2025-08-30 19:46)
2025-08-31 10:02:37,475 - app.services.vector_service - INFO -    7. McDonald's Coffee 1 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:37,475 - app.services.vector_service - INFO -    8. McDonald's Snack 18 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:37,475 - app.services.vector_service - INFO -    9. YouTube Smoothie 14 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:37,475 - app.services.vector_service - INFO -    10. YouTube Burger 4 (swiped: 2025-08-30 19:45)
2025-08-31 10:02:37,475 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:02:37,475 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 10:02:37,475 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 10:02:37,475 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 10:02:37,476 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:02:37,476 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:02:37,476 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:02:37,476 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:02:37,476 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 0178581f-5cac-4b09-93de-b8b174d4772d
2025-08-31 10:02:37,476 - app.services.recommendations - INFO - 🚫 Excluding 133 swiped products (liked: 47, disliked: 86)
2025-08-31 10:02:37,476 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:02:37,476 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4786 to 0.5722
2025-08-31 10:02:37,477 - app.services.vector_service - INFO - 📊 Found 0 candidate products after excluding 60 swiped products
2025-08-31 10:02:37,477 - app.services.vector_service - WARNING - ⚠️ No products available after filtering. User may have swiped all products or FAISS search failed
2025-08-31 10:02:37,477 - app.routers.recommendations - INFO - ✅ [req_1756627357456] SUCCESS: Found 0 recommendations
2025-08-31 10:02:37,477 - app.routers.recommendations - INFO - ⏱️ [req_1756627357456] Processing time: 0.021s
2025-08-31 10:02:37,477 - app.routers.recommendations - INFO - 🎯 [req_1756627357456] API RESPONSE: Returning 0 recommendations
2025-08-31 10:03:40,255 - app.routers.recommendations - INFO - 🚀 [req_1756627420254] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:40,262 - app.routers.recommendations - INFO - 📋 [req_1756627420254] Parameters: limit=5, category=None, brand_id=None
2025-08-31 10:03:40,263 - app.routers.recommendations - INFO - ⚖️ [req_1756627420254] Weights: image=0.6, text=0.4
2025-08-31 10:03:40,363 - app.routers.recommendations - INFO - ✅ [req_1756627420254] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 10:03:40,363 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:03:40,363 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:03:40,365 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:03:40,375 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:03:40,375 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:03:40,377 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:03:40,381 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:03:40,383 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:03:40,383 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:03:40,383 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:40,384 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:40,398 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:03:40,398 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 10:03:40,398 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 10:03:40,404 - app.services.vector_service - INFO - 📊 Found 0 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:40,404 - app.services.vector_service - WARNING - ⚠️ No liked products found for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:40,404 - app.services.recommendations - WARNING - ⚠️ No preference vectors available for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:40,404 - app.services.recommendations - INFO - 🎲 Providing random products as fallback for new user
2025-08-31 10:03:40,405 - app.services.recommendations - INFO - 🎲 Getting random products fallback for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:40,461 - app.services.recommendations - INFO - 🎲 Random fallback: Generated 5 random products
2025-08-31 10:03:40,462 - app.services.recommendations - INFO - 🎲 Fallback: Returning 5 random products
2025-08-31 10:03:40,462 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:40,462 - app.routers.recommendations - INFO - ✅ [req_1756627420254] SUCCESS: Found 5 recommendations
2025-08-31 10:03:40,462 - app.routers.recommendations - INFO - ⏱️ [req_1756627420254] Processing time: 0.208s
2025-08-31 10:03:40,462 - app.routers.recommendations - INFO - 🏆 [req_1756627420254] Top 1: Apple TV Show 7 (score: 0.6938)
2025-08-31 10:03:40,462 - app.routers.recommendations - INFO - 🏆 [req_1756627420254] Top 2: Apple Game 6 (score: 0.7250)
2025-08-31 10:03:40,462 - app.routers.recommendations - INFO - 🏆 [req_1756627420254] Top 3: Apple Book 4 (score: 0.7435)
2025-08-31 10:03:40,462 - app.routers.recommendations - INFO - 🎯 [req_1756627420254] API RESPONSE: Returning 5 recommendations
2025-08-31 10:03:45,796 - app.routers.recommendations - INFO - 🚀 [req_1756627425796] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:45,798 - app.routers.recommendations - INFO - 📋 [req_1756627425796] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:03:45,798 - app.routers.recommendations - INFO - ⚖️ [req_1756627425796] Weights: image=0.6, text=0.4
2025-08-31 10:03:45,800 - app.routers.recommendations - INFO - ✅ [req_1756627425796] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 10:03:45,800 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:03:45,801 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:03:45,802 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:03:45,809 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:03:45,810 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:03:45,820 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:03:45,824 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:03:45,824 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:03:45,824 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:03:45,824 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:45,824 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:45,849 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:03:45,849 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 10:03:45,849 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 10:03:45,851 - app.services.vector_service - INFO - 📊 Found 0 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:45,851 - app.services.vector_service - WARNING - ⚠️ No liked products found for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:45,851 - app.services.recommendations - WARNING - ⚠️ No preference vectors available for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:45,851 - app.services.recommendations - INFO - 🎲 Providing random products as fallback for new user
2025-08-31 10:03:45,851 - app.services.recommendations - INFO - 🎲 Getting random products fallback for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:45,863 - app.services.recommendations - INFO - 🎲 Random fallback: Generated 3 random products
2025-08-31 10:03:45,864 - app.services.recommendations - INFO - 🎲 Fallback: Returning 3 random products
2025-08-31 10:03:45,864 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:45,864 - app.routers.recommendations - INFO - ✅ [req_1756627425796] SUCCESS: Found 3 recommendations
2025-08-31 10:03:45,864 - app.routers.recommendations - INFO - ⏱️ [req_1756627425796] Processing time: 0.068s
2025-08-31 10:03:45,864 - app.routers.recommendations - INFO - 🏆 [req_1756627425796] Top 1: Uber Meal 9 (score: 0.5182)
2025-08-31 10:03:45,864 - app.routers.recommendations - INFO - 🏆 [req_1756627425796] Top 2: Uber Dessert 14 (score: 0.6721)
2025-08-31 10:03:45,864 - app.routers.recommendations - INFO - 🏆 [req_1756627425796] Top 3: Uber Coffee 12 (score: 0.5888)
2025-08-31 10:03:45,864 - app.routers.recommendations - INFO - 🎯 [req_1756627425796] API RESPONSE: Returning 3 recommendations
2025-08-31 10:03:48,853 - app.routers.recommendations - INFO - 🚀 [req_1756627428853] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:48,854 - app.routers.recommendations - INFO - 📋 [req_1756627428853] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:03:48,854 - app.routers.recommendations - INFO - ⚖️ [req_1756627428853] Weights: image=0.6, text=0.4
2025-08-31 10:03:48,856 - app.routers.recommendations - INFO - ✅ [req_1756627428853] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 10:03:48,856 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:03:48,856 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:03:48,857 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:03:48,858 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:03:48,858 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:03:48,860 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:03:48,862 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:03:48,862 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:03:48,862 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:03:48,862 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:48,862 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:48,865 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:03:48,866 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 10:03:48,866 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 10:03:48,867 - app.services.vector_service - INFO - 📊 Found 0 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:48,867 - app.services.vector_service - WARNING - ⚠️ No liked products found for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:48,867 - app.services.recommendations - WARNING - ⚠️ No preference vectors available for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:48,867 - app.services.recommendations - INFO - 🎲 Providing random products as fallback for new user
2025-08-31 10:03:48,867 - app.services.recommendations - INFO - 🎲 Getting random products fallback for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:48,880 - app.services.recommendations - INFO - 🎲 Random fallback: Generated 3 random products
2025-08-31 10:03:48,880 - app.services.recommendations - INFO - 🎲 Fallback: Returning 3 random products
2025-08-31 10:03:48,880 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:48,880 - app.routers.recommendations - INFO - ✅ [req_1756627428853] SUCCESS: Found 3 recommendations
2025-08-31 10:03:48,880 - app.routers.recommendations - INFO - ⏱️ [req_1756627428853] Processing time: 0.027s
2025-08-31 10:03:48,880 - app.routers.recommendations - INFO - 🏆 [req_1756627428853] Top 1: McDonald's Burger 20 (score: 0.7809)
2025-08-31 10:03:48,880 - app.routers.recommendations - INFO - 🏆 [req_1756627428853] Top 2: McDonald's Meal 14 (score: 0.7417)
2025-08-31 10:03:48,880 - app.routers.recommendations - INFO - 🏆 [req_1756627428853] Top 3: McDonald's Snack 17 (score: 0.5341)
2025-08-31 10:03:48,880 - app.routers.recommendations - INFO - 🎯 [req_1756627428853] API RESPONSE: Returning 3 recommendations
2025-08-31 10:03:52,467 - app.routers.recommendations - INFO - 🚀 [req_1756627432467] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:52,467 - app.routers.recommendations - INFO - 📋 [req_1756627432467] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:03:52,468 - app.routers.recommendations - INFO - ⚖️ [req_1756627432467] Weights: image=0.6, text=0.4
2025-08-31 10:03:52,485 - app.routers.recommendations - INFO - ✅ [req_1756627432467] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 10:03:52,486 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:03:52,486 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:03:52,486 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:03:52,487 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:03:52,487 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:03:52,488 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:03:52,491 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:03:52,492 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:03:52,492 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:03:52,492 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:52,492 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:52,494 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:03:52,494 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 10:03:52,494 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 10:03:52,517 - app.services.vector_service - INFO - 📊 Found 0 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:52,517 - app.services.vector_service - WARNING - ⚠️ No liked products found for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:52,517 - app.services.recommendations - WARNING - ⚠️ No preference vectors available for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:52,517 - app.services.recommendations - INFO - 🎲 Providing random products as fallback for new user
2025-08-31 10:03:52,517 - app.services.recommendations - INFO - 🎲 Getting random products fallback for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:52,585 - app.services.recommendations - INFO - 🎲 Random fallback: Generated 3 random products
2025-08-31 10:03:52,585 - app.services.recommendations - INFO - 🎲 Fallback: Returning 3 random products
2025-08-31 10:03:52,585 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:52,585 - app.routers.recommendations - INFO - ✅ [req_1756627432467] SUCCESS: Found 3 recommendations
2025-08-31 10:03:52,585 - app.routers.recommendations - INFO - ⏱️ [req_1756627432467] Processing time: 0.118s
2025-08-31 10:03:52,585 - app.routers.recommendations - INFO - 🏆 [req_1756627432467] Top 1: Airbnb Laptop 14 (score: 0.7347)
2025-08-31 10:03:52,585 - app.routers.recommendations - INFO - 🏆 [req_1756627432467] Top 2: Airbnb Laptop 11 (score: 0.6027)
2025-08-31 10:03:52,585 - app.routers.recommendations - INFO - 🏆 [req_1756627432467] Top 3: Airbnb Gaming Console 12 (score: 0.7173)
2025-08-31 10:03:52,585 - app.routers.recommendations - INFO - 🎯 [req_1756627432467] API RESPONSE: Returning 3 recommendations
2025-08-31 10:03:55,237 - app.routers.recommendations - INFO - 🚀 [req_1756627435237] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:55,238 - app.routers.recommendations - INFO - 📋 [req_1756627435237] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:03:55,238 - app.routers.recommendations - INFO - ⚖️ [req_1756627435237] Weights: image=0.6, text=0.4
2025-08-31 10:03:55,240 - app.routers.recommendations - INFO - ✅ [req_1756627435237] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 10:03:55,240 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:03:55,240 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:03:55,241 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:03:55,247 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:03:55,248 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:03:55,249 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:03:55,250 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:03:55,250 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:03:55,250 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:03:55,250 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:55,250 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:55,275 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:03:55,275 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 10:03:55,275 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 10:03:55,275 - app.services.vector_service - INFO - 📊 Found 0 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:55,276 - app.services.vector_service - WARNING - ⚠️ No liked products found for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:55,276 - app.services.recommendations - WARNING - ⚠️ No preference vectors available for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:55,276 - app.services.recommendations - INFO - 🎲 Providing random products as fallback for new user
2025-08-31 10:03:55,276 - app.services.recommendations - INFO - 🎲 Getting random products fallback for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:55,297 - app.services.recommendations - INFO - 🎲 Random fallback: Generated 3 random products
2025-08-31 10:03:55,297 - app.services.recommendations - INFO - 🎲 Fallback: Returning 3 random products
2025-08-31 10:03:55,297 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:55,297 - app.routers.recommendations - INFO - ✅ [req_1756627435237] SUCCESS: Found 3 recommendations
2025-08-31 10:03:55,297 - app.routers.recommendations - INFO - ⏱️ [req_1756627435237] Processing time: 0.060s
2025-08-31 10:03:55,297 - app.routers.recommendations - INFO - 🏆 [req_1756627435237] Top 1: Uber Snack 27 (score: 0.7277)
2025-08-31 10:03:55,297 - app.routers.recommendations - INFO - 🏆 [req_1756627435237] Top 2: Uber Pizza 19 (score: 0.7079)
2025-08-31 10:03:55,297 - app.routers.recommendations - INFO - 🏆 [req_1756627435237] Top 3: Uber Meal 22 (score: 0.5156)
2025-08-31 10:03:55,297 - app.routers.recommendations - INFO - 🎯 [req_1756627435237] API RESPONSE: Returning 3 recommendations
2025-08-31 10:03:58,043 - app.routers.recommendations - INFO - 🚀 [req_1756627438043] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:58,043 - app.routers.recommendations - INFO - 📋 [req_1756627438043] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:03:58,043 - app.routers.recommendations - INFO - ⚖️ [req_1756627438043] Weights: image=0.6, text=0.4
2025-08-31 10:03:58,046 - app.routers.recommendations - INFO - ✅ [req_1756627438043] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 10:03:58,047 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:03:58,047 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:03:58,049 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:03:58,052 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:03:58,052 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:03:58,054 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:03:58,055 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:03:58,055 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:03:58,055 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:03:58,055 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:58,056 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:58,059 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:03:58,059 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 10:03:58,059 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 10:03:58,061 - app.services.vector_service - INFO - 📊 Found 0 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:58,061 - app.services.vector_service - WARNING - ⚠️ No liked products found for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:58,061 - app.services.recommendations - WARNING - ⚠️ No preference vectors available for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:58,062 - app.services.recommendations - INFO - 🎲 Providing random products as fallback for new user
2025-08-31 10:03:58,062 - app.services.recommendations - INFO - 🎲 Getting random products fallback for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:58,072 - app.services.recommendations - INFO - 🎲 Random fallback: Generated 3 random products
2025-08-31 10:03:58,072 - app.services.recommendations - INFO - 🎲 Fallback: Returning 3 random products
2025-08-31 10:03:58,072 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:03:58,073 - app.routers.recommendations - INFO - ✅ [req_1756627438043] SUCCESS: Found 3 recommendations
2025-08-31 10:03:58,073 - app.routers.recommendations - INFO - ⏱️ [req_1756627438043] Processing time: 0.030s
2025-08-31 10:03:58,073 - app.routers.recommendations - INFO - 🏆 [req_1756627438043] Top 1: Apple TV Show 17 (score: 0.5492)
2025-08-31 10:03:58,073 - app.routers.recommendations - INFO - 🏆 [req_1756627438043] Top 2: Apple Event 15 (score: 0.5546)
2025-08-31 10:03:58,073 - app.routers.recommendations - INFO - 🏆 [req_1756627438043] Top 3: Apple Game 14 (score: 0.7260)
2025-08-31 10:03:58,073 - app.routers.recommendations - INFO - 🎯 [req_1756627438043] API RESPONSE: Returning 3 recommendations
2025-08-31 10:04:00,716 - app.routers.recommendations - INFO - 🚀 [req_1756627440716] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:00,717 - app.routers.recommendations - INFO - 📋 [req_1756627440716] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:04:00,717 - app.routers.recommendations - INFO - ⚖️ [req_1756627440716] Weights: image=0.6, text=0.4
2025-08-31 10:04:00,719 - app.routers.recommendations - INFO - ✅ [req_1756627440716] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 10:04:00,719 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:04:00,719 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:04:00,720 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:04:00,723 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:04:00,724 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:04:00,725 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:04:00,727 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:04:00,727 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:04:00,728 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:04:00,728 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:00,728 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:00,734 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:04:00,734 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 10:04:00,734 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 10:04:00,735 - app.services.vector_service - INFO - 📊 Found 0 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:00,735 - app.services.vector_service - WARNING - ⚠️ No liked products found for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:00,735 - app.services.recommendations - WARNING - ⚠️ No preference vectors available for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:00,735 - app.services.recommendations - INFO - 🎲 Providing random products as fallback for new user
2025-08-31 10:04:00,735 - app.services.recommendations - INFO - 🎲 Getting random products fallback for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:00,748 - app.services.recommendations - INFO - 🎲 Random fallback: Generated 3 random products
2025-08-31 10:04:00,748 - app.services.recommendations - INFO - 🎲 Fallback: Returning 3 random products
2025-08-31 10:04:00,748 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:00,749 - app.routers.recommendations - INFO - ✅ [req_1756627440716] SUCCESS: Found 3 recommendations
2025-08-31 10:04:00,749 - app.routers.recommendations - INFO - ⏱️ [req_1756627440716] Processing time: 0.032s
2025-08-31 10:04:00,749 - app.routers.recommendations - INFO - 🏆 [req_1756627440716] Top 1: Starbucks Bag 25 (score: 0.5645)
2025-08-31 10:04:00,749 - app.routers.recommendations - INFO - 🏆 [req_1756627440716] Top 2: Facebook Plane 3 (score: 0.6560)
2025-08-31 10:04:00,749 - app.routers.recommendations - INFO - 🏆 [req_1756627440716] Top 3: Starbucks Hat 22 (score: 0.7552)
2025-08-31 10:04:00,749 - app.routers.recommendations - INFO - 🎯 [req_1756627440716] API RESPONSE: Returning 3 recommendations
2025-08-31 10:04:03,082 - app.routers.recommendations - INFO - 🚀 [req_1756627443082] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:03,082 - app.routers.recommendations - INFO - 📋 [req_1756627443082] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:04:03,083 - app.routers.recommendations - INFO - ⚖️ [req_1756627443082] Weights: image=0.6, text=0.4
2025-08-31 10:04:03,103 - app.routers.recommendations - INFO - ✅ [req_1756627443082] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 10:04:03,104 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:04:03,104 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:04:03,104 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:04:03,106 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:04:03,106 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:04:03,106 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:04:03,107 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:04:03,107 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:04:03,107 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:04:03,107 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:03,107 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:03,110 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:04:03,110 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 10:04:03,110 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 10:04:03,111 - app.services.vector_service - INFO - 📊 Found 0 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:03,112 - app.services.vector_service - WARNING - ⚠️ No liked products found for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:03,112 - app.services.recommendations - WARNING - ⚠️ No preference vectors available for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:03,112 - app.services.recommendations - INFO - 🎲 Providing random products as fallback for new user
2025-08-31 10:04:03,112 - app.services.recommendations - INFO - 🎲 Getting random products fallback for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:03,143 - app.services.recommendations - INFO - 🎲 Random fallback: Generated 3 random products
2025-08-31 10:04:03,143 - app.services.recommendations - INFO - 🎲 Fallback: Returning 3 random products
2025-08-31 10:04:03,143 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:03,143 - app.routers.recommendations - INFO - ✅ [req_1756627443082] SUCCESS: Found 3 recommendations
2025-08-31 10:04:03,144 - app.routers.recommendations - INFO - ⏱️ [req_1756627443082] Processing time: 0.061s
2025-08-31 10:04:03,144 - app.routers.recommendations - INFO - 🏆 [req_1756627443082] Top 1: McDonald's Burger 3 (score: 0.6258)
2025-08-31 10:04:03,144 - app.routers.recommendations - INFO - 🏆 [req_1756627443082] Top 2: McDonald's Snack 17 (score: 0.6853)
2025-08-31 10:04:03,144 - app.routers.recommendations - INFO - 🏆 [req_1756627443082] Top 3: McDonald's Meal 12 (score: 0.7455)
2025-08-31 10:04:03,144 - app.routers.recommendations - INFO - 🎯 [req_1756627443082] API RESPONSE: Returning 3 recommendations
2025-08-31 10:04:05,470 - app.routers.recommendations - INFO - 🚀 [req_1756627445470] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:05,470 - app.routers.recommendations - INFO - 📋 [req_1756627445470] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:04:05,471 - app.routers.recommendations - INFO - ⚖️ [req_1756627445470] Weights: image=0.6, text=0.4
2025-08-31 10:04:05,473 - app.routers.recommendations - INFO - ✅ [req_1756627445470] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 10:04:05,473 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:04:05,473 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:04:05,473 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:04:05,475 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:04:05,475 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:04:05,482 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:04:05,483 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:04:05,483 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:04:05,483 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:04:05,483 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:05,483 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:05,486 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:04:05,487 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 10:04:05,487 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 10:04:05,488 - app.services.vector_service - INFO - 📊 Found 0 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:05,488 - app.services.vector_service - WARNING - ⚠️ No liked products found for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:05,488 - app.services.recommendations - WARNING - ⚠️ No preference vectors available for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:05,488 - app.services.recommendations - INFO - 🎲 Providing random products as fallback for new user
2025-08-31 10:04:05,489 - app.services.recommendations - INFO - 🎲 Getting random products fallback for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:05,500 - app.services.recommendations - INFO - 🎲 Random fallback: Generated 3 random products
2025-08-31 10:04:05,501 - app.services.recommendations - INFO - 🎲 Fallback: Returning 3 random products
2025-08-31 10:04:05,501 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:05,501 - app.routers.recommendations - INFO - ✅ [req_1756627445470] SUCCESS: Found 3 recommendations
2025-08-31 10:04:05,501 - app.routers.recommendations - INFO - ⏱️ [req_1756627445470] Processing time: 0.031s
2025-08-31 10:04:05,501 - app.routers.recommendations - INFO - 🏆 [req_1756627445470] Top 1: YouTube Snack 3 (score: 0.6009)
2025-08-31 10:04:05,501 - app.routers.recommendations - INFO - 🏆 [req_1756627445470] Top 2: YouTube Burger 9 (score: 0.7149)
2025-08-31 10:04:05,501 - app.routers.recommendations - INFO - 🏆 [req_1756627445470] Top 3: YouTube Snack 17 (score: 0.6500)
2025-08-31 10:04:05,501 - app.routers.recommendations - INFO - 🎯 [req_1756627445470] API RESPONSE: Returning 3 recommendations
2025-08-31 10:04:08,035 - app.routers.recommendations - INFO - 🚀 [req_1756627448035] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:08,036 - app.routers.recommendations - INFO - 📋 [req_1756627448035] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:04:08,036 - app.routers.recommendations - INFO - ⚖️ [req_1756627448035] Weights: image=0.6, text=0.4
2025-08-31 10:04:08,039 - app.routers.recommendations - INFO - ✅ [req_1756627448035] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 10:04:08,039 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:04:08,039 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:04:08,040 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:04:08,076 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:04:08,076 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:04:08,077 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:04:08,078 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:04:08,078 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:04:08,078 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:04:08,078 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:08,078 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:08,081 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:04:08,081 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 10:04:08,081 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 10:04:08,082 - app.services.vector_service - INFO - 📊 Found 0 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:08,082 - app.services.vector_service - WARNING - ⚠️ No liked products found for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:08,082 - app.services.recommendations - WARNING - ⚠️ No preference vectors available for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:08,082 - app.services.recommendations - INFO - 🎲 Providing random products as fallback for new user
2025-08-31 10:04:08,082 - app.services.recommendations - INFO - 🎲 Getting random products fallback for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:08,120 - app.services.recommendations - INFO - 🎲 Random fallback: Generated 3 random products
2025-08-31 10:04:08,121 - app.services.recommendations - INFO - 🎲 Fallback: Returning 3 random products
2025-08-31 10:04:08,121 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:08,121 - app.routers.recommendations - INFO - ✅ [req_1756627448035] SUCCESS: Found 3 recommendations
2025-08-31 10:04:08,121 - app.routers.recommendations - INFO - ⏱️ [req_1756627448035] Processing time: 0.086s
2025-08-31 10:04:08,121 - app.routers.recommendations - INFO - 🏆 [req_1756627448035] Top 1: Adidas Scooter 19 (score: 0.5049)
2025-08-31 10:04:08,121 - app.routers.recommendations - INFO - 🏆 [req_1756627448035] Top 2: Apple Game 6 (score: 0.7943)
2025-08-31 10:04:08,121 - app.routers.recommendations - INFO - 🏆 [req_1756627448035] Top 3: Adidas Car 20 (score: 0.6725)
2025-08-31 10:04:08,121 - app.routers.recommendations - INFO - 🎯 [req_1756627448035] API RESPONSE: Returning 3 recommendations
2025-08-31 10:04:10,668 - app.routers.recommendations - INFO - 🚀 [req_1756627450668] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:10,668 - app.routers.recommendations - INFO - 📋 [req_1756627450668] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:04:10,669 - app.routers.recommendations - INFO - ⚖️ [req_1756627450668] Weights: image=0.6, text=0.4
2025-08-31 10:04:10,671 - app.routers.recommendations - INFO - ✅ [req_1756627450668] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 10:04:10,671 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:04:10,671 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:04:10,671 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:04:10,672 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:04:10,673 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:04:10,674 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:04:10,675 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:04:10,675 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:04:10,675 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:04:10,676 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:10,676 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:10,682 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:04:10,682 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 10:04:10,682 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 10:04:10,684 - app.services.vector_service - INFO - 📊 Found 0 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:10,684 - app.services.vector_service - WARNING - ⚠️ No liked products found for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:10,684 - app.services.recommendations - WARNING - ⚠️ No preference vectors available for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:10,684 - app.services.recommendations - INFO - 🎲 Providing random products as fallback for new user
2025-08-31 10:04:10,684 - app.services.recommendations - INFO - 🎲 Getting random products fallback for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:10,698 - app.services.recommendations - INFO - 🎲 Random fallback: Generated 3 random products
2025-08-31 10:04:10,698 - app.services.recommendations - INFO - 🎲 Fallback: Returning 3 random products
2025-08-31 10:04:10,699 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:10,699 - app.routers.recommendations - INFO - ✅ [req_1756627450668] SUCCESS: Found 3 recommendations
2025-08-31 10:04:10,699 - app.routers.recommendations - INFO - ⏱️ [req_1756627450668] Processing time: 0.031s
2025-08-31 10:04:10,699 - app.routers.recommendations - INFO - 🏆 [req_1756627450668] Top 1: Netflix Bike 3 (score: 0.6682)
2025-08-31 10:04:10,699 - app.routers.recommendations - INFO - 🏆 [req_1756627450668] Top 2: Twitter Scooter 10 (score: 0.7029)
2025-08-31 10:04:10,699 - app.routers.recommendations - INFO - 🏆 [req_1756627450668] Top 3: Twitter Boat 16 (score: 0.7547)
2025-08-31 10:04:10,699 - app.routers.recommendations - INFO - 🎯 [req_1756627450668] API RESPONSE: Returning 3 recommendations
2025-08-31 10:04:13,290 - app.routers.recommendations - INFO - 🚀 [req_1756627453290] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:13,291 - app.routers.recommendations - INFO - 📋 [req_1756627453290] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:04:13,291 - app.routers.recommendations - INFO - ⚖️ [req_1756627453290] Weights: image=0.6, text=0.4
2025-08-31 10:04:13,294 - app.routers.recommendations - INFO - ✅ [req_1756627453290] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 10:04:13,295 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:04:13,295 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:04:13,298 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:04:13,300 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:04:13,301 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:04:13,302 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:04:13,304 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:04:13,304 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:04:13,304 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:04:13,304 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:13,304 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:13,309 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:04:13,309 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 10:04:13,310 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 10:04:13,311 - app.services.vector_service - INFO - 📊 Found 0 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:13,311 - app.services.vector_service - WARNING - ⚠️ No liked products found for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:13,311 - app.services.recommendations - WARNING - ⚠️ No preference vectors available for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:13,311 - app.services.recommendations - INFO - 🎲 Providing random products as fallback for new user
2025-08-31 10:04:13,311 - app.services.recommendations - INFO - 🎲 Getting random products fallback for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:13,328 - app.services.recommendations - INFO - 🎲 Random fallback: Generated 3 random products
2025-08-31 10:04:13,328 - app.services.recommendations - INFO - 🎲 Fallback: Returning 3 random products
2025-08-31 10:04:13,329 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:13,329 - app.routers.recommendations - INFO - ✅ [req_1756627453290] SUCCESS: Found 3 recommendations
2025-08-31 10:04:13,329 - app.routers.recommendations - INFO - ⏱️ [req_1756627453290] Processing time: 0.039s
2025-08-31 10:04:13,329 - app.routers.recommendations - INFO - 🏆 [req_1756627453290] Top 1: Coca-Cola Hat 4 (score: 0.5057)
2025-08-31 10:04:13,329 - app.routers.recommendations - INFO - 🏆 [req_1756627453290] Top 2: Coca-Cola Sneakers 1 (score: 0.5835)
2025-08-31 10:04:13,329 - app.routers.recommendations - INFO - 🏆 [req_1756627453290] Top 3: Tesla Headphones 18 (score: 0.5344)
2025-08-31 10:04:13,329 - app.routers.recommendations - INFO - 🎯 [req_1756627453290] API RESPONSE: Returning 3 recommendations
2025-08-31 10:04:17,868 - app.routers.recommendations - INFO - 🚀 [req_1756627457868] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:17,868 - app.routers.recommendations - INFO - 📋 [req_1756627457868] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:04:17,869 - app.routers.recommendations - INFO - ⚖️ [req_1756627457868] Weights: image=0.6, text=0.4
2025-08-31 10:04:17,872 - app.routers.recommendations - INFO - ✅ [req_1756627457868] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 10:04:17,872 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:04:17,873 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:04:17,874 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:04:17,876 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:04:17,877 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:04:17,878 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:04:17,880 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:04:17,880 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:04:17,881 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:04:17,881 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:17,881 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:17,902 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:04:17,902 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 10:04:17,902 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 10:04:17,905 - app.services.vector_service - INFO - 📊 Found 2 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:17,911 - app.services.vector_service - INFO - ✅ Found 2 recent liked products with vectors
2025-08-31 10:04:17,911 - app.services.vector_service - INFO -    1. Coca-Cola Sneakers 1 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:17,911 - app.services.vector_service - INFO -    2. Coca-Cola Hat 4 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:17,911 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:04:17,911 - app.services.vector_service - INFO -    - Image vectors: 2/2
2025-08-31 10:04:17,911 - app.services.vector_service - INFO -    - Text vectors: 2/2
2025-08-31 10:04:17,911 - app.services.vector_service - INFO -    - Combined vectors: 2/2
2025-08-31 10:04:17,911 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:04:17,912 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:04:17,912 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:04:17,913 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:04:17,913 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:17,913 - app.services.recommendations - INFO - 🚫 Excluding 34 swiped products (liked: 2, disliked: 32)
2025-08-31 10:04:17,917 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:04:17,927 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4221 to 0.5807
2025-08-31 10:04:17,927 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 2 swiped products
2025-08-31 10:04:17,997 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-31 10:04:17,997 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Coca-Cola Dress 12:0.7763', 'YouTube Smoothie 13:0.7702', 'Coca-Cola Hat 5:0.7653']
2025-08-31 10:04:17,998 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:17,998 - app.routers.recommendations - INFO - ✅ [req_1756627457868] SUCCESS: Found 3 recommendations
2025-08-31 10:04:17,998 - app.routers.recommendations - INFO - ⏱️ [req_1756627457868] Processing time: 0.130s
2025-08-31 10:04:17,998 - app.routers.recommendations - INFO - 🏆 [req_1756627457868] Top 1: Coca-Cola Dress 12 (score: 0.7763)
2025-08-31 10:04:17,998 - app.routers.recommendations - INFO - 🏆 [req_1756627457868] Top 2: YouTube Smoothie 13 (score: 0.7702)
2025-08-31 10:04:17,998 - app.routers.recommendations - INFO - 🏆 [req_1756627457868] Top 3: Coca-Cola Hat 5 (score: 0.7653)
2025-08-31 10:04:17,998 - app.routers.recommendations - INFO - 🎯 [req_1756627457868] API RESPONSE: Returning 3 recommendations
2025-08-31 10:04:21,349 - app.routers.recommendations - INFO - 🚀 [req_1756627461349] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:21,350 - app.routers.recommendations - INFO - 📋 [req_1756627461349] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:04:21,350 - app.routers.recommendations - INFO - ⚖️ [req_1756627461349] Weights: image=0.6, text=0.4
2025-08-31 10:04:21,351 - app.routers.recommendations - INFO - ✅ [req_1756627461349] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 10:04:21,351 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:04:21,351 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:04:21,351 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:04:21,352 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:04:21,352 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:04:21,353 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:04:21,353 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:04:21,353 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:04:21,353 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:04:21,353 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:21,353 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:21,356 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:04:21,356 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 10:04:21,356 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 10:04:21,357 - app.services.vector_service - INFO - 📊 Found 5 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:21,361 - app.services.vector_service - INFO - ✅ Found 5 recent liked products with vectors
2025-08-31 10:04:21,361 - app.services.vector_service - INFO -    1. YouTube Smoothie 13 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:21,361 - app.services.vector_service - INFO -    2. Coca-Cola Dress 12 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:21,361 - app.services.vector_service - INFO -    3. Tesla Headphones 18 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:21,361 - app.services.vector_service - INFO -    4. Coca-Cola Sneakers 1 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:21,361 - app.services.vector_service - INFO -    5. Coca-Cola Hat 4 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:21,361 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:04:21,361 - app.services.vector_service - INFO -    - Image vectors: 5/5
2025-08-31 10:04:21,361 - app.services.vector_service - INFO -    - Text vectors: 5/5
2025-08-31 10:04:21,361 - app.services.vector_service - INFO -    - Combined vectors: 5/5
2025-08-31 10:04:21,362 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:04:21,362 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:04:21,362 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:04:21,362 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:04:21,362 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:21,362 - app.services.recommendations - INFO - 🚫 Excluding 37 swiped products (liked: 5, disliked: 32)
2025-08-31 10:04:21,362 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:04:21,362 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4426 to 0.5412
2025-08-31 10:04:21,362 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 6 swiped products
2025-08-31 10:04:21,400 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-31 10:04:21,400 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Coca-Cola Hat 6:0.8047', 'Coca-Cola Hat 5:0.7977', 'Coca-Cola Dress 13:0.7946']
2025-08-31 10:04:21,401 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:21,401 - app.routers.recommendations - INFO - ✅ [req_1756627461349] SUCCESS: Found 3 recommendations
2025-08-31 10:04:21,401 - app.routers.recommendations - INFO - ⏱️ [req_1756627461349] Processing time: 0.051s
2025-08-31 10:04:21,401 - app.routers.recommendations - INFO - 🏆 [req_1756627461349] Top 1: Coca-Cola Hat 6 (score: 0.8047)
2025-08-31 10:04:21,401 - app.routers.recommendations - INFO - 🏆 [req_1756627461349] Top 2: Coca-Cola Hat 5 (score: 0.7977)
2025-08-31 10:04:21,401 - app.routers.recommendations - INFO - 🏆 [req_1756627461349] Top 3: Coca-Cola Dress 13 (score: 0.7946)
2025-08-31 10:04:21,401 - app.routers.recommendations - INFO - 🎯 [req_1756627461349] API RESPONSE: Returning 3 recommendations
2025-08-31 10:04:23,937 - app.routers.recommendations - INFO - 🚀 [req_1756627463937] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:23,938 - app.routers.recommendations - INFO - 📋 [req_1756627463937] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:04:23,938 - app.routers.recommendations - INFO - ⚖️ [req_1756627463937] Weights: image=0.6, text=0.4
2025-08-31 10:04:23,941 - app.routers.recommendations - INFO - ✅ [req_1756627463937] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 10:04:23,941 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:04:23,941 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:04:23,941 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:04:23,944 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:04:23,945 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:04:23,947 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:04:23,948 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:04:23,948 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:04:23,948 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:04:23,949 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:23,949 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:23,955 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:04:23,955 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 10:04:23,956 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 10:04:23,957 - app.services.vector_service - INFO - 📊 Found 7 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:23,967 - app.services.vector_service - INFO - ✅ Found 7 recent liked products with vectors
2025-08-31 10:04:23,967 - app.services.vector_service - INFO -    1. Coca-Cola Hat 6 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:23,967 - app.services.vector_service - INFO -    2. Coca-Cola Hat 5 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:23,967 - app.services.vector_service - INFO -    3. YouTube Smoothie 13 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:23,967 - app.services.vector_service - INFO -    4. Coca-Cola Dress 12 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:23,968 - app.services.vector_service - INFO -    5. Tesla Headphones 18 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:23,968 - app.services.vector_service - INFO -    6. Coca-Cola Sneakers 1 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:23,968 - app.services.vector_service - INFO -    7. Coca-Cola Hat 4 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:23,968 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:04:23,968 - app.services.vector_service - INFO -    - Image vectors: 7/7
2025-08-31 10:04:23,968 - app.services.vector_service - INFO -    - Text vectors: 7/7
2025-08-31 10:04:23,968 - app.services.vector_service - INFO -    - Combined vectors: 7/7
2025-08-31 10:04:23,968 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:04:23,969 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:04:23,969 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:04:23,969 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:04:23,969 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:23,969 - app.services.recommendations - INFO - 🚫 Excluding 39 swiped products (liked: 7, disliked: 32)
2025-08-31 10:04:23,970 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:04:23,970 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4566 to 0.5405
2025-08-31 10:04:23,970 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 8 swiped products
2025-08-31 10:04:24,024 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-31 10:04:24,024 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Coca-Cola Dress 13:0.8158', 'Coca-Cola Dress 7:0.8112', 'Starbucks Hat 5:0.8098']
2025-08-31 10:04:24,025 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:24,025 - app.routers.recommendations - INFO - ✅ [req_1756627463937] SUCCESS: Found 3 recommendations
2025-08-31 10:04:24,025 - app.routers.recommendations - INFO - ⏱️ [req_1756627463937] Processing time: 0.088s
2025-08-31 10:04:24,025 - app.routers.recommendations - INFO - 🏆 [req_1756627463937] Top 1: Coca-Cola Dress 13 (score: 0.8158)
2025-08-31 10:04:24,025 - app.routers.recommendations - INFO - 🏆 [req_1756627463937] Top 2: Coca-Cola Dress 7 (score: 0.8112)
2025-08-31 10:04:24,025 - app.routers.recommendations - INFO - 🏆 [req_1756627463937] Top 3: Starbucks Hat 5 (score: 0.8098)
2025-08-31 10:04:24,025 - app.routers.recommendations - INFO - 🎯 [req_1756627463937] API RESPONSE: Returning 3 recommendations
2025-08-31 10:04:28,133 - app.routers.recommendations - INFO - 🚀 [req_1756627468133] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:28,135 - app.routers.recommendations - INFO - 📋 [req_1756627468133] Parameters: limit=3, category=None, brand_id=None
2025-08-31 10:04:28,135 - app.routers.recommendations - INFO - ⚖️ [req_1756627468133] Weights: image=0.6, text=0.4
2025-08-31 10:04:28,137 - app.routers.recommendations - INFO - ✅ [req_1756627468133] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 10:04:28,137 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 10:04:28,138 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 10:04:28,138 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 10:04:28,142 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 10:04:28,143 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 10:04:28,143 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 10:04:28,144 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 10:04:28,144 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 10:04:28,144 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 10:04:28,144 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:28,145 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:28,151 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 10:04:28,151 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 10:04:28,151 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 10:04:28,153 - app.services.vector_service - INFO - 📊 Found 8 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:28,166 - app.services.vector_service - INFO - ✅ Found 8 recent liked products with vectors
2025-08-31 10:04:28,166 - app.services.vector_service - INFO -    1. Coca-Cola Dress 13 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:28,166 - app.services.vector_service - INFO -    2. Coca-Cola Hat 6 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:28,166 - app.services.vector_service - INFO -    3. Coca-Cola Hat 5 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:28,166 - app.services.vector_service - INFO -    4. YouTube Smoothie 13 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:28,166 - app.services.vector_service - INFO -    5. Coca-Cola Dress 12 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:28,166 - app.services.vector_service - INFO -    6. Tesla Headphones 18 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:28,166 - app.services.vector_service - INFO -    7. Coca-Cola Sneakers 1 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:28,166 - app.services.vector_service - INFO -    8. Coca-Cola Hat 4 (swiped: 2025-08-31 08:04)
2025-08-31 10:04:28,166 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 10:04:28,166 - app.services.vector_service - INFO -    - Image vectors: 8/8
2025-08-31 10:04:28,166 - app.services.vector_service - INFO -    - Text vectors: 8/8
2025-08-31 10:04:28,166 - app.services.vector_service - INFO -    - Combined vectors: 8/8
2025-08-31 10:04:28,167 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 10:04:28,167 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 10:04:28,168 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 10:04:28,168 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 10:04:28,168 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:28,168 - app.services.recommendations - INFO - 🚫 Excluding 41 swiped products (liked: 8, disliked: 33)
2025-08-31 10:04:28,168 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 10:04:28,168 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4565 to 0.5408
2025-08-31 10:04:28,169 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 10 swiped products
2025-08-31 10:04:28,215 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-31 10:04:28,215 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Starbucks Hat 5:0.8195', 'Coca-Cola Sneakers 11:0.8072', 'Coca-Cola Dress 10:0.8033']
2025-08-31 10:04:28,216 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 10:04:28,216 - app.routers.recommendations - INFO - ✅ [req_1756627468133] SUCCESS: Found 3 recommendations
2025-08-31 10:04:28,216 - app.routers.recommendations - INFO - ⏱️ [req_1756627468133] Processing time: 0.084s
2025-08-31 10:04:28,216 - app.routers.recommendations - INFO - 🏆 [req_1756627468133] Top 1: Starbucks Hat 5 (score: 0.8195)
2025-08-31 10:04:28,216 - app.routers.recommendations - INFO - 🏆 [req_1756627468133] Top 2: Coca-Cola Sneakers 11 (score: 0.8072)
2025-08-31 10:04:28,216 - app.routers.recommendations - INFO - 🏆 [req_1756627468133] Top 3: Coca-Cola Dress 10 (score: 0.8033)
2025-08-31 10:04:28,217 - app.routers.recommendations - INFO - 🎯 [req_1756627468133] API RESPONSE: Returning 3 recommendations
2025-08-31 11:53:26,762 - app.routers.recommendations - INFO - 🚀 [req_1756634006761] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:53:26,765 - app.routers.recommendations - INFO - 📋 [req_1756634006761] Parameters: limit=3, category=None, brand_id=None
2025-08-31 11:53:26,765 - app.routers.recommendations - INFO - ⚖️ [req_1756634006761] Weights: image=0.6, text=0.4
2025-08-31 11:53:26,771 - app.routers.recommendations - INFO - ✅ [req_1756634006761] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:53:26,774 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:53:26,774 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:53:26,785 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:53:26,808 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:53:26,814 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:53:26,818 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:53:26,832 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:53:26,832 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:53:26,832 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:53:26,834 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:53:26,834 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:53:26,865 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:53:26,865 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:53:26,866 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:53:26,871 - app.services.vector_service - INFO - 📊 Found 9 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:53:26,887 - app.services.vector_service - INFO - ✅ Found 9 recent liked products with vectors
2025-08-31 11:53:26,887 - app.services.vector_service - INFO -    1. Coca-Cola Sneakers 11 (swiped: 2025-08-31 09:53)
2025-08-31 11:53:26,887 - app.services.vector_service - INFO -    2. Coca-Cola Dress 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:53:26,887 - app.services.vector_service - INFO -    3. Coca-Cola Hat 6 (swiped: 2025-08-31 08:04)
2025-08-31 11:53:26,887 - app.services.vector_service - INFO -    4. Coca-Cola Hat 5 (swiped: 2025-08-31 08:04)
2025-08-31 11:53:26,887 - app.services.vector_service - INFO -    5. YouTube Smoothie 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:53:26,888 - app.services.vector_service - INFO -    6. Coca-Cola Dress 12 (swiped: 2025-08-31 08:04)
2025-08-31 11:53:26,888 - app.services.vector_service - INFO -    7. Tesla Headphones 18 (swiped: 2025-08-31 08:04)
2025-08-31 11:53:26,888 - app.services.vector_service - INFO -    8. Coca-Cola Sneakers 1 (swiped: 2025-08-31 08:04)
2025-08-31 11:53:26,888 - app.services.vector_service - INFO -    9. Coca-Cola Hat 4 (swiped: 2025-08-31 08:04)
2025-08-31 11:53:26,888 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:53:26,888 - app.services.vector_service - INFO -    - Image vectors: 9/9
2025-08-31 11:53:26,888 - app.services.vector_service - INFO -    - Text vectors: 9/9
2025-08-31 11:53:26,888 - app.services.vector_service - INFO -    - Combined vectors: 9/9
2025-08-31 11:53:26,888 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:53:26,889 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:53:26,889 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:53:26,889 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:53:26,889 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:53:26,890 - app.services.recommendations - INFO - 🚫 Excluding 43 swiped products (liked: 9, disliked: 34)
2025-08-31 11:53:26,895 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:53:26,905 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4553 to 0.5419
2025-08-31 11:53:26,905 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 11 swiped products
2025-08-31 11:53:26,997 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-31 11:53:26,997 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Coca-Cola Dress 10:0.8100', 'Coca-Cola Hat 2:0.8029', 'Coca-Cola Sneakers 8:0.8001']
2025-08-31 11:53:26,998 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:53:26,999 - app.routers.recommendations - INFO - ✅ [req_1756634006761] SUCCESS: Found 3 recommendations
2025-08-31 11:53:26,999 - app.routers.recommendations - INFO - ⏱️ [req_1756634006761] Processing time: 0.238s
2025-08-31 11:53:26,999 - app.routers.recommendations - INFO - 🏆 [req_1756634006761] Top 1: Coca-Cola Dress 10 (score: 0.8100)
2025-08-31 11:53:26,999 - app.routers.recommendations - INFO - 🏆 [req_1756634006761] Top 2: Coca-Cola Hat 2 (score: 0.8029)
2025-08-31 11:53:26,999 - app.routers.recommendations - INFO - 🏆 [req_1756634006761] Top 3: Coca-Cola Sneakers 8 (score: 0.8001)
2025-08-31 11:53:26,999 - app.routers.recommendations - INFO - 🎯 [req_1756634006761] API RESPONSE: Returning 3 recommendations
2025-08-31 11:54:33,962 - app.routers.recommendations - INFO - 🚀 [req_1756634073960] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:54:33,969 - app.routers.recommendations - INFO - 📋 [req_1756634073960] Parameters: limit=5, category=None, brand_id=None
2025-08-31 11:54:33,970 - app.routers.recommendations - INFO - ⚖️ [req_1756634073960] Weights: image=0.6, text=0.4
2025-08-31 11:54:34,042 - app.routers.recommendations - INFO - ✅ [req_1756634073960] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:54:34,044 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:54:34,045 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:54:34,052 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:54:34,072 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:54:34,074 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:54:34,081 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:54:34,086 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:54:34,086 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:54:34,086 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:54:34,087 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:54:34,089 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:54:34,110 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:54:34,110 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:54:34,112 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:54:34,121 - app.services.vector_service - INFO - 📊 Found 9 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:54:34,152 - app.services.vector_service - INFO - ✅ Found 9 recent liked products with vectors
2025-08-31 11:54:34,152 - app.services.vector_service - INFO -    1. Coca-Cola Sneakers 11 (swiped: 2025-08-31 09:53)
2025-08-31 11:54:34,153 - app.services.vector_service - INFO -    2. Coca-Cola Dress 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:34,153 - app.services.vector_service - INFO -    3. Coca-Cola Hat 6 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:34,153 - app.services.vector_service - INFO -    4. Coca-Cola Hat 5 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:34,153 - app.services.vector_service - INFO -    5. YouTube Smoothie 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:34,153 - app.services.vector_service - INFO -    6. Coca-Cola Dress 12 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:34,153 - app.services.vector_service - INFO -    7. Tesla Headphones 18 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:34,153 - app.services.vector_service - INFO -    8. Coca-Cola Sneakers 1 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:34,153 - app.services.vector_service - INFO -    9. Coca-Cola Hat 4 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:34,153 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:54:34,153 - app.services.vector_service - INFO -    - Image vectors: 9/9
2025-08-31 11:54:34,153 - app.services.vector_service - INFO -    - Text vectors: 9/9
2025-08-31 11:54:34,153 - app.services.vector_service - INFO -    - Combined vectors: 9/9
2025-08-31 11:54:34,154 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:54:34,154 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:54:34,154 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:54:34,154 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:54:34,155 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:54:34,155 - app.services.recommendations - INFO - 🚫 Excluding 43 swiped products (liked: 9, disliked: 34)
2025-08-31 11:54:34,164 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:54:34,178 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4483 to 0.5419
2025-08-31 11:54:34,178 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 13 swiped products
2025-08-31 11:54:34,252 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 11:54:34,252 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Coca-Cola Dress 10:0.8100', 'Coca-Cola Hat 2:0.8029', 'Coca-Cola Sneakers 8:0.8001']
2025-08-31 11:54:34,257 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:54:34,257 - app.routers.recommendations - INFO - ✅ [req_1756634073960] SUCCESS: Found 5 recommendations
2025-08-31 11:54:34,257 - app.routers.recommendations - INFO - ⏱️ [req_1756634073960] Processing time: 0.297s
2025-08-31 11:54:34,257 - app.routers.recommendations - INFO - 🏆 [req_1756634073960] Top 1: Coca-Cola Dress 10 (score: 0.8100)
2025-08-31 11:54:34,257 - app.routers.recommendations - INFO - 🏆 [req_1756634073960] Top 2: Coca-Cola Hat 2 (score: 0.8029)
2025-08-31 11:54:34,257 - app.routers.recommendations - INFO - 🏆 [req_1756634073960] Top 3: Coca-Cola Sneakers 8 (score: 0.8001)
2025-08-31 11:54:34,257 - app.routers.recommendations - INFO - 🎯 [req_1756634073960] API RESPONSE: Returning 5 recommendations
2025-08-31 11:54:44,625 - app.routers.recommendations - INFO - 🚀 [req_1756634084625] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:54:44,626 - app.routers.recommendations - INFO - 📋 [req_1756634084625] Parameters: limit=5, category=None, brand_id=None
2025-08-31 11:54:44,626 - app.routers.recommendations - INFO - ⚖️ [req_1756634084625] Weights: image=0.6, text=0.4
2025-08-31 11:54:44,750 - app.routers.recommendations - INFO - ✅ [req_1756634084625] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:54:44,751 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:54:44,751 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:54:44,752 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:54:44,755 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:54:44,756 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:54:44,761 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:54:44,763 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:54:44,763 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:54:44,763 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:54:44,763 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:54:44,763 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:54:44,801 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:54:44,802 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:54:44,802 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:54:44,803 - app.services.vector_service - INFO - 📊 Found 9 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:54:44,818 - app.services.vector_service - INFO - ✅ Found 9 recent liked products with vectors
2025-08-31 11:54:44,818 - app.services.vector_service - INFO -    1. Coca-Cola Sneakers 11 (swiped: 2025-08-31 09:53)
2025-08-31 11:54:44,818 - app.services.vector_service - INFO -    2. Coca-Cola Dress 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:44,818 - app.services.vector_service - INFO -    3. Coca-Cola Hat 6 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:44,818 - app.services.vector_service - INFO -    4. Coca-Cola Hat 5 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:44,818 - app.services.vector_service - INFO -    5. YouTube Smoothie 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:44,818 - app.services.vector_service - INFO -    6. Coca-Cola Dress 12 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:44,818 - app.services.vector_service - INFO -    7. Tesla Headphones 18 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:44,818 - app.services.vector_service - INFO -    8. Coca-Cola Sneakers 1 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:44,818 - app.services.vector_service - INFO -    9. Coca-Cola Hat 4 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:44,818 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:54:44,818 - app.services.vector_service - INFO -    - Image vectors: 9/9
2025-08-31 11:54:44,818 - app.services.vector_service - INFO -    - Text vectors: 9/9
2025-08-31 11:54:44,818 - app.services.vector_service - INFO -    - Combined vectors: 9/9
2025-08-31 11:54:44,819 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:54:44,819 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:54:44,820 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:54:44,820 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:54:44,820 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:54:44,820 - app.services.recommendations - INFO - 🚫 Excluding 43 swiped products (liked: 9, disliked: 34)
2025-08-31 11:54:44,820 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:54:44,821 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4483 to 0.5419
2025-08-31 11:54:44,821 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 13 swiped products
2025-08-31 11:54:44,868 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 11:54:44,868 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Coca-Cola Dress 10:0.8100', 'Coca-Cola Hat 2:0.8029', 'Coca-Cola Sneakers 8:0.8001']
2025-08-31 11:54:44,869 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:54:44,869 - app.routers.recommendations - INFO - ✅ [req_1756634084625] SUCCESS: Found 5 recommendations
2025-08-31 11:54:44,869 - app.routers.recommendations - INFO - ⏱️ [req_1756634084625] Processing time: 0.243s
2025-08-31 11:54:44,869 - app.routers.recommendations - INFO - 🏆 [req_1756634084625] Top 1: Coca-Cola Dress 10 (score: 0.8100)
2025-08-31 11:54:44,869 - app.routers.recommendations - INFO - 🏆 [req_1756634084625] Top 2: Coca-Cola Hat 2 (score: 0.8029)
2025-08-31 11:54:44,869 - app.routers.recommendations - INFO - 🏆 [req_1756634084625] Top 3: Coca-Cola Sneakers 8 (score: 0.8001)
2025-08-31 11:54:44,869 - app.routers.recommendations - INFO - 🎯 [req_1756634084625] API RESPONSE: Returning 5 recommendations
2025-08-31 11:54:54,878 - app.routers.recommendations - INFO - 🚀 [req_1756634094878] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:54:54,879 - app.routers.recommendations - INFO - 📋 [req_1756634094878] Parameters: limit=5, category=None, brand_id=None
2025-08-31 11:54:54,883 - app.routers.recommendations - INFO - ⚖️ [req_1756634094878] Weights: image=0.6, text=0.4
2025-08-31 11:54:54,931 - app.routers.recommendations - INFO - ✅ [req_1756634094878] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:54:54,932 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:54:54,932 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:54:54,937 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:54:54,942 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:54:54,944 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:54:54,949 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:54:54,959 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:54:54,959 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:54:54,959 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:54:54,959 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:54:54,959 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:54:54,974 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:54:54,974 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:54:54,974 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:54:54,976 - app.services.vector_service - INFO - 📊 Found 9 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:54:54,996 - app.services.vector_service - INFO - ✅ Found 9 recent liked products with vectors
2025-08-31 11:54:54,996 - app.services.vector_service - INFO -    1. Coca-Cola Sneakers 11 (swiped: 2025-08-31 09:53)
2025-08-31 11:54:54,996 - app.services.vector_service - INFO -    2. Coca-Cola Dress 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:54,996 - app.services.vector_service - INFO -    3. Coca-Cola Hat 6 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:54,996 - app.services.vector_service - INFO -    4. Coca-Cola Hat 5 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:54,996 - app.services.vector_service - INFO -    5. YouTube Smoothie 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:54,996 - app.services.vector_service - INFO -    6. Coca-Cola Dress 12 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:54,996 - app.services.vector_service - INFO -    7. Tesla Headphones 18 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:54,996 - app.services.vector_service - INFO -    8. Coca-Cola Sneakers 1 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:54,996 - app.services.vector_service - INFO -    9. Coca-Cola Hat 4 (swiped: 2025-08-31 08:04)
2025-08-31 11:54:54,996 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:54:54,996 - app.services.vector_service - INFO -    - Image vectors: 9/9
2025-08-31 11:54:54,996 - app.services.vector_service - INFO -    - Text vectors: 9/9
2025-08-31 11:54:54,996 - app.services.vector_service - INFO -    - Combined vectors: 9/9
2025-08-31 11:54:54,996 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:54:54,997 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:54:54,997 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:54:54,997 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:54:54,997 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:54:54,997 - app.services.recommendations - INFO - 🚫 Excluding 43 swiped products (liked: 9, disliked: 34)
2025-08-31 11:54:54,997 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:54:54,997 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4483 to 0.5419
2025-08-31 11:54:54,998 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 13 swiped products
2025-08-31 11:54:55,090 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 11:54:55,090 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Coca-Cola Dress 10:0.8100', 'Coca-Cola Hat 2:0.8029', 'Coca-Cola Sneakers 8:0.8001']
2025-08-31 11:54:55,091 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:54:55,091 - app.routers.recommendations - INFO - ✅ [req_1756634094878] SUCCESS: Found 5 recommendations
2025-08-31 11:54:55,091 - app.routers.recommendations - INFO - ⏱️ [req_1756634094878] Processing time: 0.213s
2025-08-31 11:54:55,091 - app.routers.recommendations - INFO - 🏆 [req_1756634094878] Top 1: Coca-Cola Dress 10 (score: 0.8100)
2025-08-31 11:54:55,091 - app.routers.recommendations - INFO - 🏆 [req_1756634094878] Top 2: Coca-Cola Hat 2 (score: 0.8029)
2025-08-31 11:54:55,091 - app.routers.recommendations - INFO - 🏆 [req_1756634094878] Top 3: Coca-Cola Sneakers 8 (score: 0.8001)
2025-08-31 11:54:55,091 - app.routers.recommendations - INFO - 🎯 [req_1756634094878] API RESPONSE: Returning 5 recommendations
2025-08-31 11:55:01,291 - app.routers.recommendations - INFO - 🚀 [req_1756634101291] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:01,293 - app.routers.recommendations - INFO - 📋 [req_1756634101291] Parameters: limit=5, category=None, brand_id=None
2025-08-31 11:55:01,293 - app.routers.recommendations - INFO - ⚖️ [req_1756634101291] Weights: image=0.6, text=0.4
2025-08-31 11:55:01,419 - app.routers.recommendations - INFO - ✅ [req_1756634101291] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:55:01,419 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:55:01,420 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:55:01,428 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:55:01,440 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:55:01,452 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:55:01,523 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:55:01,530 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:55:01,530 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:55:01,530 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:55:01,530 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:01,530 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:01,649 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:55:01,649 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:55:01,649 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:55:01,671 - app.services.vector_service - INFO - 📊 Found 9 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:01,700 - app.services.vector_service - INFO - ✅ Found 9 recent liked products with vectors
2025-08-31 11:55:01,700 - app.services.vector_service - INFO -    1. Coca-Cola Sneakers 11 (swiped: 2025-08-31 09:53)
2025-08-31 11:55:01,700 - app.services.vector_service - INFO -    2. Coca-Cola Dress 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:01,700 - app.services.vector_service - INFO -    3. Coca-Cola Hat 6 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:01,700 - app.services.vector_service - INFO -    4. Coca-Cola Hat 5 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:01,700 - app.services.vector_service - INFO -    5. YouTube Smoothie 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:01,700 - app.services.vector_service - INFO -    6. Coca-Cola Dress 12 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:01,700 - app.services.vector_service - INFO -    7. Tesla Headphones 18 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:01,701 - app.services.vector_service - INFO -    8. Coca-Cola Sneakers 1 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:01,701 - app.services.vector_service - INFO -    9. Coca-Cola Hat 4 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:01,701 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:55:01,701 - app.services.vector_service - INFO -    - Image vectors: 9/9
2025-08-31 11:55:01,701 - app.services.vector_service - INFO -    - Text vectors: 9/9
2025-08-31 11:55:01,701 - app.services.vector_service - INFO -    - Combined vectors: 9/9
2025-08-31 11:55:01,701 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:55:01,701 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:55:01,701 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:55:01,701 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:55:01,702 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:01,702 - app.services.recommendations - INFO - 🚫 Excluding 43 swiped products (liked: 9, disliked: 34)
2025-08-31 11:55:01,702 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:55:01,702 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4483 to 0.5419
2025-08-31 11:55:01,702 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 13 swiped products
2025-08-31 11:55:01,765 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 11:55:01,765 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Coca-Cola Dress 10:0.8100', 'Coca-Cola Hat 2:0.8029', 'Coca-Cola Sneakers 8:0.8001']
2025-08-31 11:55:01,766 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:01,766 - app.routers.recommendations - INFO - ✅ [req_1756634101291] SUCCESS: Found 5 recommendations
2025-08-31 11:55:01,766 - app.routers.recommendations - INFO - ⏱️ [req_1756634101291] Processing time: 0.475s
2025-08-31 11:55:01,766 - app.routers.recommendations - INFO - 🏆 [req_1756634101291] Top 1: Coca-Cola Dress 10 (score: 0.8100)
2025-08-31 11:55:01,766 - app.routers.recommendations - INFO - 🏆 [req_1756634101291] Top 2: Coca-Cola Hat 2 (score: 0.8029)
2025-08-31 11:55:01,766 - app.routers.recommendations - INFO - 🏆 [req_1756634101291] Top 3: Coca-Cola Sneakers 8 (score: 0.8001)
2025-08-31 11:55:01,766 - app.routers.recommendations - INFO - 🎯 [req_1756634101291] API RESPONSE: Returning 5 recommendations
2025-08-31 11:55:09,609 - app.routers.recommendations - INFO - 🚀 [req_1756634109608] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:09,613 - app.routers.recommendations - INFO - 📋 [req_1756634109608] Parameters: limit=5, category=None, brand_id=None
2025-08-31 11:55:09,613 - app.routers.recommendations - INFO - ⚖️ [req_1756634109608] Weights: image=0.6, text=0.4
2025-08-31 11:55:09,648 - app.routers.recommendations - INFO - ✅ [req_1756634109608] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:55:09,648 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:55:09,648 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:55:09,649 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:55:09,651 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:55:09,651 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:55:09,653 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:55:09,654 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:55:09,655 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:55:09,655 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:55:09,655 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:09,655 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:09,662 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:55:09,662 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:55:09,662 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:55:09,664 - app.services.vector_service - INFO - 📊 Found 9 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:09,673 - app.services.vector_service - INFO - ✅ Found 9 recent liked products with vectors
2025-08-31 11:55:09,674 - app.services.vector_service - INFO -    1. Coca-Cola Sneakers 11 (swiped: 2025-08-31 09:53)
2025-08-31 11:55:09,674 - app.services.vector_service - INFO -    2. Coca-Cola Dress 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:09,674 - app.services.vector_service - INFO -    3. Coca-Cola Hat 6 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:09,674 - app.services.vector_service - INFO -    4. Coca-Cola Hat 5 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:09,674 - app.services.vector_service - INFO -    5. YouTube Smoothie 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:09,674 - app.services.vector_service - INFO -    6. Coca-Cola Dress 12 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:09,674 - app.services.vector_service - INFO -    7. Tesla Headphones 18 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:09,674 - app.services.vector_service - INFO -    8. Coca-Cola Sneakers 1 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:09,674 - app.services.vector_service - INFO -    9. Coca-Cola Hat 4 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:09,674 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:55:09,674 - app.services.vector_service - INFO -    - Image vectors: 9/9
2025-08-31 11:55:09,674 - app.services.vector_service - INFO -    - Text vectors: 9/9
2025-08-31 11:55:09,674 - app.services.vector_service - INFO -    - Combined vectors: 9/9
2025-08-31 11:55:09,674 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:55:09,674 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:55:09,675 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:55:09,675 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:55:09,675 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:09,675 - app.services.recommendations - INFO - 🚫 Excluding 43 swiped products (liked: 9, disliked: 34)
2025-08-31 11:55:09,675 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:55:09,675 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4483 to 0.5419
2025-08-31 11:55:09,675 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 13 swiped products
2025-08-31 11:55:09,732 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 11:55:09,732 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Coca-Cola Dress 10:0.8100', 'Coca-Cola Hat 2:0.8029', 'Coca-Cola Sneakers 8:0.8001']
2025-08-31 11:55:09,733 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:09,733 - app.routers.recommendations - INFO - ✅ [req_1756634109608] SUCCESS: Found 5 recommendations
2025-08-31 11:55:09,733 - app.routers.recommendations - INFO - ⏱️ [req_1756634109608] Processing time: 0.125s
2025-08-31 11:55:09,733 - app.routers.recommendations - INFO - 🏆 [req_1756634109608] Top 1: Coca-Cola Dress 10 (score: 0.8100)
2025-08-31 11:55:09,733 - app.routers.recommendations - INFO - 🏆 [req_1756634109608] Top 2: Coca-Cola Hat 2 (score: 0.8029)
2025-08-31 11:55:09,733 - app.routers.recommendations - INFO - 🏆 [req_1756634109608] Top 3: Coca-Cola Sneakers 8 (score: 0.8001)
2025-08-31 11:55:09,733 - app.routers.recommendations - INFO - 🎯 [req_1756634109608] API RESPONSE: Returning 5 recommendations
2025-08-31 11:55:17,537 - app.routers.recommendations - INFO - 🚀 [req_1756634117536] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:17,537 - app.routers.recommendations - INFO - 📋 [req_1756634117536] Parameters: limit=5, category=None, brand_id=None
2025-08-31 11:55:17,538 - app.routers.recommendations - INFO - ⚖️ [req_1756634117536] Weights: image=0.6, text=0.4
2025-08-31 11:55:17,555 - app.routers.recommendations - INFO - ✅ [req_1756634117536] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:55:17,555 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:55:17,555 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:55:17,556 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:55:17,558 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:55:17,558 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:55:17,560 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:55:17,561 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:55:17,561 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:55:17,561 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:55:17,561 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:17,561 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:17,668 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:55:17,668 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:55:17,668 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:55:17,669 - app.services.vector_service - INFO - 📊 Found 9 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:17,682 - app.services.vector_service - INFO - ✅ Found 9 recent liked products with vectors
2025-08-31 11:55:17,682 - app.services.vector_service - INFO -    1. Coca-Cola Sneakers 11 (swiped: 2025-08-31 09:53)
2025-08-31 11:55:17,682 - app.services.vector_service - INFO -    2. Coca-Cola Dress 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:17,682 - app.services.vector_service - INFO -    3. Coca-Cola Hat 6 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:17,682 - app.services.vector_service - INFO -    4. Coca-Cola Hat 5 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:17,682 - app.services.vector_service - INFO -    5. YouTube Smoothie 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:17,683 - app.services.vector_service - INFO -    6. Coca-Cola Dress 12 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:17,683 - app.services.vector_service - INFO -    7. Tesla Headphones 18 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:17,683 - app.services.vector_service - INFO -    8. Coca-Cola Sneakers 1 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:17,683 - app.services.vector_service - INFO -    9. Coca-Cola Hat 4 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:17,683 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:55:17,683 - app.services.vector_service - INFO -    - Image vectors: 9/9
2025-08-31 11:55:17,683 - app.services.vector_service - INFO -    - Text vectors: 9/9
2025-08-31 11:55:17,683 - app.services.vector_service - INFO -    - Combined vectors: 9/9
2025-08-31 11:55:17,683 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:55:17,683 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:55:17,684 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:55:17,684 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:55:17,684 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:17,684 - app.services.recommendations - INFO - 🚫 Excluding 43 swiped products (liked: 9, disliked: 34)
2025-08-31 11:55:17,684 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:55:17,684 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4483 to 0.5419
2025-08-31 11:55:17,684 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 13 swiped products
2025-08-31 11:55:17,722 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 11:55:17,722 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Coca-Cola Dress 10:0.8100', 'Coca-Cola Hat 2:0.8029', 'Coca-Cola Sneakers 8:0.8001']
2025-08-31 11:55:17,722 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:17,722 - app.routers.recommendations - INFO - ✅ [req_1756634117536] SUCCESS: Found 5 recommendations
2025-08-31 11:55:17,723 - app.routers.recommendations - INFO - ⏱️ [req_1756634117536] Processing time: 0.186s
2025-08-31 11:55:17,723 - app.routers.recommendations - INFO - 🏆 [req_1756634117536] Top 1: Coca-Cola Dress 10 (score: 0.8100)
2025-08-31 11:55:17,723 - app.routers.recommendations - INFO - 🏆 [req_1756634117536] Top 2: Coca-Cola Hat 2 (score: 0.8029)
2025-08-31 11:55:17,723 - app.routers.recommendations - INFO - 🏆 [req_1756634117536] Top 3: Coca-Cola Sneakers 8 (score: 0.8001)
2025-08-31 11:55:17,723 - app.routers.recommendations - INFO - 🎯 [req_1756634117536] API RESPONSE: Returning 5 recommendations
2025-08-31 11:55:28,117 - app.routers.recommendations - INFO - 🚀 [req_1756634128116] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:28,122 - app.routers.recommendations - INFO - 📋 [req_1756634128116] Parameters: limit=5, category=None, brand_id=None
2025-08-31 11:55:28,124 - app.routers.recommendations - INFO - ⚖️ [req_1756634128116] Weights: image=0.6, text=0.4
2025-08-31 11:55:28,149 - app.routers.recommendations - INFO - ✅ [req_1756634128116] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:55:28,149 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:55:28,149 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:55:28,150 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:55:28,153 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:55:28,154 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:55:28,157 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:55:28,159 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:55:28,159 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:55:28,159 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:55:28,159 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:28,159 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:28,164 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:55:28,164 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:55:28,164 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:55:28,165 - app.services.vector_service - INFO - 📊 Found 9 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:28,175 - app.services.vector_service - INFO - ✅ Found 9 recent liked products with vectors
2025-08-31 11:55:28,175 - app.services.vector_service - INFO -    1. Coca-Cola Sneakers 11 (swiped: 2025-08-31 09:53)
2025-08-31 11:55:28,175 - app.services.vector_service - INFO -    2. Coca-Cola Dress 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:28,175 - app.services.vector_service - INFO -    3. Coca-Cola Hat 6 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:28,175 - app.services.vector_service - INFO -    4. Coca-Cola Hat 5 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:28,175 - app.services.vector_service - INFO -    5. YouTube Smoothie 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:28,176 - app.services.vector_service - INFO -    6. Coca-Cola Dress 12 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:28,176 - app.services.vector_service - INFO -    7. Tesla Headphones 18 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:28,176 - app.services.vector_service - INFO -    8. Coca-Cola Sneakers 1 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:28,176 - app.services.vector_service - INFO -    9. Coca-Cola Hat 4 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:28,176 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:55:28,176 - app.services.vector_service - INFO -    - Image vectors: 9/9
2025-08-31 11:55:28,176 - app.services.vector_service - INFO -    - Text vectors: 9/9
2025-08-31 11:55:28,176 - app.services.vector_service - INFO -    - Combined vectors: 9/9
2025-08-31 11:55:28,176 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:55:28,176 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:55:28,176 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:55:28,176 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:55:28,177 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:28,177 - app.services.recommendations - INFO - 🚫 Excluding 43 swiped products (liked: 9, disliked: 34)
2025-08-31 11:55:28,177 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:55:28,177 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4483 to 0.5419
2025-08-31 11:55:28,177 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 13 swiped products
2025-08-31 11:55:28,233 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 11:55:28,233 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Coca-Cola Dress 10:0.8100', 'Coca-Cola Hat 2:0.8029', 'Coca-Cola Sneakers 8:0.8001']
2025-08-31 11:55:28,234 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:28,234 - app.routers.recommendations - INFO - ✅ [req_1756634128116] SUCCESS: Found 5 recommendations
2025-08-31 11:55:28,234 - app.routers.recommendations - INFO - ⏱️ [req_1756634128116] Processing time: 0.117s
2025-08-31 11:55:28,234 - app.routers.recommendations - INFO - 🏆 [req_1756634128116] Top 1: Coca-Cola Dress 10 (score: 0.8100)
2025-08-31 11:55:28,234 - app.routers.recommendations - INFO - 🏆 [req_1756634128116] Top 2: Coca-Cola Hat 2 (score: 0.8029)
2025-08-31 11:55:28,234 - app.routers.recommendations - INFO - 🏆 [req_1756634128116] Top 3: Coca-Cola Sneakers 8 (score: 0.8001)
2025-08-31 11:55:28,234 - app.routers.recommendations - INFO - 🎯 [req_1756634128116] API RESPONSE: Returning 5 recommendations
2025-08-31 11:55:36,028 - app.routers.recommendations - INFO - 🚀 [req_1756634136027] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:36,030 - app.routers.recommendations - INFO - 📋 [req_1756634136027] Parameters: limit=5, category=None, brand_id=None
2025-08-31 11:55:36,030 - app.routers.recommendations - INFO - ⚖️ [req_1756634136027] Weights: image=0.6, text=0.4
2025-08-31 11:55:36,094 - app.routers.recommendations - INFO - ✅ [req_1756634136027] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:55:36,095 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:55:36,095 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:55:36,096 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:55:36,098 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:55:36,099 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:55:36,101 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:55:36,103 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:55:36,103 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:55:36,103 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:55:36,103 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:36,103 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:36,108 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:55:36,108 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:55:36,108 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:55:36,110 - app.services.vector_service - INFO - 📊 Found 9 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:36,120 - app.services.vector_service - INFO - ✅ Found 9 recent liked products with vectors
2025-08-31 11:55:36,120 - app.services.vector_service - INFO -    1. Coca-Cola Sneakers 11 (swiped: 2025-08-31 09:53)
2025-08-31 11:55:36,120 - app.services.vector_service - INFO -    2. Coca-Cola Dress 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:36,120 - app.services.vector_service - INFO -    3. Coca-Cola Hat 6 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:36,120 - app.services.vector_service - INFO -    4. Coca-Cola Hat 5 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:36,121 - app.services.vector_service - INFO -    5. YouTube Smoothie 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:36,121 - app.services.vector_service - INFO -    6. Coca-Cola Dress 12 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:36,121 - app.services.vector_service - INFO -    7. Tesla Headphones 18 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:36,121 - app.services.vector_service - INFO -    8. Coca-Cola Sneakers 1 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:36,121 - app.services.vector_service - INFO -    9. Coca-Cola Hat 4 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:36,121 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:55:36,121 - app.services.vector_service - INFO -    - Image vectors: 9/9
2025-08-31 11:55:36,121 - app.services.vector_service - INFO -    - Text vectors: 9/9
2025-08-31 11:55:36,121 - app.services.vector_service - INFO -    - Combined vectors: 9/9
2025-08-31 11:55:36,121 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:55:36,122 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:55:36,122 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:55:36,122 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:55:36,122 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:36,122 - app.services.recommendations - INFO - 🚫 Excluding 43 swiped products (liked: 9, disliked: 34)
2025-08-31 11:55:36,122 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:55:36,122 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4483 to 0.5419
2025-08-31 11:55:36,122 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 13 swiped products
2025-08-31 11:55:36,172 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 11:55:36,172 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Coca-Cola Dress 10:0.8100', 'Coca-Cola Hat 2:0.8029', 'Coca-Cola Sneakers 8:0.8001']
2025-08-31 11:55:36,172 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:36,172 - app.routers.recommendations - INFO - ✅ [req_1756634136027] SUCCESS: Found 5 recommendations
2025-08-31 11:55:36,172 - app.routers.recommendations - INFO - ⏱️ [req_1756634136027] Processing time: 0.145s
2025-08-31 11:55:36,172 - app.routers.recommendations - INFO - 🏆 [req_1756634136027] Top 1: Coca-Cola Dress 10 (score: 0.8100)
2025-08-31 11:55:36,172 - app.routers.recommendations - INFO - 🏆 [req_1756634136027] Top 2: Coca-Cola Hat 2 (score: 0.8029)
2025-08-31 11:55:36,172 - app.routers.recommendations - INFO - 🏆 [req_1756634136027] Top 3: Coca-Cola Sneakers 8 (score: 0.8001)
2025-08-31 11:55:36,173 - app.routers.recommendations - INFO - 🎯 [req_1756634136027] API RESPONSE: Returning 5 recommendations
2025-08-31 11:55:42,874 - app.routers.recommendations - INFO - 🚀 [req_1756634142873] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:42,885 - app.routers.recommendations - INFO - 📋 [req_1756634142873] Parameters: limit=5, category=None, brand_id=None
2025-08-31 11:55:42,885 - app.routers.recommendations - INFO - ⚖️ [req_1756634142873] Weights: image=0.6, text=0.4
2025-08-31 11:55:42,978 - app.routers.recommendations - INFO - ✅ [req_1756634142873] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:55:42,978 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:55:42,979 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:55:42,980 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:55:42,986 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:55:42,987 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:55:42,990 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:55:42,992 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:55:42,992 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:55:42,992 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:55:42,993 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:42,993 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:43,027 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:55:43,028 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:55:43,028 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:55:43,029 - app.services.vector_service - INFO - 📊 Found 9 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:43,044 - app.services.vector_service - INFO - ✅ Found 9 recent liked products with vectors
2025-08-31 11:55:43,045 - app.services.vector_service - INFO -    1. Coca-Cola Sneakers 11 (swiped: 2025-08-31 09:53)
2025-08-31 11:55:43,045 - app.services.vector_service - INFO -    2. Coca-Cola Dress 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:43,045 - app.services.vector_service - INFO -    3. Coca-Cola Hat 6 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:43,045 - app.services.vector_service - INFO -    4. Coca-Cola Hat 5 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:43,045 - app.services.vector_service - INFO -    5. YouTube Smoothie 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:43,045 - app.services.vector_service - INFO -    6. Coca-Cola Dress 12 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:43,045 - app.services.vector_service - INFO -    7. Tesla Headphones 18 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:43,045 - app.services.vector_service - INFO -    8. Coca-Cola Sneakers 1 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:43,045 - app.services.vector_service - INFO -    9. Coca-Cola Hat 4 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:43,045 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:55:43,045 - app.services.vector_service - INFO -    - Image vectors: 9/9
2025-08-31 11:55:43,045 - app.services.vector_service - INFO -    - Text vectors: 9/9
2025-08-31 11:55:43,045 - app.services.vector_service - INFO -    - Combined vectors: 9/9
2025-08-31 11:55:43,046 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:55:43,046 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:55:43,046 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:55:43,046 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:55:43,047 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:43,048 - app.services.recommendations - INFO - 🚫 Excluding 43 swiped products (liked: 9, disliked: 34)
2025-08-31 11:55:43,048 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:55:43,049 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4483 to 0.5419
2025-08-31 11:55:43,049 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 13 swiped products
2025-08-31 11:55:43,091 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 11:55:43,091 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Coca-Cola Dress 10:0.8100', 'Coca-Cola Hat 2:0.8029', 'Coca-Cola Sneakers 8:0.8001']
2025-08-31 11:55:43,092 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:43,092 - app.routers.recommendations - INFO - ✅ [req_1756634142873] SUCCESS: Found 5 recommendations
2025-08-31 11:55:43,092 - app.routers.recommendations - INFO - ⏱️ [req_1756634142873] Processing time: 0.219s
2025-08-31 11:55:43,092 - app.routers.recommendations - INFO - 🏆 [req_1756634142873] Top 1: Coca-Cola Dress 10 (score: 0.8100)
2025-08-31 11:55:43,092 - app.routers.recommendations - INFO - 🏆 [req_1756634142873] Top 2: Coca-Cola Hat 2 (score: 0.8029)
2025-08-31 11:55:43,092 - app.routers.recommendations - INFO - 🏆 [req_1756634142873] Top 3: Coca-Cola Sneakers 8 (score: 0.8001)
2025-08-31 11:55:43,092 - app.routers.recommendations - INFO - 🎯 [req_1756634142873] API RESPONSE: Returning 5 recommendations
2025-08-31 11:55:49,877 - app.routers.recommendations - INFO - 🚀 [req_1756634149877] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:49,878 - app.routers.recommendations - INFO - 📋 [req_1756634149877] Parameters: limit=5, category=None, brand_id=None
2025-08-31 11:55:49,878 - app.routers.recommendations - INFO - ⚖️ [req_1756634149877] Weights: image=0.6, text=0.4
2025-08-31 11:55:49,898 - app.routers.recommendations - INFO - ✅ [req_1756634149877] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:55:49,899 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:55:49,899 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:55:49,900 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:55:49,903 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:55:49,905 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:55:49,910 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:55:49,918 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:55:49,918 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:55:49,918 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:55:49,918 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:49,919 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:49,964 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:55:49,964 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:55:49,964 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:55:49,966 - app.services.vector_service - INFO - 📊 Found 9 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:49,974 - app.services.vector_service - INFO - ✅ Found 9 recent liked products with vectors
2025-08-31 11:55:49,974 - app.services.vector_service - INFO -    1. Coca-Cola Sneakers 11 (swiped: 2025-08-31 09:53)
2025-08-31 11:55:49,974 - app.services.vector_service - INFO -    2. Coca-Cola Dress 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:49,974 - app.services.vector_service - INFO -    3. Coca-Cola Hat 6 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:49,974 - app.services.vector_service - INFO -    4. Coca-Cola Hat 5 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:49,974 - app.services.vector_service - INFO -    5. YouTube Smoothie 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:49,974 - app.services.vector_service - INFO -    6. Coca-Cola Dress 12 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:49,974 - app.services.vector_service - INFO -    7. Tesla Headphones 18 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:49,974 - app.services.vector_service - INFO -    8. Coca-Cola Sneakers 1 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:49,975 - app.services.vector_service - INFO -    9. Coca-Cola Hat 4 (swiped: 2025-08-31 08:04)
2025-08-31 11:55:49,975 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:55:49,975 - app.services.vector_service - INFO -    - Image vectors: 9/9
2025-08-31 11:55:49,975 - app.services.vector_service - INFO -    - Text vectors: 9/9
2025-08-31 11:55:49,975 - app.services.vector_service - INFO -    - Combined vectors: 9/9
2025-08-31 11:55:49,975 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:55:49,975 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:55:49,975 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:55:49,975 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:55:49,975 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:49,976 - app.services.recommendations - INFO - 🚫 Excluding 43 swiped products (liked: 9, disliked: 34)
2025-08-31 11:55:49,976 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:55:49,976 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4483 to 0.5419
2025-08-31 11:55:49,976 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 13 swiped products
2025-08-31 11:55:50,018 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 11:55:50,018 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Coca-Cola Dress 10:0.8100', 'Coca-Cola Hat 2:0.8029', 'Coca-Cola Sneakers 8:0.8001']
2025-08-31 11:55:50,019 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:55:50,019 - app.routers.recommendations - INFO - ✅ [req_1756634149877] SUCCESS: Found 5 recommendations
2025-08-31 11:55:50,019 - app.routers.recommendations - INFO - ⏱️ [req_1756634149877] Processing time: 0.142s
2025-08-31 11:55:50,019 - app.routers.recommendations - INFO - 🏆 [req_1756634149877] Top 1: Coca-Cola Dress 10 (score: 0.8100)
2025-08-31 11:55:50,019 - app.routers.recommendations - INFO - 🏆 [req_1756634149877] Top 2: Coca-Cola Hat 2 (score: 0.8029)
2025-08-31 11:55:50,019 - app.routers.recommendations - INFO - 🏆 [req_1756634149877] Top 3: Coca-Cola Sneakers 8 (score: 0.8001)
2025-08-31 11:55:50,019 - app.routers.recommendations - INFO - 🎯 [req_1756634149877] API RESPONSE: Returning 5 recommendations
2025-08-31 11:56:04,470 - app.routers.recommendations - INFO - 🚀 [req_1756634164470] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:56:04,471 - app.routers.recommendations - INFO - 📋 [req_1756634164470] Parameters: limit=5, category=None, brand_id=None
2025-08-31 11:56:04,471 - app.routers.recommendations - INFO - ⚖️ [req_1756634164470] Weights: image=0.6, text=0.4
2025-08-31 11:56:04,548 - app.routers.recommendations - INFO - ✅ [req_1756634164470] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:56:04,548 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:56:04,549 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:56:04,550 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:56:04,554 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:56:04,554 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:56:04,556 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:56:04,558 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:56:04,558 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:56:04,558 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:56:04,558 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:56:04,558 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:56:04,562 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:56:04,562 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:56:04,562 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:56:04,563 - app.services.vector_service - INFO - 📊 Found 9 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:56:04,572 - app.services.vector_service - INFO - ✅ Found 9 recent liked products with vectors
2025-08-31 11:56:04,572 - app.services.vector_service - INFO -    1. Coca-Cola Sneakers 11 (swiped: 2025-08-31 09:53)
2025-08-31 11:56:04,572 - app.services.vector_service - INFO -    2. Coca-Cola Dress 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:04,572 - app.services.vector_service - INFO -    3. Coca-Cola Hat 6 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:04,572 - app.services.vector_service - INFO -    4. Coca-Cola Hat 5 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:04,572 - app.services.vector_service - INFO -    5. YouTube Smoothie 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:04,572 - app.services.vector_service - INFO -    6. Coca-Cola Dress 12 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:04,572 - app.services.vector_service - INFO -    7. Tesla Headphones 18 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:04,572 - app.services.vector_service - INFO -    8. Coca-Cola Sneakers 1 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:04,572 - app.services.vector_service - INFO -    9. Coca-Cola Hat 4 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:04,573 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:56:04,573 - app.services.vector_service - INFO -    - Image vectors: 9/9
2025-08-31 11:56:04,573 - app.services.vector_service - INFO -    - Text vectors: 9/9
2025-08-31 11:56:04,573 - app.services.vector_service - INFO -    - Combined vectors: 9/9
2025-08-31 11:56:04,573 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:56:04,573 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:56:04,573 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:56:04,573 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:56:04,574 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:56:04,574 - app.services.recommendations - INFO - 🚫 Excluding 43 swiped products (liked: 9, disliked: 34)
2025-08-31 11:56:04,574 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:56:04,574 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4483 to 0.5419
2025-08-31 11:56:04,574 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 13 swiped products
2025-08-31 11:56:04,616 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 11:56:04,616 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Coca-Cola Dress 10:0.8100', 'Coca-Cola Hat 2:0.8029', 'Coca-Cola Sneakers 8:0.8001']
2025-08-31 11:56:04,616 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:56:04,616 - app.routers.recommendations - INFO - ✅ [req_1756634164470] SUCCESS: Found 5 recommendations
2025-08-31 11:56:04,617 - app.routers.recommendations - INFO - ⏱️ [req_1756634164470] Processing time: 0.147s
2025-08-31 11:56:04,617 - app.routers.recommendations - INFO - 🏆 [req_1756634164470] Top 1: Coca-Cola Dress 10 (score: 0.8100)
2025-08-31 11:56:04,617 - app.routers.recommendations - INFO - 🏆 [req_1756634164470] Top 2: Coca-Cola Hat 2 (score: 0.8029)
2025-08-31 11:56:04,617 - app.routers.recommendations - INFO - 🏆 [req_1756634164470] Top 3: Coca-Cola Sneakers 8 (score: 0.8001)
2025-08-31 11:56:04,617 - app.routers.recommendations - INFO - 🎯 [req_1756634164470] API RESPONSE: Returning 5 recommendations
2025-08-31 11:56:19,843 - app.routers.recommendations - INFO - 🚀 [req_1756634179843] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:56:19,844 - app.routers.recommendations - INFO - 📋 [req_1756634179843] Parameters: limit=5, category=None, brand_id=None
2025-08-31 11:56:19,844 - app.routers.recommendations - INFO - ⚖️ [req_1756634179843] Weights: image=0.6, text=0.4
2025-08-31 11:56:19,904 - app.routers.recommendations - INFO - ✅ [req_1756634179843] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:56:19,904 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:56:19,904 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:56:19,907 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:56:19,911 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:56:19,912 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:56:19,915 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:56:19,918 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:56:19,918 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:56:19,919 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:56:19,919 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:56:19,919 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:56:19,964 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:56:19,964 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:56:19,964 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:56:19,968 - app.services.vector_service - INFO - 📊 Found 9 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:56:20,088 - app.services.vector_service - INFO - ✅ Found 9 recent liked products with vectors
2025-08-31 11:56:20,088 - app.services.vector_service - INFO -    1. Coca-Cola Sneakers 11 (swiped: 2025-08-31 09:53)
2025-08-31 11:56:20,089 - app.services.vector_service - INFO -    2. Coca-Cola Dress 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:20,089 - app.services.vector_service - INFO -    3. Coca-Cola Hat 6 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:20,089 - app.services.vector_service - INFO -    4. Coca-Cola Hat 5 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:20,089 - app.services.vector_service - INFO -    5. YouTube Smoothie 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:20,089 - app.services.vector_service - INFO -    6. Coca-Cola Dress 12 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:20,089 - app.services.vector_service - INFO -    7. Tesla Headphones 18 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:20,089 - app.services.vector_service - INFO -    8. Coca-Cola Sneakers 1 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:20,089 - app.services.vector_service - INFO -    9. Coca-Cola Hat 4 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:20,089 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:56:20,090 - app.services.vector_service - INFO -    - Image vectors: 9/9
2025-08-31 11:56:20,090 - app.services.vector_service - INFO -    - Text vectors: 9/9
2025-08-31 11:56:20,090 - app.services.vector_service - INFO -    - Combined vectors: 9/9
2025-08-31 11:56:20,097 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:56:20,098 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:56:20,099 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:56:20,099 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:56:20,099 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:56:20,100 - app.services.recommendations - INFO - 🚫 Excluding 43 swiped products (liked: 9, disliked: 34)
2025-08-31 11:56:20,100 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:56:20,102 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4483 to 0.5419
2025-08-31 11:56:20,102 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 13 swiped products
2025-08-31 11:56:20,212 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 11:56:20,212 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Coca-Cola Dress 10:0.8100', 'Coca-Cola Hat 2:0.8029', 'Coca-Cola Sneakers 8:0.8001']
2025-08-31 11:56:20,213 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:56:20,213 - app.routers.recommendations - INFO - ✅ [req_1756634179843] SUCCESS: Found 5 recommendations
2025-08-31 11:56:20,213 - app.routers.recommendations - INFO - ⏱️ [req_1756634179843] Processing time: 0.370s
2025-08-31 11:56:20,213 - app.routers.recommendations - INFO - 🏆 [req_1756634179843] Top 1: Coca-Cola Dress 10 (score: 0.8100)
2025-08-31 11:56:20,213 - app.routers.recommendations - INFO - 🏆 [req_1756634179843] Top 2: Coca-Cola Hat 2 (score: 0.8029)
2025-08-31 11:56:20,213 - app.routers.recommendations - INFO - 🏆 [req_1756634179843] Top 3: Coca-Cola Sneakers 8 (score: 0.8001)
2025-08-31 11:56:20,213 - app.routers.recommendations - INFO - 🎯 [req_1756634179843] API RESPONSE: Returning 5 recommendations
2025-08-31 11:56:58,044 - app.routers.recommendations - INFO - 🚀 [req_1756634218044] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:56:58,045 - app.routers.recommendations - INFO - 📋 [req_1756634218044] Parameters: limit=5, category=None, brand_id=None
2025-08-31 11:56:58,045 - app.routers.recommendations - INFO - ⚖️ [req_1756634218044] Weights: image=0.6, text=0.4
2025-08-31 11:56:58,112 - app.routers.recommendations - INFO - ✅ [req_1756634218044] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:56:58,113 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:56:58,113 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:56:58,115 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:56:58,121 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:56:58,122 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:56:58,126 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:56:58,128 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:56:58,128 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:56:58,128 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:56:58,128 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:56:58,128 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:56:58,136 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:56:58,136 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:56:58,136 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:56:58,137 - app.services.vector_service - INFO - 📊 Found 9 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:56:58,152 - app.services.vector_service - INFO - ✅ Found 9 recent liked products with vectors
2025-08-31 11:56:58,152 - app.services.vector_service - INFO -    1. Coca-Cola Sneakers 11 (swiped: 2025-08-31 09:53)
2025-08-31 11:56:58,152 - app.services.vector_service - INFO -    2. Coca-Cola Dress 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:58,152 - app.services.vector_service - INFO -    3. Coca-Cola Hat 6 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:58,152 - app.services.vector_service - INFO -    4. Coca-Cola Hat 5 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:58,152 - app.services.vector_service - INFO -    5. YouTube Smoothie 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:58,152 - app.services.vector_service - INFO -    6. Coca-Cola Dress 12 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:58,152 - app.services.vector_service - INFO -    7. Tesla Headphones 18 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:58,152 - app.services.vector_service - INFO -    8. Coca-Cola Sneakers 1 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:58,152 - app.services.vector_service - INFO -    9. Coca-Cola Hat 4 (swiped: 2025-08-31 08:04)
2025-08-31 11:56:58,152 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:56:58,152 - app.services.vector_service - INFO -    - Image vectors: 9/9
2025-08-31 11:56:58,152 - app.services.vector_service - INFO -    - Text vectors: 9/9
2025-08-31 11:56:58,152 - app.services.vector_service - INFO -    - Combined vectors: 9/9
2025-08-31 11:56:58,152 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:56:58,152 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:56:58,153 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:56:58,153 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:56:58,153 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:56:58,153 - app.services.recommendations - INFO - 🚫 Excluding 43 swiped products (liked: 9, disliked: 34)
2025-08-31 11:56:58,153 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:56:58,153 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4483 to 0.5419
2025-08-31 11:56:58,153 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 13 swiped products
2025-08-31 11:56:58,195 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 11:56:58,195 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Coca-Cola Dress 10:0.8100', 'Coca-Cola Hat 2:0.8029', 'Coca-Cola Sneakers 8:0.8001']
2025-08-31 11:56:58,196 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:56:58,196 - app.routers.recommendations - INFO - ✅ [req_1756634218044] SUCCESS: Found 5 recommendations
2025-08-31 11:56:58,196 - app.routers.recommendations - INFO - ⏱️ [req_1756634218044] Processing time: 0.152s
2025-08-31 11:56:58,196 - app.routers.recommendations - INFO - 🏆 [req_1756634218044] Top 1: Coca-Cola Dress 10 (score: 0.8100)
2025-08-31 11:56:58,196 - app.routers.recommendations - INFO - 🏆 [req_1756634218044] Top 2: Coca-Cola Hat 2 (score: 0.8029)
2025-08-31 11:56:58,196 - app.routers.recommendations - INFO - 🏆 [req_1756634218044] Top 3: Coca-Cola Sneakers 8 (score: 0.8001)
2025-08-31 11:56:58,196 - app.routers.recommendations - INFO - 🎯 [req_1756634218044] API RESPONSE: Returning 5 recommendations
2025-08-31 11:57:05,698 - app.routers.recommendations - INFO - 🚀 [req_1756634225698] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:05,699 - app.routers.recommendations - INFO - 📋 [req_1756634225698] Parameters: limit=3, category=None, brand_id=None
2025-08-31 11:57:05,700 - app.routers.recommendations - INFO - ⚖️ [req_1756634225698] Weights: image=0.6, text=0.4
2025-08-31 11:57:05,705 - app.routers.recommendations - INFO - ✅ [req_1756634225698] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:57:05,706 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:57:05,706 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:57:05,708 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:57:05,716 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:57:05,716 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:57:05,722 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:57:05,727 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:57:05,727 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:57:05,727 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:57:05,727 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:05,727 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:05,761 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:57:05,762 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:57:05,762 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:57:05,763 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:05,776 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 11:57:05,776 - app.services.vector_service - INFO -    1. Coca-Cola Jeans 3 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:05,777 - app.services.vector_service - INFO -    2. Coca-Cola Hat 2 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:05,777 - app.services.vector_service - INFO -    3. Coca-Cola Dress 10 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:05,777 - app.services.vector_service - INFO -    4. Coca-Cola Sneakers 11 (swiped: 2025-08-31 09:53)
2025-08-31 11:57:05,777 - app.services.vector_service - INFO -    5. Coca-Cola Dress 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:57:05,777 - app.services.vector_service - INFO -    6. Coca-Cola Hat 6 (swiped: 2025-08-31 08:04)
2025-08-31 11:57:05,777 - app.services.vector_service - INFO -    7. Coca-Cola Hat 5 (swiped: 2025-08-31 08:04)
2025-08-31 11:57:05,777 - app.services.vector_service - INFO -    8. YouTube Smoothie 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:57:05,777 - app.services.vector_service - INFO -    9. Coca-Cola Dress 12 (swiped: 2025-08-31 08:04)
2025-08-31 11:57:05,777 - app.services.vector_service - INFO -    10. Tesla Headphones 18 (swiped: 2025-08-31 08:04)
2025-08-31 11:57:05,777 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:57:05,777 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 11:57:05,777 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 11:57:05,777 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 11:57:05,778 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:57:05,778 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:57:05,778 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:57:05,778 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:57:05,779 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:05,779 - app.services.recommendations - INFO - 🚫 Excluding 47 swiped products (liked: 12, disliked: 35)
2025-08-31 11:57:05,779 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:57:05,780 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4624 to 0.5536
2025-08-31 11:57:05,780 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 14 swiped products
2025-08-31 11:57:05,818 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-31 11:57:05,818 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Starbucks Dress 8:0.8133', 'YouTube Snack 16:0.8118', 'YouTube Beverage 24:0.8083']
2025-08-31 11:57:05,819 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:05,819 - app.routers.recommendations - INFO - ✅ [req_1756634225698] SUCCESS: Found 3 recommendations
2025-08-31 11:57:05,820 - app.routers.recommendations - INFO - ⏱️ [req_1756634225698] Processing time: 0.121s
2025-08-31 11:57:05,820 - app.routers.recommendations - INFO - 🏆 [req_1756634225698] Top 1: Starbucks Dress 8 (score: 0.8133)
2025-08-31 11:57:05,820 - app.routers.recommendations - INFO - 🏆 [req_1756634225698] Top 2: YouTube Snack 16 (score: 0.8118)
2025-08-31 11:57:05,820 - app.routers.recommendations - INFO - 🏆 [req_1756634225698] Top 3: YouTube Beverage 24 (score: 0.8083)
2025-08-31 11:57:05,820 - app.routers.recommendations - INFO - 🎯 [req_1756634225698] API RESPONSE: Returning 3 recommendations
2025-08-31 11:57:07,885 - app.routers.recommendations - INFO - 🚀 [req_1756634227885] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:07,885 - app.routers.recommendations - INFO - 📋 [req_1756634227885] Parameters: limit=3, category=None, brand_id=None
2025-08-31 11:57:07,885 - app.routers.recommendations - INFO - ⚖️ [req_1756634227885] Weights: image=0.6, text=0.4
2025-08-31 11:57:07,887 - app.routers.recommendations - INFO - ✅ [req_1756634227885] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:57:07,888 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:57:07,888 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:57:07,888 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:57:07,891 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:57:07,892 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:57:07,893 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:57:07,894 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:57:07,894 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:57:07,895 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:57:07,895 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:07,895 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:07,902 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:57:07,902 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:57:07,903 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:57:07,904 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:07,916 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 11:57:07,917 - app.services.vector_service - INFO -    1. Starbucks Dress 8 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:07,917 - app.services.vector_service - INFO -    2. YouTube Beverage 24 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:07,917 - app.services.vector_service - INFO -    3. Coca-Cola Jeans 3 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:07,917 - app.services.vector_service - INFO -    4. Coca-Cola Hat 2 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:07,917 - app.services.vector_service - INFO -    5. Coca-Cola Dress 10 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:07,917 - app.services.vector_service - INFO -    6. Coca-Cola Sneakers 11 (swiped: 2025-08-31 09:53)
2025-08-31 11:57:07,917 - app.services.vector_service - INFO -    7. Coca-Cola Dress 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:57:07,917 - app.services.vector_service - INFO -    8. Coca-Cola Hat 6 (swiped: 2025-08-31 08:04)
2025-08-31 11:57:07,917 - app.services.vector_service - INFO -    9. Coca-Cola Hat 5 (swiped: 2025-08-31 08:04)
2025-08-31 11:57:07,917 - app.services.vector_service - INFO -    10. YouTube Smoothie 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:57:07,917 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:57:07,917 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 11:57:07,917 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 11:57:07,917 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 11:57:07,918 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:57:07,918 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:57:07,919 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:57:07,919 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:57:07,919 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:07,919 - app.services.recommendations - INFO - 🚫 Excluding 49 swiped products (liked: 14, disliked: 35)
2025-08-31 11:57:07,920 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:57:07,920 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4685 to 0.5564
2025-08-31 11:57:07,920 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 15 swiped products
2025-08-31 11:57:07,968 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-31 11:57:07,968 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Nike Dessert 1:0.8300', 'YouTube Coffee 11:0.8296', 'YouTube Snack 16:0.8291']
2025-08-31 11:57:07,969 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:07,969 - app.routers.recommendations - INFO - ✅ [req_1756634227885] SUCCESS: Found 3 recommendations
2025-08-31 11:57:07,969 - app.routers.recommendations - INFO - ⏱️ [req_1756634227885] Processing time: 0.084s
2025-08-31 11:57:07,969 - app.routers.recommendations - INFO - 🏆 [req_1756634227885] Top 1: Nike Dessert 1 (score: 0.8300)
2025-08-31 11:57:07,969 - app.routers.recommendations - INFO - 🏆 [req_1756634227885] Top 2: YouTube Coffee 11 (score: 0.8296)
2025-08-31 11:57:07,969 - app.routers.recommendations - INFO - 🏆 [req_1756634227885] Top 3: YouTube Snack 16 (score: 0.8291)
2025-08-31 11:57:07,969 - app.routers.recommendations - INFO - 🎯 [req_1756634227885] API RESPONSE: Returning 3 recommendations
2025-08-31 11:57:33,002 - app.routers.recommendations - INFO - 🚀 [req_1756634253000] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:33,010 - app.routers.recommendations - INFO - 📋 [req_1756634253000] Parameters: limit=5, category=None, brand_id=None
2025-08-31 11:57:33,010 - app.routers.recommendations - INFO - ⚖️ [req_1756634253000] Weights: image=0.6, text=0.4
2025-08-31 11:57:33,053 - app.routers.recommendations - INFO - ✅ [req_1756634253000] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:57:33,053 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:57:33,053 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:57:33,055 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:57:33,067 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:57:33,068 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:57:33,070 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:57:33,072 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:57:33,072 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:57:33,072 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:57:33,072 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:33,072 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:33,081 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:57:33,081 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:57:33,081 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:57:33,121 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:33,157 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 11:57:33,158 - app.services.vector_service - INFO -    1. YouTube Snack 16 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:33,158 - app.services.vector_service - INFO -    2. Starbucks Dress 8 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:33,158 - app.services.vector_service - INFO -    3. YouTube Beverage 24 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:33,158 - app.services.vector_service - INFO -    4. Coca-Cola Jeans 3 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:33,158 - app.services.vector_service - INFO -    5. Coca-Cola Hat 2 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:33,158 - app.services.vector_service - INFO -    6. Coca-Cola Dress 10 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:33,158 - app.services.vector_service - INFO -    7. Coca-Cola Sneakers 11 (swiped: 2025-08-31 09:53)
2025-08-31 11:57:33,158 - app.services.vector_service - INFO -    8. Coca-Cola Dress 13 (swiped: 2025-08-31 08:04)
2025-08-31 11:57:33,158 - app.services.vector_service - INFO -    9. Coca-Cola Hat 6 (swiped: 2025-08-31 08:04)
2025-08-31 11:57:33,158 - app.services.vector_service - INFO -    10. Coca-Cola Hat 5 (swiped: 2025-08-31 08:04)
2025-08-31 11:57:33,158 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:57:33,158 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 11:57:33,158 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 11:57:33,158 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 11:57:33,158 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:57:33,159 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:57:33,159 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:57:33,159 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:57:33,159 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:33,159 - app.services.recommendations - INFO - 🚫 Excluding 50 swiped products (liked: 15, disliked: 35)
2025-08-31 11:57:33,165 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:57:33,174 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4625 to 0.5670
2025-08-31 11:57:33,175 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 19 swiped products
2025-08-31 11:57:33,245 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 11:57:33,245 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['YouTube Coffee 11:0.8326', 'Nike Dessert 1:0.8307', 'Nike Beverage 15:0.8190']
2025-08-31 11:57:33,246 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:33,246 - app.routers.recommendations - INFO - ✅ [req_1756634253000] SUCCESS: Found 5 recommendations
2025-08-31 11:57:33,246 - app.routers.recommendations - INFO - ⏱️ [req_1756634253000] Processing time: 0.246s
2025-08-31 11:57:33,246 - app.routers.recommendations - INFO - 🏆 [req_1756634253000] Top 1: YouTube Coffee 11 (score: 0.8326)
2025-08-31 11:57:33,246 - app.routers.recommendations - INFO - 🏆 [req_1756634253000] Top 2: Nike Dessert 1 (score: 0.8307)
2025-08-31 11:57:33,246 - app.routers.recommendations - INFO - 🏆 [req_1756634253000] Top 3: Nike Beverage 15 (score: 0.8190)
2025-08-31 11:57:33,246 - app.routers.recommendations - INFO - 🎯 [req_1756634253000] API RESPONSE: Returning 5 recommendations
2025-08-31 11:57:38,609 - app.routers.recommendations - INFO - 🚀 [req_1756634258609] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:38,610 - app.routers.recommendations - INFO - 📋 [req_1756634258609] Parameters: limit=3, category=None, brand_id=None
2025-08-31 11:57:38,610 - app.routers.recommendations - INFO - ⚖️ [req_1756634258609] Weights: image=0.6, text=0.4
2025-08-31 11:57:38,612 - app.routers.recommendations - INFO - ✅ [req_1756634258609] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:57:38,612 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:57:38,613 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:57:38,614 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:57:38,618 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:57:38,619 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:57:38,623 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:57:38,625 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:57:38,625 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:57:38,625 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:57:38,625 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:38,625 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:38,642 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:57:38,642 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:57:38,642 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:57:38,643 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:38,655 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 11:57:38,656 - app.services.vector_service - INFO -    1. Apple Podcast 10 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:38,656 - app.services.vector_service - INFO -    2. Nike Dessert 1 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:38,656 - app.services.vector_service - INFO -    3. YouTube Coffee 11 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:38,656 - app.services.vector_service - INFO -    4. YouTube Snack 16 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:38,656 - app.services.vector_service - INFO -    5. Starbucks Dress 8 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:38,656 - app.services.vector_service - INFO -    6. YouTube Beverage 24 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:38,656 - app.services.vector_service - INFO -    7. Coca-Cola Jeans 3 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:38,656 - app.services.vector_service - INFO -    8. Coca-Cola Hat 2 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:38,656 - app.services.vector_service - INFO -    9. Coca-Cola Dress 10 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:38,656 - app.services.vector_service - INFO -    10. Coca-Cola Sneakers 11 (swiped: 2025-08-31 09:53)
2025-08-31 11:57:38,656 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:57:38,656 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 11:57:38,656 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 11:57:38,656 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 11:57:38,657 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:57:38,657 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:57:38,657 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:57:38,657 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:57:38,658 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:38,658 - app.services.recommendations - INFO - 🚫 Excluding 54 swiped products (liked: 18, disliked: 36)
2025-08-31 11:57:38,658 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:57:38,659 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4783 to 0.5463
2025-08-31 11:57:38,659 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 19 swiped products
2025-08-31 11:57:38,687 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-31 11:57:38,687 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Nike Dessert 14:0.8257', 'YouTube Beverage 12:0.8236', 'YouTube Snack 20:0.8218']
2025-08-31 11:57:38,687 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:38,687 - app.routers.recommendations - INFO - ✅ [req_1756634258609] SUCCESS: Found 3 recommendations
2025-08-31 11:57:38,687 - app.routers.recommendations - INFO - ⏱️ [req_1756634258609] Processing time: 0.078s
2025-08-31 11:57:38,687 - app.routers.recommendations - INFO - 🏆 [req_1756634258609] Top 1: Nike Dessert 14 (score: 0.8257)
2025-08-31 11:57:38,687 - app.routers.recommendations - INFO - 🏆 [req_1756634258609] Top 2: YouTube Beverage 12 (score: 0.8236)
2025-08-31 11:57:38,687 - app.routers.recommendations - INFO - 🏆 [req_1756634258609] Top 3: YouTube Snack 20 (score: 0.8218)
2025-08-31 11:57:38,687 - app.routers.recommendations - INFO - 🎯 [req_1756634258609] API RESPONSE: Returning 3 recommendations
2025-08-31 11:57:42,217 - app.routers.recommendations - INFO - 🚀 [req_1756634262217] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:42,217 - app.routers.recommendations - INFO - 📋 [req_1756634262217] Parameters: limit=3, category=None, brand_id=None
2025-08-31 11:57:42,218 - app.routers.recommendations - INFO - ⚖️ [req_1756634262217] Weights: image=0.6, text=0.4
2025-08-31 11:57:42,220 - app.routers.recommendations - INFO - ✅ [req_1756634262217] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:57:42,220 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:57:42,220 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:57:42,220 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:57:42,222 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:57:42,224 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:57:42,226 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:57:42,227 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:57:42,227 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:57:42,227 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:57:42,227 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:42,227 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:42,232 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:57:42,232 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:57:42,232 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:57:42,234 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:42,251 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 11:57:42,251 - app.services.vector_service - INFO -    1. Nike Dessert 14 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:42,251 - app.services.vector_service - INFO -    2. Starbucks Sunglasses 15 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:42,251 - app.services.vector_service - INFO -    3. Apple Podcast 10 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:42,251 - app.services.vector_service - INFO -    4. Nike Dessert 1 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:42,251 - app.services.vector_service - INFO -    5. YouTube Coffee 11 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:42,251 - app.services.vector_service - INFO -    6. YouTube Snack 16 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:42,251 - app.services.vector_service - INFO -    7. Starbucks Dress 8 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:42,251 - app.services.vector_service - INFO -    8. YouTube Beverage 24 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:42,251 - app.services.vector_service - INFO -    9. Coca-Cola Jeans 3 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:42,251 - app.services.vector_service - INFO -    10. Coca-Cola Hat 2 (swiped: 2025-08-31 09:57)
2025-08-31 11:57:42,251 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:57:42,251 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 11:57:42,251 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 11:57:42,252 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 11:57:42,252 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:57:42,253 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:57:42,253 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:57:42,253 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:57:42,253 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:42,253 - app.services.recommendations - INFO - 🚫 Excluding 57 swiped products (liked: 20, disliked: 37)
2025-08-31 11:57:42,253 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:57:42,254 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4828 to 0.5473
2025-08-31 11:57:42,254 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 20 swiped products
2025-08-31 11:57:42,294 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-31 11:57:42,294 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Nike Pizza 19:0.8320', 'Nike Dessert 17:0.8313', 'Nike Dessert 25:0.8300']
2025-08-31 11:57:42,294 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:57:42,295 - app.routers.recommendations - INFO - ✅ [req_1756634262217] SUCCESS: Found 3 recommendations
2025-08-31 11:57:42,295 - app.routers.recommendations - INFO - ⏱️ [req_1756634262217] Processing time: 0.078s
2025-08-31 11:57:42,295 - app.routers.recommendations - INFO - 🏆 [req_1756634262217] Top 1: Nike Pizza 19 (score: 0.8320)
2025-08-31 11:57:42,295 - app.routers.recommendations - INFO - 🏆 [req_1756634262217] Top 2: Nike Dessert 17 (score: 0.8313)
2025-08-31 11:57:42,295 - app.routers.recommendations - INFO - 🏆 [req_1756634262217] Top 3: Nike Dessert 25 (score: 0.8300)
2025-08-31 11:57:42,295 - app.routers.recommendations - INFO - 🎯 [req_1756634262217] API RESPONSE: Returning 3 recommendations
2025-08-31 11:58:14,614 - app.routers.recommendations - INFO - 🚀 [req_1756634294614] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:58:14,615 - app.routers.recommendations - INFO - 📋 [req_1756634294614] Parameters: limit=3, category=None, brand_id=None
2025-08-31 11:58:14,615 - app.routers.recommendations - INFO - ⚖️ [req_1756634294614] Weights: image=0.6, text=0.4
2025-08-31 11:58:14,618 - app.routers.recommendations - INFO - ✅ [req_1756634294614] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:58:14,619 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:58:14,619 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:58:14,620 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:58:14,630 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:58:14,631 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:58:14,634 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:58:14,637 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:58:14,637 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:58:14,638 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:58:14,638 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:58:14,638 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:58:14,645 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:58:14,645 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:58:14,645 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:58:14,647 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:58:14,665 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 11:58:14,665 - app.services.vector_service - INFO -    1. Nike Dessert 17 (swiped: 2025-08-31 09:58)
2025-08-31 11:58:14,665 - app.services.vector_service - INFO -    2. Nike Pizza 19 (swiped: 2025-08-31 09:58)
2025-08-31 11:58:14,666 - app.services.vector_service - INFO -    3. YouTube Snack 20 (swiped: 2025-08-31 09:57)
2025-08-31 11:58:14,666 - app.services.vector_service - INFO -    4. Nike Dessert 14 (swiped: 2025-08-31 09:57)
2025-08-31 11:58:14,666 - app.services.vector_service - INFO -    5. Starbucks Sunglasses 15 (swiped: 2025-08-31 09:57)
2025-08-31 11:58:14,666 - app.services.vector_service - INFO -    6. Apple Podcast 10 (swiped: 2025-08-31 09:57)
2025-08-31 11:58:14,666 - app.services.vector_service - INFO -    7. Nike Dessert 1 (swiped: 2025-08-31 09:57)
2025-08-31 11:58:14,666 - app.services.vector_service - INFO -    8. YouTube Coffee 11 (swiped: 2025-08-31 09:57)
2025-08-31 11:58:14,666 - app.services.vector_service - INFO -    9. YouTube Snack 16 (swiped: 2025-08-31 09:57)
2025-08-31 11:58:14,666 - app.services.vector_service - INFO -    10. Starbucks Dress 8 (swiped: 2025-08-31 09:57)
2025-08-31 11:58:14,666 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:58:14,666 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 11:58:14,666 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 11:58:14,666 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 11:58:14,667 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:58:14,667 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:58:14,668 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:58:14,668 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:58:14,668 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:58:14,668 - app.services.recommendations - INFO - 🚫 Excluding 60 swiped products (liked: 23, disliked: 37)
2025-08-31 11:58:14,671 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:58:14,679 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4897 to 0.5520
2025-08-31 11:58:14,679 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 18 swiped products
2025-08-31 11:58:14,744 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-31 11:58:14,744 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Nike Dessert 25:0.8556', 'Nike Snack 3:0.8457', 'Nike Smoothie 18:0.8420']
2025-08-31 11:58:14,745 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:58:14,745 - app.routers.recommendations - INFO - ✅ [req_1756634294614] SUCCESS: Found 3 recommendations
2025-08-31 11:58:14,745 - app.routers.recommendations - INFO - ⏱️ [req_1756634294614] Processing time: 0.131s
2025-08-31 11:58:14,745 - app.routers.recommendations - INFO - 🏆 [req_1756634294614] Top 1: Nike Dessert 25 (score: 0.8556)
2025-08-31 11:58:14,745 - app.routers.recommendations - INFO - 🏆 [req_1756634294614] Top 2: Nike Snack 3 (score: 0.8457)
2025-08-31 11:58:14,745 - app.routers.recommendations - INFO - 🏆 [req_1756634294614] Top 3: Nike Smoothie 18 (score: 0.8420)
2025-08-31 11:58:14,745 - app.routers.recommendations - INFO - 🎯 [req_1756634294614] API RESPONSE: Returning 3 recommendations
2025-08-31 11:58:49,297 - app.routers.recommendations - INFO - 🚀 [req_1756634329297] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:58:49,299 - app.routers.recommendations - INFO - 📋 [req_1756634329297] Parameters: limit=3, category=None, brand_id=None
2025-08-31 11:58:49,299 - app.routers.recommendations - INFO - ⚖️ [req_1756634329297] Weights: image=0.6, text=0.4
2025-08-31 11:58:49,305 - app.routers.recommendations - INFO - ✅ [req_1756634329297] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:58:49,306 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:58:49,306 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:58:49,308 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:58:49,317 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:58:49,318 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:58:49,321 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:58:49,324 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:58:49,324 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:58:49,324 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:58:49,324 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:58:49,324 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:58:49,331 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:58:49,331 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:58:49,331 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:58:49,333 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:58:49,344 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 11:58:49,344 - app.services.vector_service - INFO -    1. Nike Snack 3 (swiped: 2025-08-31 09:58)
2025-08-31 11:58:49,344 - app.services.vector_service - INFO -    2. Nike Dessert 17 (swiped: 2025-08-31 09:58)
2025-08-31 11:58:49,344 - app.services.vector_service - INFO -    3. Nike Pizza 19 (swiped: 2025-08-31 09:58)
2025-08-31 11:58:49,344 - app.services.vector_service - INFO -    4. YouTube Snack 20 (swiped: 2025-08-31 09:57)
2025-08-31 11:58:49,344 - app.services.vector_service - INFO -    5. Nike Dessert 14 (swiped: 2025-08-31 09:57)
2025-08-31 11:58:49,344 - app.services.vector_service - INFO -    6. Starbucks Sunglasses 15 (swiped: 2025-08-31 09:57)
2025-08-31 11:58:49,344 - app.services.vector_service - INFO -    7. Apple Podcast 10 (swiped: 2025-08-31 09:57)
2025-08-31 11:58:49,344 - app.services.vector_service - INFO -    8. Nike Dessert 1 (swiped: 2025-08-31 09:57)
2025-08-31 11:58:49,344 - app.services.vector_service - INFO -    9. YouTube Coffee 11 (swiped: 2025-08-31 09:57)
2025-08-31 11:58:49,344 - app.services.vector_service - INFO -    10. YouTube Snack 16 (swiped: 2025-08-31 09:57)
2025-08-31 11:58:49,344 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:58:49,344 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 11:58:49,344 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 11:58:49,344 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 11:58:49,345 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:58:49,345 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:58:49,346 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:58:49,346 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:58:49,346 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:58:49,346 - app.services.recommendations - INFO - 🚫 Excluding 62 swiped products (liked: 24, disliked: 38)
2025-08-31 11:58:49,349 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:58:49,359 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4912 to 0.5602
2025-08-31 11:58:49,359 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 20 swiped products
2025-08-31 11:58:49,390 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-31 11:58:49,390 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Nike Smoothie 18:0.8445', 'Nike Smoothie 2:0.8444', 'Nike Coffee 23:0.8292']
2025-08-31 11:58:49,391 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:58:49,391 - app.routers.recommendations - INFO - ✅ [req_1756634329297] SUCCESS: Found 3 recommendations
2025-08-31 11:58:49,391 - app.routers.recommendations - INFO - ⏱️ [req_1756634329297] Processing time: 0.094s
2025-08-31 11:58:49,391 - app.routers.recommendations - INFO - 🏆 [req_1756634329297] Top 1: Nike Smoothie 18 (score: 0.8445)
2025-08-31 11:58:49,391 - app.routers.recommendations - INFO - 🏆 [req_1756634329297] Top 2: Nike Smoothie 2 (score: 0.8444)
2025-08-31 11:58:49,391 - app.routers.recommendations - INFO - 🏆 [req_1756634329297] Top 3: Nike Coffee 23 (score: 0.8292)
2025-08-31 11:58:49,391 - app.routers.recommendations - INFO - 🎯 [req_1756634329297] API RESPONSE: Returning 3 recommendations
2025-08-31 11:58:52,094 - app.routers.recommendations - INFO - 🚀 [req_1756634332094] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:58:52,094 - app.routers.recommendations - INFO - 📋 [req_1756634332094] Parameters: limit=3, category=None, brand_id=None
2025-08-31 11:58:52,094 - app.routers.recommendations - INFO - ⚖️ [req_1756634332094] Weights: image=0.6, text=0.4
2025-08-31 11:58:52,096 - app.routers.recommendations - INFO - ✅ [req_1756634332094] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:58:52,096 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:58:52,096 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:58:52,097 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:58:52,098 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:58:52,098 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:58:52,098 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:58:52,099 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:58:52,099 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:58:52,099 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:58:52,099 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:58:52,099 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:58:52,103 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:58:52,103 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:58:52,103 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:58:52,104 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:58:52,117 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 11:58:52,117 - app.services.vector_service - INFO -    1. Nike Smoothie 2 (swiped: 2025-08-31 09:58)
2025-08-31 11:58:52,117 - app.services.vector_service - INFO -    2. Nike Snack 3 (swiped: 2025-08-31 09:58)
2025-08-31 11:58:52,117 - app.services.vector_service - INFO -    3. Nike Dessert 17 (swiped: 2025-08-31 09:58)
2025-08-31 11:58:52,117 - app.services.vector_service - INFO -    4. Nike Pizza 19 (swiped: 2025-08-31 09:58)
2025-08-31 11:58:52,117 - app.services.vector_service - INFO -    5. YouTube Snack 20 (swiped: 2025-08-31 09:57)
2025-08-31 11:58:52,117 - app.services.vector_service - INFO -    6. Nike Dessert 14 (swiped: 2025-08-31 09:57)
2025-08-31 11:58:52,117 - app.services.vector_service - INFO -    7. Starbucks Sunglasses 15 (swiped: 2025-08-31 09:57)
2025-08-31 11:58:52,117 - app.services.vector_service - INFO -    8. Apple Podcast 10 (swiped: 2025-08-31 09:57)
2025-08-31 11:58:52,117 - app.services.vector_service - INFO -    9. Nike Dessert 1 (swiped: 2025-08-31 09:57)
2025-08-31 11:58:52,117 - app.services.vector_service - INFO -    10. YouTube Coffee 11 (swiped: 2025-08-31 09:57)
2025-08-31 11:58:52,117 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:58:52,117 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 11:58:52,117 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 11:58:52,117 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 11:58:52,117 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:58:52,118 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:58:52,118 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:58:52,118 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:58:52,118 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:58:52,118 - app.services.recommendations - INFO - 🚫 Excluding 64 swiped products (liked: 25, disliked: 39)
2025-08-31 11:58:52,118 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:58:52,119 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4872 to 0.5608
2025-08-31 11:58:52,119 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 22 swiped products
2025-08-31 11:58:52,154 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-31 11:58:52,154 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Nike Coffee 23:0.8432', 'Nike Beverage 10:0.8349', 'Nike Pizza 9:0.8302']
2025-08-31 11:58:52,154 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:58:52,154 - app.routers.recommendations - INFO - ✅ [req_1756634332094] SUCCESS: Found 3 recommendations
2025-08-31 11:58:52,154 - app.routers.recommendations - INFO - ⏱️ [req_1756634332094] Processing time: 0.060s
2025-08-31 11:58:52,154 - app.routers.recommendations - INFO - 🏆 [req_1756634332094] Top 1: Nike Coffee 23 (score: 0.8432)
2025-08-31 11:58:52,154 - app.routers.recommendations - INFO - 🏆 [req_1756634332094] Top 2: Nike Beverage 10 (score: 0.8349)
2025-08-31 11:58:52,154 - app.routers.recommendations - INFO - 🏆 [req_1756634332094] Top 3: Nike Pizza 9 (score: 0.8302)
2025-08-31 11:58:52,154 - app.routers.recommendations - INFO - 🎯 [req_1756634332094] API RESPONSE: Returning 3 recommendations
2025-08-31 11:59:26,377 - app.routers.recommendations - INFO - 🚀 [req_1756634366376] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:59:26,380 - app.routers.recommendations - INFO - 📋 [req_1756634366376] Parameters: limit=5, category=None, brand_id=None
2025-08-31 11:59:26,381 - app.routers.recommendations - INFO - ⚖️ [req_1756634366376] Weights: image=0.6, text=0.4
2025-08-31 11:59:26,443 - app.routers.recommendations - INFO - ✅ [req_1756634366376] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:59:26,444 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:59:26,444 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:59:26,446 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:59:26,461 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:59:26,462 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:59:26,472 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:59:26,475 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:59:26,475 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:59:26,475 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:59:26,475 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:59:26,475 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:59:26,560 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:59:26,560 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:59:26,560 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:59:26,590 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:59:26,653 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 11:59:26,653 - app.services.vector_service - INFO -    1. Nike Coffee 23 (swiped: 2025-08-31 09:58)
2025-08-31 11:59:26,653 - app.services.vector_service - INFO -    2. Nike Smoothie 2 (swiped: 2025-08-31 09:58)
2025-08-31 11:59:26,653 - app.services.vector_service - INFO -    3. Nike Snack 3 (swiped: 2025-08-31 09:58)
2025-08-31 11:59:26,653 - app.services.vector_service - INFO -    4. Nike Dessert 17 (swiped: 2025-08-31 09:58)
2025-08-31 11:59:26,653 - app.services.vector_service - INFO -    5. Nike Pizza 19 (swiped: 2025-08-31 09:58)
2025-08-31 11:59:26,653 - app.services.vector_service - INFO -    6. YouTube Snack 20 (swiped: 2025-08-31 09:57)
2025-08-31 11:59:26,653 - app.services.vector_service - INFO -    7. Nike Dessert 14 (swiped: 2025-08-31 09:57)
2025-08-31 11:59:26,653 - app.services.vector_service - INFO -    8. Starbucks Sunglasses 15 (swiped: 2025-08-31 09:57)
2025-08-31 11:59:26,653 - app.services.vector_service - INFO -    9. Apple Podcast 10 (swiped: 2025-08-31 09:57)
2025-08-31 11:59:26,653 - app.services.vector_service - INFO -    10. Nike Dessert 1 (swiped: 2025-08-31 09:57)
2025-08-31 11:59:26,653 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:59:26,653 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 11:59:26,653 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 11:59:26,653 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 11:59:26,654 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:59:26,654 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:59:26,654 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:59:26,655 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:59:26,655 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:59:26,655 - app.services.recommendations - INFO - 🚫 Excluding 65 swiped products (liked: 26, disliked: 39)
2025-08-31 11:59:26,661 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:59:26,675 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4760 to 0.5669
2025-08-31 11:59:26,675 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 26 swiped products
2025-08-31 11:59:26,751 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 11:59:26,751 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Nike Beverage 10:0.8425', 'Nike Pizza 22:0.8389', 'Nike Pizza 9:0.8270']
2025-08-31 11:59:26,752 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:59:26,752 - app.routers.recommendations - INFO - ✅ [req_1756634366376] SUCCESS: Found 5 recommendations
2025-08-31 11:59:26,752 - app.routers.recommendations - INFO - ⏱️ [req_1756634366376] Processing time: 0.376s
2025-08-31 11:59:26,753 - app.routers.recommendations - INFO - 🏆 [req_1756634366376] Top 1: Nike Beverage 10 (score: 0.8425)
2025-08-31 11:59:26,753 - app.routers.recommendations - INFO - 🏆 [req_1756634366376] Top 2: Nike Pizza 22 (score: 0.8389)
2025-08-31 11:59:26,753 - app.routers.recommendations - INFO - 🏆 [req_1756634366376] Top 3: Nike Pizza 9 (score: 0.8270)
2025-08-31 11:59:26,753 - app.routers.recommendations - INFO - 🎯 [req_1756634366376] API RESPONSE: Returning 5 recommendations
2025-08-31 11:59:49,708 - app.routers.recommendations - INFO - 🚀 [req_1756634389707] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:59:49,709 - app.routers.recommendations - INFO - 📋 [req_1756634389707] Parameters: limit=5, category=None, brand_id=None
2025-08-31 11:59:49,709 - app.routers.recommendations - INFO - ⚖️ [req_1756634389707] Weights: image=0.6, text=0.4
2025-08-31 11:59:49,777 - app.routers.recommendations - INFO - ✅ [req_1756634389707] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:59:49,778 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:59:49,778 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:59:49,780 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:59:49,786 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:59:49,787 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:59:49,789 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:59:49,790 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:59:49,790 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:59:49,790 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:59:49,790 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:59:49,790 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:59:49,798 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:59:49,798 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:59:49,798 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:59:49,804 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:59:49,823 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 11:59:49,823 - app.services.vector_service - INFO -    1. Nike Coffee 23 (swiped: 2025-08-31 09:58)
2025-08-31 11:59:49,823 - app.services.vector_service - INFO -    2. Nike Smoothie 2 (swiped: 2025-08-31 09:58)
2025-08-31 11:59:49,823 - app.services.vector_service - INFO -    3. Nike Snack 3 (swiped: 2025-08-31 09:58)
2025-08-31 11:59:49,823 - app.services.vector_service - INFO -    4. Nike Dessert 17 (swiped: 2025-08-31 09:58)
2025-08-31 11:59:49,823 - app.services.vector_service - INFO -    5. Nike Pizza 19 (swiped: 2025-08-31 09:58)
2025-08-31 11:59:49,823 - app.services.vector_service - INFO -    6. YouTube Snack 20 (swiped: 2025-08-31 09:57)
2025-08-31 11:59:49,823 - app.services.vector_service - INFO -    7. Nike Dessert 14 (swiped: 2025-08-31 09:57)
2025-08-31 11:59:49,823 - app.services.vector_service - INFO -    8. Starbucks Sunglasses 15 (swiped: 2025-08-31 09:57)
2025-08-31 11:59:49,823 - app.services.vector_service - INFO -    9. Apple Podcast 10 (swiped: 2025-08-31 09:57)
2025-08-31 11:59:49,823 - app.services.vector_service - INFO -    10. Nike Dessert 1 (swiped: 2025-08-31 09:57)
2025-08-31 11:59:49,823 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:59:49,823 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 11:59:49,823 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 11:59:49,823 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 11:59:49,824 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:59:49,824 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:59:49,824 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:59:49,824 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:59:49,825 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:59:49,825 - app.services.recommendations - INFO - 🚫 Excluding 65 swiped products (liked: 26, disliked: 39)
2025-08-31 11:59:49,827 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:59:49,833 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4760 to 0.5669
2025-08-31 11:59:49,833 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 26 swiped products
2025-08-31 11:59:49,880 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 11:59:49,880 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Nike Beverage 10:0.8425', 'Nike Pizza 22:0.8389', 'Nike Pizza 9:0.8270']
2025-08-31 11:59:49,881 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:59:49,881 - app.routers.recommendations - INFO - ✅ [req_1756634389707] SUCCESS: Found 5 recommendations
2025-08-31 11:59:49,881 - app.routers.recommendations - INFO - ⏱️ [req_1756634389707] Processing time: 0.174s
2025-08-31 11:59:49,881 - app.routers.recommendations - INFO - 🏆 [req_1756634389707] Top 1: Nike Beverage 10 (score: 0.8425)
2025-08-31 11:59:49,881 - app.routers.recommendations - INFO - 🏆 [req_1756634389707] Top 2: Nike Pizza 22 (score: 0.8389)
2025-08-31 11:59:49,881 - app.routers.recommendations - INFO - 🏆 [req_1756634389707] Top 3: Nike Pizza 9 (score: 0.8270)
2025-08-31 11:59:49,881 - app.routers.recommendations - INFO - 🎯 [req_1756634389707] API RESPONSE: Returning 5 recommendations
2025-08-31 11:59:56,925 - app.routers.recommendations - INFO - 🚀 [req_1756634396920] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:59:57,016 - app.routers.recommendations - INFO - 📋 [req_1756634396920] Parameters: limit=5, category=None, brand_id=None
2025-08-31 11:59:57,020 - app.routers.recommendations - INFO - ⚖️ [req_1756634396920] Weights: image=0.6, text=0.4
2025-08-31 11:59:57,395 - app.routers.recommendations - INFO - ✅ [req_1756634396920] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 11:59:57,395 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 11:59:57,395 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 11:59:57,398 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 11:59:57,406 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 11:59:57,406 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 11:59:57,408 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 11:59:57,410 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 11:59:57,410 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 11:59:57,410 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 11:59:57,410 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:59:57,410 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:59:57,429 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 11:59:57,429 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 11:59:57,429 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 11:59:57,431 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:59:57,448 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 11:59:57,448 - app.services.vector_service - INFO -    1. Nike Coffee 23 (swiped: 2025-08-31 09:58)
2025-08-31 11:59:57,448 - app.services.vector_service - INFO -    2. Nike Smoothie 2 (swiped: 2025-08-31 09:58)
2025-08-31 11:59:57,448 - app.services.vector_service - INFO -    3. Nike Snack 3 (swiped: 2025-08-31 09:58)
2025-08-31 11:59:57,448 - app.services.vector_service - INFO -    4. Nike Dessert 17 (swiped: 2025-08-31 09:58)
2025-08-31 11:59:57,448 - app.services.vector_service - INFO -    5. Nike Pizza 19 (swiped: 2025-08-31 09:58)
2025-08-31 11:59:57,448 - app.services.vector_service - INFO -    6. YouTube Snack 20 (swiped: 2025-08-31 09:57)
2025-08-31 11:59:57,448 - app.services.vector_service - INFO -    7. Nike Dessert 14 (swiped: 2025-08-31 09:57)
2025-08-31 11:59:57,448 - app.services.vector_service - INFO -    8. Starbucks Sunglasses 15 (swiped: 2025-08-31 09:57)
2025-08-31 11:59:57,448 - app.services.vector_service - INFO -    9. Apple Podcast 10 (swiped: 2025-08-31 09:57)
2025-08-31 11:59:57,448 - app.services.vector_service - INFO -    10. Nike Dessert 1 (swiped: 2025-08-31 09:57)
2025-08-31 11:59:57,448 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 11:59:57,448 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 11:59:57,448 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 11:59:57,448 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 11:59:57,449 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 11:59:57,449 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 11:59:57,449 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 11:59:57,449 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 11:59:57,449 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:59:57,450 - app.services.recommendations - INFO - 🚫 Excluding 65 swiped products (liked: 26, disliked: 39)
2025-08-31 11:59:57,453 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 11:59:57,460 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4760 to 0.5669
2025-08-31 11:59:57,460 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 26 swiped products
2025-08-31 11:59:57,519 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 11:59:57,519 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Nike Beverage 10:0.8425', 'Nike Pizza 22:0.8389', 'Nike Pizza 9:0.8270']
2025-08-31 11:59:57,520 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 11:59:57,520 - app.routers.recommendations - INFO - ✅ [req_1756634396920] SUCCESS: Found 5 recommendations
2025-08-31 11:59:57,520 - app.routers.recommendations - INFO - ⏱️ [req_1756634396920] Processing time: 0.600s
2025-08-31 11:59:57,520 - app.routers.recommendations - INFO - 🏆 [req_1756634396920] Top 1: Nike Beverage 10 (score: 0.8425)
2025-08-31 11:59:57,520 - app.routers.recommendations - INFO - 🏆 [req_1756634396920] Top 2: Nike Pizza 22 (score: 0.8389)
2025-08-31 11:59:57,520 - app.routers.recommendations - INFO - 🏆 [req_1756634396920] Top 3: Nike Pizza 9 (score: 0.8270)
2025-08-31 11:59:57,520 - app.routers.recommendations - INFO - 🎯 [req_1756634396920] API RESPONSE: Returning 5 recommendations
2025-08-31 12:00:06,521 - app.routers.recommendations - INFO - 🚀 [req_1756634406521] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:06,523 - app.routers.recommendations - INFO - 📋 [req_1756634406521] Parameters: limit=5, category=None, brand_id=None
2025-08-31 12:00:06,524 - app.routers.recommendations - INFO - ⚖️ [req_1756634406521] Weights: image=0.6, text=0.4
2025-08-31 12:00:06,543 - app.routers.recommendations - INFO - ✅ [req_1756634406521] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 12:00:06,544 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 12:00:06,544 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 12:00:06,547 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 12:00:06,556 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 12:00:06,557 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 12:00:06,567 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 12:00:06,569 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 12:00:06,569 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 12:00:06,569 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 12:00:06,569 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:06,569 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:06,575 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 12:00:06,575 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 12:00:06,576 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 12:00:06,577 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:06,592 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 12:00:06,592 - app.services.vector_service - INFO -    1. Nike Coffee 23 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:06,592 - app.services.vector_service - INFO -    2. Nike Smoothie 2 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:06,592 - app.services.vector_service - INFO -    3. Nike Snack 3 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:06,592 - app.services.vector_service - INFO -    4. Nike Dessert 17 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:06,592 - app.services.vector_service - INFO -    5. Nike Pizza 19 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:06,592 - app.services.vector_service - INFO -    6. YouTube Snack 20 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:06,592 - app.services.vector_service - INFO -    7. Nike Dessert 14 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:06,592 - app.services.vector_service - INFO -    8. Starbucks Sunglasses 15 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:06,592 - app.services.vector_service - INFO -    9. Apple Podcast 10 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:06,592 - app.services.vector_service - INFO -    10. Nike Dessert 1 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:06,592 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 12:00:06,592 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 12:00:06,592 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 12:00:06,593 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 12:00:06,593 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 12:00:06,593 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 12:00:06,593 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 12:00:06,593 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 12:00:06,594 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:06,594 - app.services.recommendations - INFO - 🚫 Excluding 65 swiped products (liked: 26, disliked: 39)
2025-08-31 12:00:06,594 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 12:00:06,594 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4760 to 0.5669
2025-08-31 12:00:06,594 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 26 swiped products
2025-08-31 12:00:06,643 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 12:00:06,643 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Nike Beverage 10:0.8425', 'Nike Pizza 22:0.8389', 'Nike Pizza 9:0.8270']
2025-08-31 12:00:06,643 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:06,643 - app.routers.recommendations - INFO - ✅ [req_1756634406521] SUCCESS: Found 5 recommendations
2025-08-31 12:00:06,643 - app.routers.recommendations - INFO - ⏱️ [req_1756634406521] Processing time: 0.123s
2025-08-31 12:00:06,643 - app.routers.recommendations - INFO - 🏆 [req_1756634406521] Top 1: Nike Beverage 10 (score: 0.8425)
2025-08-31 12:00:06,643 - app.routers.recommendations - INFO - 🏆 [req_1756634406521] Top 2: Nike Pizza 22 (score: 0.8389)
2025-08-31 12:00:06,643 - app.routers.recommendations - INFO - 🏆 [req_1756634406521] Top 3: Nike Pizza 9 (score: 0.8270)
2025-08-31 12:00:06,644 - app.routers.recommendations - INFO - 🎯 [req_1756634406521] API RESPONSE: Returning 5 recommendations
2025-08-31 12:00:17,237 - app.routers.recommendations - INFO - 🚀 [req_1756634417237] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:17,241 - app.routers.recommendations - INFO - 📋 [req_1756634417237] Parameters: limit=5, category=None, brand_id=None
2025-08-31 12:00:17,241 - app.routers.recommendations - INFO - ⚖️ [req_1756634417237] Weights: image=0.6, text=0.4
2025-08-31 12:00:17,376 - app.routers.recommendations - INFO - ✅ [req_1756634417237] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 12:00:17,377 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 12:00:17,377 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 12:00:17,378 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 12:00:17,380 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 12:00:17,380 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 12:00:17,383 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 12:00:17,393 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 12:00:17,393 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 12:00:17,394 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 12:00:17,394 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:17,395 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:17,409 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 12:00:17,410 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 12:00:17,410 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 12:00:17,418 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:17,447 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 12:00:17,447 - app.services.vector_service - INFO -    1. Nike Coffee 23 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:17,447 - app.services.vector_service - INFO -    2. Nike Smoothie 2 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:17,447 - app.services.vector_service - INFO -    3. Nike Snack 3 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:17,447 - app.services.vector_service - INFO -    4. Nike Dessert 17 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:17,447 - app.services.vector_service - INFO -    5. Nike Pizza 19 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:17,447 - app.services.vector_service - INFO -    6. YouTube Snack 20 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:17,447 - app.services.vector_service - INFO -    7. Nike Dessert 14 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:17,447 - app.services.vector_service - INFO -    8. Starbucks Sunglasses 15 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:17,447 - app.services.vector_service - INFO -    9. Apple Podcast 10 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:17,447 - app.services.vector_service - INFO -    10. Nike Dessert 1 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:17,447 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 12:00:17,447 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 12:00:17,448 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 12:00:17,448 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 12:00:17,448 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 12:00:17,448 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 12:00:17,448 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 12:00:17,448 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 12:00:17,448 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:17,449 - app.services.recommendations - INFO - 🚫 Excluding 65 swiped products (liked: 26, disliked: 39)
2025-08-31 12:00:17,449 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 12:00:17,449 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4760 to 0.5669
2025-08-31 12:00:17,449 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 26 swiped products
2025-08-31 12:00:17,512 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 12:00:17,512 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Nike Beverage 10:0.8425', 'Nike Pizza 22:0.8389', 'Nike Pizza 9:0.8270']
2025-08-31 12:00:17,513 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:17,514 - app.routers.recommendations - INFO - ✅ [req_1756634417237] SUCCESS: Found 5 recommendations
2025-08-31 12:00:17,514 - app.routers.recommendations - INFO - ⏱️ [req_1756634417237] Processing time: 0.277s
2025-08-31 12:00:17,514 - app.routers.recommendations - INFO - 🏆 [req_1756634417237] Top 1: Nike Beverage 10 (score: 0.8425)
2025-08-31 12:00:17,514 - app.routers.recommendations - INFO - 🏆 [req_1756634417237] Top 2: Nike Pizza 22 (score: 0.8389)
2025-08-31 12:00:17,514 - app.routers.recommendations - INFO - 🏆 [req_1756634417237] Top 3: Nike Pizza 9 (score: 0.8270)
2025-08-31 12:00:17,514 - app.routers.recommendations - INFO - 🎯 [req_1756634417237] API RESPONSE: Returning 5 recommendations
2025-08-31 12:00:26,486 - app.routers.recommendations - INFO - 🚀 [req_1756634426485] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:26,489 - app.routers.recommendations - INFO - 📋 [req_1756634426485] Parameters: limit=5, category=None, brand_id=None
2025-08-31 12:00:26,489 - app.routers.recommendations - INFO - ⚖️ [req_1756634426485] Weights: image=0.6, text=0.4
2025-08-31 12:00:26,533 - app.routers.recommendations - INFO - ✅ [req_1756634426485] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 12:00:26,533 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 12:00:26,534 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 12:00:26,535 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 12:00:26,537 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 12:00:26,538 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 12:00:26,540 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 12:00:26,542 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 12:00:26,542 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 12:00:26,542 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 12:00:26,542 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:26,542 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:26,552 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 12:00:26,552 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 12:00:26,552 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 12:00:26,555 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:26,642 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 12:00:26,642 - app.services.vector_service - INFO -    1. Nike Coffee 23 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:26,642 - app.services.vector_service - INFO -    2. Nike Smoothie 2 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:26,643 - app.services.vector_service - INFO -    3. Nike Snack 3 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:26,643 - app.services.vector_service - INFO -    4. Nike Dessert 17 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:26,643 - app.services.vector_service - INFO -    5. Nike Pizza 19 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:26,643 - app.services.vector_service - INFO -    6. YouTube Snack 20 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:26,643 - app.services.vector_service - INFO -    7. Nike Dessert 14 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:26,643 - app.services.vector_service - INFO -    8. Starbucks Sunglasses 15 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:26,643 - app.services.vector_service - INFO -    9. Apple Podcast 10 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:26,643 - app.services.vector_service - INFO -    10. Nike Dessert 1 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:26,643 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 12:00:26,643 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 12:00:26,643 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 12:00:26,643 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 12:00:26,643 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 12:00:26,643 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 12:00:26,644 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 12:00:26,644 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 12:00:26,644 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:26,644 - app.services.recommendations - INFO - 🚫 Excluding 65 swiped products (liked: 26, disliked: 39)
2025-08-31 12:00:26,644 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 12:00:26,644 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4760 to 0.5669
2025-08-31 12:00:26,644 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 26 swiped products
2025-08-31 12:00:26,704 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 12:00:26,704 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Nike Beverage 10:0.8425', 'Nike Pizza 22:0.8389', 'Nike Pizza 9:0.8270']
2025-08-31 12:00:26,705 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:26,705 - app.routers.recommendations - INFO - ✅ [req_1756634426485] SUCCESS: Found 5 recommendations
2025-08-31 12:00:26,705 - app.routers.recommendations - INFO - ⏱️ [req_1756634426485] Processing time: 0.220s
2025-08-31 12:00:26,705 - app.routers.recommendations - INFO - 🏆 [req_1756634426485] Top 1: Nike Beverage 10 (score: 0.8425)
2025-08-31 12:00:26,705 - app.routers.recommendations - INFO - 🏆 [req_1756634426485] Top 2: Nike Pizza 22 (score: 0.8389)
2025-08-31 12:00:26,705 - app.routers.recommendations - INFO - 🏆 [req_1756634426485] Top 3: Nike Pizza 9 (score: 0.8270)
2025-08-31 12:00:26,705 - app.routers.recommendations - INFO - 🎯 [req_1756634426485] API RESPONSE: Returning 5 recommendations
2025-08-31 12:00:34,791 - app.routers.recommendations - INFO - 🚀 [req_1756634434791] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:34,792 - app.routers.recommendations - INFO - 📋 [req_1756634434791] Parameters: limit=5, category=None, brand_id=None
2025-08-31 12:00:34,792 - app.routers.recommendations - INFO - ⚖️ [req_1756634434791] Weights: image=0.6, text=0.4
2025-08-31 12:00:35,094 - app.routers.recommendations - INFO - ✅ [req_1756634434791] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 12:00:35,095 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 12:00:35,095 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 12:00:35,099 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 12:00:35,116 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 12:00:35,117 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 12:00:35,119 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 12:00:35,121 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 12:00:35,122 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 12:00:35,122 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 12:00:35,122 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:35,122 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:35,534 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 12:00:35,534 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 12:00:35,534 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 12:00:35,615 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:35,770 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 12:00:35,770 - app.services.vector_service - INFO -    1. Nike Coffee 23 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:35,770 - app.services.vector_service - INFO -    2. Nike Smoothie 2 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:35,770 - app.services.vector_service - INFO -    3. Nike Snack 3 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:35,770 - app.services.vector_service - INFO -    4. Nike Dessert 17 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:35,770 - app.services.vector_service - INFO -    5. Nike Pizza 19 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:35,770 - app.services.vector_service - INFO -    6. YouTube Snack 20 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:35,770 - app.services.vector_service - INFO -    7. Nike Dessert 14 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:35,770 - app.services.vector_service - INFO -    8. Starbucks Sunglasses 15 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:35,770 - app.services.vector_service - INFO -    9. Apple Podcast 10 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:35,770 - app.services.vector_service - INFO -    10. Nike Dessert 1 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:35,770 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 12:00:35,770 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 12:00:35,770 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 12:00:35,770 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 12:00:35,772 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 12:00:35,772 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 12:00:35,773 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 12:00:35,773 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 12:00:35,773 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:35,773 - app.services.recommendations - INFO - 🚫 Excluding 65 swiped products (liked: 26, disliked: 39)
2025-08-31 12:00:35,776 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 12:00:35,781 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4760 to 0.5669
2025-08-31 12:00:35,781 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 26 swiped products
2025-08-31 12:00:35,835 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 12:00:35,835 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Nike Beverage 10:0.8425', 'Nike Pizza 22:0.8389', 'Nike Pizza 9:0.8270']
2025-08-31 12:00:35,836 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:35,836 - app.routers.recommendations - INFO - ✅ [req_1756634434791] SUCCESS: Found 5 recommendations
2025-08-31 12:00:35,836 - app.routers.recommendations - INFO - ⏱️ [req_1756634434791] Processing time: 1.045s
2025-08-31 12:00:35,836 - app.routers.recommendations - INFO - 🏆 [req_1756634434791] Top 1: Nike Beverage 10 (score: 0.8425)
2025-08-31 12:00:35,836 - app.routers.recommendations - INFO - 🏆 [req_1756634434791] Top 2: Nike Pizza 22 (score: 0.8389)
2025-08-31 12:00:35,836 - app.routers.recommendations - INFO - 🏆 [req_1756634434791] Top 3: Nike Pizza 9 (score: 0.8270)
2025-08-31 12:00:35,836 - app.routers.recommendations - INFO - 🎯 [req_1756634434791] API RESPONSE: Returning 5 recommendations
2025-08-31 12:00:44,746 - app.routers.recommendations - INFO - 🚀 [req_1756634444746] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:44,748 - app.routers.recommendations - INFO - 📋 [req_1756634444746] Parameters: limit=3, category=None, brand_id=None
2025-08-31 12:00:44,748 - app.routers.recommendations - INFO - ⚖️ [req_1756634444746] Weights: image=0.6, text=0.4
2025-08-31 12:00:44,751 - app.routers.recommendations - INFO - ✅ [req_1756634444746] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 12:00:44,751 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 12:00:44,751 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 12:00:44,753 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 12:00:44,764 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 12:00:44,765 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 12:00:44,767 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 12:00:44,769 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 12:00:44,769 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 12:00:44,769 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 12:00:44,770 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:44,770 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:44,775 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 12:00:44,775 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 12:00:44,775 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 12:00:44,777 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:44,788 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 12:00:44,788 - app.services.vector_service - INFO -    1. Nike Beverage 5 (swiped: 2025-08-31 10:00)
2025-08-31 12:00:44,788 - app.services.vector_service - INFO -    2. Nike Pizza 22 (swiped: 2025-08-31 10:00)
2025-08-31 12:00:44,788 - app.services.vector_service - INFO -    3. Nike Coffee 23 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:44,789 - app.services.vector_service - INFO -    4. Nike Smoothie 2 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:44,789 - app.services.vector_service - INFO -    5. Nike Snack 3 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:44,789 - app.services.vector_service - INFO -    6. Nike Dessert 17 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:44,789 - app.services.vector_service - INFO -    7. Nike Pizza 19 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:44,789 - app.services.vector_service - INFO -    8. YouTube Snack 20 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:44,789 - app.services.vector_service - INFO -    9. Nike Dessert 14 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:44,789 - app.services.vector_service - INFO -    10. Starbucks Sunglasses 15 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:44,789 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 12:00:44,789 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 12:00:44,789 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 12:00:44,789 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 12:00:44,789 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 12:00:44,790 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 12:00:44,790 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 12:00:44,790 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 12:00:44,790 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:44,790 - app.services.recommendations - INFO - 🚫 Excluding 69 swiped products (liked: 28, disliked: 41)
2025-08-31 12:00:44,790 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 12:00:44,791 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4852 to 0.5677
2025-08-31 12:00:44,791 - app.services.vector_service - INFO - 📊 Found 30 candidate products after excluding 29 swiped products
2025-08-31 12:00:44,815 - app.services.vector_service - INFO - 🚀 FAISS search found 30 products
2025-08-31 12:00:44,815 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Nike Coffee 16:0.8264', 'Nike Beverage 7:0.8226', 'Nike Coffee 20:0.8225']
2025-08-31 12:00:44,815 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:44,815 - app.routers.recommendations - INFO - ✅ [req_1756634444746] SUCCESS: Found 3 recommendations
2025-08-31 12:00:44,815 - app.routers.recommendations - INFO - ⏱️ [req_1756634444746] Processing time: 0.069s
2025-08-31 12:00:44,815 - app.routers.recommendations - INFO - 🏆 [req_1756634444746] Top 1: Nike Coffee 16 (score: 0.8264)
2025-08-31 12:00:44,815 - app.routers.recommendations - INFO - 🏆 [req_1756634444746] Top 2: Nike Beverage 7 (score: 0.8226)
2025-08-31 12:00:44,815 - app.routers.recommendations - INFO - 🏆 [req_1756634444746] Top 3: Nike Coffee 20 (score: 0.8225)
2025-08-31 12:00:44,815 - app.routers.recommendations - INFO - 🎯 [req_1756634444746] API RESPONSE: Returning 3 recommendations
2025-08-31 12:00:50,196 - app.routers.recommendations - INFO - 🚀 [req_1756634450196] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:50,197 - app.routers.recommendations - INFO - 📋 [req_1756634450196] Parameters: limit=3, category=None, brand_id=None
2025-08-31 12:00:50,197 - app.routers.recommendations - INFO - ⚖️ [req_1756634450196] Weights: image=0.6, text=0.4
2025-08-31 12:00:50,200 - app.routers.recommendations - INFO - ✅ [req_1756634450196] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 12:00:50,201 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 12:00:50,201 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 12:00:50,204 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 12:00:50,212 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 12:00:50,218 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 12:00:50,226 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 12:00:50,238 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 12:00:50,238 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 12:00:50,238 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 12:00:50,238 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:50,238 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:50,243 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 12:00:50,243 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 12:00:50,243 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 12:00:50,244 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:50,284 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 12:00:50,286 - app.services.vector_service - INFO -    1. Nike Coffee 16 (swiped: 2025-08-31 10:00)
2025-08-31 12:00:50,286 - app.services.vector_service - INFO -    2. Nike Beverage 5 (swiped: 2025-08-31 10:00)
2025-08-31 12:00:50,286 - app.services.vector_service - INFO -    3. Nike Pizza 22 (swiped: 2025-08-31 10:00)
2025-08-31 12:00:50,287 - app.services.vector_service - INFO -    4. Nike Coffee 23 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:50,287 - app.services.vector_service - INFO -    5. Nike Smoothie 2 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:50,287 - app.services.vector_service - INFO -    6. Nike Snack 3 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:50,287 - app.services.vector_service - INFO -    7. Nike Dessert 17 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:50,287 - app.services.vector_service - INFO -    8. Nike Pizza 19 (swiped: 2025-08-31 09:58)
2025-08-31 12:00:50,287 - app.services.vector_service - INFO -    9. YouTube Snack 20 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:50,287 - app.services.vector_service - INFO -    10. Nike Dessert 14 (swiped: 2025-08-31 09:57)
2025-08-31 12:00:50,287 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 12:00:50,287 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 12:00:50,287 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 12:00:50,287 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 12:00:50,287 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 12:00:50,287 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 12:00:50,288 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 12:00:50,288 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 12:00:50,288 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:50,288 - app.services.recommendations - INFO - 🚫 Excluding 72 swiped products (liked: 29, disliked: 43)
2025-08-31 12:00:50,288 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 12:00:50,289 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4838 to 0.5726
2025-08-31 12:00:50,290 - app.services.vector_service - INFO - 📊 Found 26 candidate products after excluding 34 swiped products
2025-08-31 12:00:50,358 - app.services.vector_service - INFO - 🚀 FAISS search found 26 products
2025-08-31 12:00:50,358 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Nike Smoothie 13:0.8135', 'Nike Pizza 4:0.8131', 'YouTube Beverage 8:0.8072']
2025-08-31 12:00:50,358 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:00:50,358 - app.routers.recommendations - INFO - ✅ [req_1756634450196] SUCCESS: Found 3 recommendations
2025-08-31 12:00:50,358 - app.routers.recommendations - INFO - ⏱️ [req_1756634450196] Processing time: 0.162s
2025-08-31 12:00:50,358 - app.routers.recommendations - INFO - 🏆 [req_1756634450196] Top 1: Nike Smoothie 13 (score: 0.8135)
2025-08-31 12:00:50,358 - app.routers.recommendations - INFO - 🏆 [req_1756634450196] Top 2: Nike Pizza 4 (score: 0.8131)
2025-08-31 12:00:50,358 - app.routers.recommendations - INFO - 🏆 [req_1756634450196] Top 3: YouTube Beverage 8 (score: 0.8072)
2025-08-31 12:00:50,359 - app.routers.recommendations - INFO - 🎯 [req_1756634450196] API RESPONSE: Returning 3 recommendations
2025-08-31 12:01:43,795 - app.routers.recommendations - INFO - 🚀 [req_1756634503794] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:43,800 - app.routers.recommendations - INFO - 📋 [req_1756634503794] Parameters: limit=5, category=None, brand_id=None
2025-08-31 12:01:43,800 - app.routers.recommendations - INFO - ⚖️ [req_1756634503794] Weights: image=0.6, text=0.4
2025-08-31 12:01:43,901 - app.routers.recommendations - INFO - ✅ [req_1756634503794] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 12:01:43,901 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 12:01:43,901 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 12:01:43,903 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 12:01:43,912 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 12:01:43,912 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 12:01:43,914 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 12:01:43,916 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 12:01:43,916 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 12:01:43,916 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 12:01:43,916 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:43,916 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:43,929 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 12:01:43,929 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 12:01:43,929 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 12:01:43,931 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:43,981 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 12:01:43,981 - app.services.vector_service - INFO -    1. Nike Coffee 16 (swiped: 2025-08-31 10:00)
2025-08-31 12:01:43,981 - app.services.vector_service - INFO -    2. Nike Beverage 5 (swiped: 2025-08-31 10:00)
2025-08-31 12:01:43,981 - app.services.vector_service - INFO -    3. Nike Pizza 22 (swiped: 2025-08-31 10:00)
2025-08-31 12:01:43,981 - app.services.vector_service - INFO -    4. Nike Coffee 23 (swiped: 2025-08-31 09:58)
2025-08-31 12:01:43,981 - app.services.vector_service - INFO -    5. Nike Smoothie 2 (swiped: 2025-08-31 09:58)
2025-08-31 12:01:43,981 - app.services.vector_service - INFO -    6. Nike Snack 3 (swiped: 2025-08-31 09:58)
2025-08-31 12:01:43,981 - app.services.vector_service - INFO -    7. Nike Dessert 17 (swiped: 2025-08-31 09:58)
2025-08-31 12:01:43,981 - app.services.vector_service - INFO -    8. Nike Pizza 19 (swiped: 2025-08-31 09:58)
2025-08-31 12:01:43,981 - app.services.vector_service - INFO -    9. YouTube Snack 20 (swiped: 2025-08-31 09:57)
2025-08-31 12:01:43,981 - app.services.vector_service - INFO -    10. Nike Dessert 14 (swiped: 2025-08-31 09:57)
2025-08-31 12:01:43,981 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 12:01:43,981 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 12:01:43,981 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 12:01:43,981 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 12:01:43,982 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 12:01:43,983 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 12:01:43,983 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 12:01:43,983 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 12:01:43,983 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:43,983 - app.services.recommendations - INFO - 🚫 Excluding 72 swiped products (liked: 29, disliked: 43)
2025-08-31 12:01:43,990 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 12:01:44,001 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4734 to 0.5726
2025-08-31 12:01:44,002 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 35 swiped products
2025-08-31 12:01:44,083 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 12:01:44,083 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Nike Smoothie 13:0.8135', 'Nike Pizza 4:0.8131', 'YouTube Beverage 8:0.8072']
2025-08-31 12:01:44,083 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:44,084 - app.routers.recommendations - INFO - ✅ [req_1756634503794] SUCCESS: Found 5 recommendations
2025-08-31 12:01:44,084 - app.routers.recommendations - INFO - ⏱️ [req_1756634503794] Processing time: 0.290s
2025-08-31 12:01:44,084 - app.routers.recommendations - INFO - 🏆 [req_1756634503794] Top 1: Nike Smoothie 13 (score: 0.8135)
2025-08-31 12:01:44,084 - app.routers.recommendations - INFO - 🏆 [req_1756634503794] Top 2: Nike Pizza 4 (score: 0.8131)
2025-08-31 12:01:44,084 - app.routers.recommendations - INFO - 🏆 [req_1756634503794] Top 3: YouTube Beverage 8 (score: 0.8072)
2025-08-31 12:01:44,084 - app.routers.recommendations - INFO - 🎯 [req_1756634503794] API RESPONSE: Returning 5 recommendations
2025-08-31 12:01:50,408 - app.routers.recommendations - INFO - 🚀 [req_1756634510408] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:50,409 - app.routers.recommendations - INFO - 📋 [req_1756634510408] Parameters: limit=5, category=None, brand_id=None
2025-08-31 12:01:50,409 - app.routers.recommendations - INFO - ⚖️ [req_1756634510408] Weights: image=0.6, text=0.4
2025-08-31 12:01:50,442 - app.routers.recommendations - INFO - ✅ [req_1756634510408] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 12:01:50,444 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 12:01:50,445 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 12:01:50,454 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 12:01:50,466 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 12:01:50,470 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 12:01:50,477 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 12:01:50,479 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 12:01:50,479 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 12:01:50,479 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 12:01:50,479 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:50,479 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:50,485 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 12:01:50,486 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 12:01:50,486 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 12:01:50,487 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:50,501 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 12:01:50,501 - app.services.vector_service - INFO -    1. Nike Coffee 16 (swiped: 2025-08-31 10:00)
2025-08-31 12:01:50,501 - app.services.vector_service - INFO -    2. Nike Beverage 5 (swiped: 2025-08-31 10:00)
2025-08-31 12:01:50,502 - app.services.vector_service - INFO -    3. Nike Pizza 22 (swiped: 2025-08-31 10:00)
2025-08-31 12:01:50,502 - app.services.vector_service - INFO -    4. Nike Coffee 23 (swiped: 2025-08-31 09:58)
2025-08-31 12:01:50,502 - app.services.vector_service - INFO -    5. Nike Smoothie 2 (swiped: 2025-08-31 09:58)
2025-08-31 12:01:50,502 - app.services.vector_service - INFO -    6. Nike Snack 3 (swiped: 2025-08-31 09:58)
2025-08-31 12:01:50,502 - app.services.vector_service - INFO -    7. Nike Dessert 17 (swiped: 2025-08-31 09:58)
2025-08-31 12:01:50,502 - app.services.vector_service - INFO -    8. Nike Pizza 19 (swiped: 2025-08-31 09:58)
2025-08-31 12:01:50,502 - app.services.vector_service - INFO -    9. YouTube Snack 20 (swiped: 2025-08-31 09:57)
2025-08-31 12:01:50,502 - app.services.vector_service - INFO -    10. Nike Dessert 14 (swiped: 2025-08-31 09:57)
2025-08-31 12:01:50,502 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 12:01:50,502 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 12:01:50,502 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 12:01:50,502 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 12:01:50,502 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 12:01:50,503 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 12:01:50,503 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 12:01:50,503 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 12:01:50,504 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:50,504 - app.services.recommendations - INFO - 🚫 Excluding 72 swiped products (liked: 29, disliked: 43)
2025-08-31 12:01:50,504 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 12:01:50,504 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4734 to 0.5726
2025-08-31 12:01:50,504 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 35 swiped products
2025-08-31 12:01:50,545 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 12:01:50,545 - app.services.vector_service - INFO - 🏆 Top similarity scores: ['Nike Smoothie 13:0.8135', 'Nike Pizza 4:0.8131', 'YouTube Beverage 8:0.8072']
2025-08-31 12:01:50,545 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:50,546 - app.routers.recommendations - INFO - ✅ [req_1756634510408] SUCCESS: Found 5 recommendations
2025-08-31 12:01:50,546 - app.routers.recommendations - INFO - ⏱️ [req_1756634510408] Processing time: 0.138s
2025-08-31 12:01:50,546 - app.routers.recommendations - INFO - 🏆 [req_1756634510408] Top 1: Nike Smoothie 13 (score: 0.8135)
2025-08-31 12:01:50,546 - app.routers.recommendations - INFO - 🏆 [req_1756634510408] Top 2: Nike Pizza 4 (score: 0.8131)
2025-08-31 12:01:50,546 - app.routers.recommendations - INFO - 🏆 [req_1756634510408] Top 3: YouTube Beverage 8 (score: 0.8072)
2025-08-31 12:01:50,546 - app.routers.recommendations - INFO - 🎯 [req_1756634510408] API RESPONSE: Returning 5 recommendations
2025-08-31 12:01:57,318 - app.routers.recommendations - INFO - 🚀 [req_1756634517318] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:57,319 - app.routers.recommendations - INFO - 📋 [req_1756634517318] Parameters: limit=3, category=None, brand_id=None
2025-08-31 12:01:57,320 - app.routers.recommendations - INFO - ⚖️ [req_1756634517318] Weights: image=0.6, text=0.4
2025-08-31 12:01:57,322 - app.routers.recommendations - INFO - ✅ [req_1756634517318] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 12:01:57,322 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 12:01:57,322 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 12:01:57,324 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 12:01:57,328 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 12:01:57,329 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 12:01:57,335 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 12:01:57,338 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 12:01:57,338 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 12:01:57,338 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 12:01:57,338 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:57,338 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:57,342 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 12:01:57,342 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 12:01:57,342 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 12:01:57,387 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:57,474 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 12:01:57,474 - app.services.vector_service - INFO -    1. McDonald's Snack 18 (swiped: 2025-08-31 10:01)
2025-08-31 12:01:57,474 - app.services.vector_service - INFO -    2. YouTube Beverage 8 (swiped: 2025-08-31 10:01)
2025-08-31 12:01:57,474 - app.services.vector_service - INFO -    3. Nike Smoothie 13 (swiped: 2025-08-31 10:01)
2025-08-31 12:01:57,474 - app.services.vector_service - INFO -    4. Nike Coffee 16 (swiped: 2025-08-31 10:00)
2025-08-31 12:01:57,474 - app.services.vector_service - INFO -    5. Nike Beverage 5 (swiped: 2025-08-31 10:00)
2025-08-31 12:01:57,474 - app.services.vector_service - INFO -    6. Nike Pizza 22 (swiped: 2025-08-31 10:00)
2025-08-31 12:01:57,474 - app.services.vector_service - INFO -    7. Nike Coffee 23 (swiped: 2025-08-31 09:58)
2025-08-31 12:01:57,474 - app.services.vector_service - INFO -    8. Nike Smoothie 2 (swiped: 2025-08-31 09:58)
2025-08-31 12:01:57,474 - app.services.vector_service - INFO -    9. Nike Snack 3 (swiped: 2025-08-31 09:58)
2025-08-31 12:01:57,474 - app.services.vector_service - INFO -    10. Nike Dessert 17 (swiped: 2025-08-31 09:58)
2025-08-31 12:01:57,474 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 12:01:57,474 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 12:01:57,475 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 12:01:57,475 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 12:01:57,475 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 12:01:57,475 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 12:01:57,476 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 12:01:57,476 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 12:01:57,476 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:57,476 - app.services.recommendations - INFO - 🚫 Excluding 76 swiped products (liked: 32, disliked: 44)
2025-08-31 12:01:57,476 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 12:01:57,481 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4809 to 0.5637
2025-08-31 12:01:57,481 - app.services.vector_service - INFO - 📊 Found 26 candidate products after excluding 34 swiped products
2025-08-31 12:01:57,617 - app.services.vector_service - INFO - 🚀 FAISS search found 26 products
2025-08-31 12:01:57,617 - app.services.vector_service - INFO - 🏆 Top similarity scores: ["McDonald's Burger 9:0.8190", 'Nike Smoothie 26:0.8152', 'Starbucks Sneakers 13:0.8012']
2025-08-31 12:01:57,617 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:57,617 - app.routers.recommendations - INFO - ✅ [req_1756634517318] SUCCESS: Found 3 recommendations
2025-08-31 12:01:57,617 - app.routers.recommendations - INFO - ⏱️ [req_1756634517318] Processing time: 0.299s
2025-08-31 12:01:57,617 - app.routers.recommendations - INFO - 🏆 [req_1756634517318] Top 1: McDonald's Burger 9 (score: 0.8190)
2025-08-31 12:01:57,617 - app.routers.recommendations - INFO - 🏆 [req_1756634517318] Top 2: Nike Smoothie 26 (score: 0.8152)
2025-08-31 12:01:57,617 - app.routers.recommendations - INFO - 🏆 [req_1756634517318] Top 3: Starbucks Sneakers 13 (score: 0.8012)
2025-08-31 12:01:57,618 - app.routers.recommendations - INFO - 🎯 [req_1756634517318] API RESPONSE: Returning 3 recommendations
2025-08-31 12:01:58,934 - app.routers.recommendations - INFO - 🚀 [req_1756634518934] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:58,934 - app.routers.recommendations - INFO - 📋 [req_1756634518934] Parameters: limit=5, category=None, brand_id=None
2025-08-31 12:01:58,935 - app.routers.recommendations - INFO - ⚖️ [req_1756634518934] Weights: image=0.6, text=0.4
2025-08-31 12:01:59,000 - app.routers.recommendations - INFO - ✅ [req_1756634518934] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 12:01:59,001 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 12:01:59,001 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 12:01:59,015 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 12:01:59,018 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 12:01:59,020 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 12:01:59,022 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 12:01:59,024 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 12:01:59,024 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 12:01:59,024 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 12:01:59,024 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:59,025 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:59,045 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 12:01:59,045 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 12:01:59,045 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 12:01:59,047 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:59,073 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 12:01:59,074 - app.services.vector_service - INFO -    1. Nike Smoothie 26 (swiped: 2025-08-31 10:01)
2025-08-31 12:01:59,074 - app.services.vector_service - INFO -    2. McDonald's Snack 18 (swiped: 2025-08-31 10:01)
2025-08-31 12:01:59,074 - app.services.vector_service - INFO -    3. YouTube Beverage 8 (swiped: 2025-08-31 10:01)
2025-08-31 12:01:59,075 - app.services.vector_service - INFO -    4. Nike Smoothie 13 (swiped: 2025-08-31 10:01)
2025-08-31 12:01:59,075 - app.services.vector_service - INFO -    5. Nike Coffee 16 (swiped: 2025-08-31 10:00)
2025-08-31 12:01:59,075 - app.services.vector_service - INFO -    6. Nike Beverage 5 (swiped: 2025-08-31 10:00)
2025-08-31 12:01:59,075 - app.services.vector_service - INFO -    7. Nike Pizza 22 (swiped: 2025-08-31 10:00)
2025-08-31 12:01:59,075 - app.services.vector_service - INFO -    8. Nike Coffee 23 (swiped: 2025-08-31 09:58)
2025-08-31 12:01:59,075 - app.services.vector_service - INFO -    9. Nike Smoothie 2 (swiped: 2025-08-31 09:58)
2025-08-31 12:01:59,075 - app.services.vector_service - INFO -    10. Nike Snack 3 (swiped: 2025-08-31 09:58)
2025-08-31 12:01:59,075 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 12:01:59,075 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 12:01:59,075 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 12:01:59,075 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 12:01:59,078 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 12:01:59,079 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 12:01:59,080 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 12:01:59,080 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 12:01:59,081 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:59,081 - app.services.recommendations - INFO - 🚫 Excluding 77 swiped products (liked: 33, disliked: 44)
2025-08-31 12:01:59,082 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 12:01:59,083 - app.services.vector_service - INFO - 🔍 FAISS search returned 100 indices, scores range: 0.4671 to 0.5572
2025-08-31 12:01:59,083 - app.services.vector_service - INFO - 📊 Found 50 candidate products after excluding 44 swiped products
2025-08-31 12:01:59,217 - app.services.vector_service - INFO - 🚀 FAISS search found 50 products
2025-08-31 12:01:59,218 - app.services.vector_service - INFO - 🏆 Top similarity scores: ["McDonald's Burger 9:0.8082", "McDonald's Coffee 1:0.7952", 'YouTube Smoothie 7:0.7946']
2025-08-31 12:01:59,219 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:01:59,219 - app.routers.recommendations - INFO - ✅ [req_1756634518934] SUCCESS: Found 5 recommendations
2025-08-31 12:01:59,219 - app.routers.recommendations - INFO - ⏱️ [req_1756634518934] Processing time: 0.286s
2025-08-31 12:01:59,219 - app.routers.recommendations - INFO - 🏆 [req_1756634518934] Top 1: McDonald's Burger 9 (score: 0.8082)
2025-08-31 12:01:59,220 - app.routers.recommendations - INFO - 🏆 [req_1756634518934] Top 2: McDonald's Coffee 1 (score: 0.7952)
2025-08-31 12:01:59,220 - app.routers.recommendations - INFO - 🏆 [req_1756634518934] Top 3: YouTube Smoothie 7 (score: 0.7946)
2025-08-31 12:01:59,220 - app.routers.recommendations - INFO - 🎯 [req_1756634518934] API RESPONSE: Returning 5 recommendations
2025-08-31 12:02:30,847 - app.routers.recommendations - INFO - 🚀 [req_1756634550847] API CALL: Vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:02:30,848 - app.routers.recommendations - INFO - 📋 [req_1756634550847] Parameters: limit=3, category=None, brand_id=None
2025-08-31 12:02:30,848 - app.routers.recommendations - INFO - ⚖️ [req_1756634550847] Weights: image=0.6, text=0.4
2025-08-31 12:02:30,850 - app.routers.recommendations - INFO - ✅ [req_1756634550847] User 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 validated
2025-08-31 12:02:30,850 - app.utils.vectorization - INFO - 🚀 Using persistent ML models from ModelManager
2025-08-31 12:02:30,850 - app.utils.vectorization - INFO - ✅ All persistent models loaded successfully
2025-08-31 12:02:30,853 - app.services.vector_service - INFO - 📊 Loaded dimension info: {'dimensions': [512, 384], 'total_products': 419, 'dimension_counts': {'512': 417, '384': 2}}
2025-08-31 12:02:30,861 - app.services.vector_service - INFO - 📂 Loaded 512D combined index with 417 vectors
2025-08-31 12:02:30,862 - app.services.vector_service - INFO - 📂 Loaded 384D combined index with 2 vectors
2025-08-31 12:02:30,867 - app.services.vector_service - INFO - 📂 Loaded image index with 417 vectors
2025-08-31 12:02:30,871 - app.services.vector_service - INFO - 📂 Loaded text index with 419 vectors
2025-08-31 12:02:30,872 - app.services.vector_service - INFO - ✅ FAISS indexes initialized: ['combined_512d', 'combined_384d', 'image', 'text']
2025-08-31 12:02:30,872 - app.services.vector_service - INFO - ✅ VectorService initialized with FAISS and caching
2025-08-31 12:02:30,872 - app.services.recommendations - INFO - 🎯 Getting vector recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:02:30,872 - app.services.recommendations - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:02:30,893 - app.services.recommendations - INFO - 🚀 Using FAISS indexes for fast similarity search
2025-08-31 12:02:30,893 - app.services.vector_service - INFO - ❄️ Cache MISS for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 preference vectors
2025-08-31 12:02:30,893 - app.services.vector_service - INFO - 🔍 Creating preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6 (max 10 recent liked products)
2025-08-31 12:02:30,895 - app.services.vector_service - INFO - 📊 Found 10 recent liked swipes for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:02:30,923 - app.services.vector_service - INFO - ✅ Found 10 recent liked products with vectors
2025-08-31 12:02:30,923 - app.services.vector_service - INFO -    1. YouTube Pizza 2 (swiped: 2025-08-31 10:02)
2025-08-31 12:02:30,923 - app.services.vector_service - INFO -    2. YouTube Smoothie 7 (swiped: 2025-08-31 10:02)
2025-08-31 12:02:30,923 - app.services.vector_service - INFO -    3. McDonald's Burger 9 (swiped: 2025-08-31 10:01)
2025-08-31 12:02:30,923 - app.services.vector_service - INFO -    4. Nike Smoothie 26 (swiped: 2025-08-31 10:01)
2025-08-31 12:02:30,923 - app.services.vector_service - INFO -    5. McDonald's Snack 18 (swiped: 2025-08-31 10:01)
2025-08-31 12:02:30,923 - app.services.vector_service - INFO -    6. YouTube Beverage 8 (swiped: 2025-08-31 10:01)
2025-08-31 12:02:30,923 - app.services.vector_service - INFO -    7. Nike Smoothie 13 (swiped: 2025-08-31 10:01)
2025-08-31 12:02:30,923 - app.services.vector_service - INFO -    8. Nike Coffee 16 (swiped: 2025-08-31 10:00)
2025-08-31 12:02:30,923 - app.services.vector_service - INFO -    9. Nike Beverage 5 (swiped: 2025-08-31 10:00)
2025-08-31 12:02:30,923 - app.services.vector_service - INFO -    10. Nike Pizza 22 (swiped: 2025-08-31 10:00)
2025-08-31 12:02:30,923 - app.services.vector_service - INFO - 📈 Vector aggregation:
2025-08-31 12:02:30,923 - app.services.vector_service - INFO -    - Image vectors: 10/10
2025-08-31 12:02:30,924 - app.services.vector_service - INFO -    - Text vectors: 10/10
2025-08-31 12:02:30,924 - app.services.vector_service - INFO -    - Combined vectors: 10/10
2025-08-31 12:02:30,924 - app.services.vector_service - INFO - ✅ Created image preference vector: 512 dimensions
2025-08-31 12:02:30,924 - app.services.vector_service - INFO - ✅ Created text preference vector: 384 dimensions
2025-08-31 12:02:30,925 - app.services.vector_service - INFO - ✅ Created combined preference vector: 512 dimensions
2025-08-31 12:02:30,925 - app.services.vector_service - INFO - 🎯 Final preference vectors: ['image_vector', 'text_vector', 'combined_vector']
2025-08-31 12:02:30,925 - app.services.vector_service - INFO - 💾 Cached preference vectors for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:02:30,925 - app.services.recommendations - INFO - 🚫 Excluding 81 swiped products (liked: 36, disliked: 45)
2025-08-31 12:02:30,928 - app.services.vector_service - INFO - 🚀 Using combined_512d index for 512D vectors
2025-08-31 12:02:30,933 - app.services.vector_service - INFO - 🔍 FAISS search returned 60 indices, scores range: 0.4784 to 0.5378
2025-08-31 12:02:30,933 - app.services.vector_service - INFO - 📊 Found 21 candidate products after excluding 39 swiped products
2025-08-31 12:02:31,036 - app.services.vector_service - INFO - 🚀 FAISS search found 21 products
2025-08-31 12:02:31,036 - app.services.vector_service - INFO - 🏆 Top similarity scores: ["McDonald's Pizza 8:0.8246", 'YouTube Beverage 25:0.8150', "McDonald's Burger 5:0.8114"]
2025-08-31 12:02:31,036 - app.services.recommendations - INFO - 💾 Cached recommendations for user 01e1bf76-8c47-44fc-9265-80c0ecedc0c6
2025-08-31 12:02:31,036 - app.routers.recommendations - INFO - ✅ [req_1756634550847] SUCCESS: Found 3 recommendations
2025-08-31 12:02:31,036 - app.routers.recommendations - INFO - ⏱️ [req_1756634550847] Processing time: 0.189s
2025-08-31 12:02:31,036 - app.routers.recommendations - INFO - 🏆 [req_1756634550847] Top 1: McDonald's Pizza 8 (score: 0.8246)
2025-08-31 12:02:31,036 - app.routers.recommendations - INFO - 🏆 [req_1756634550847] Top 2: YouTube Beverage 25 (score: 0.8150)
2025-08-31 12:02:31,036 - app.routers.recommendations - INFO - 🏆 [req_1756634550847] Top 3: McDonald's Burger 5 (score: 0.8114)
2025-08-31 12:02:31,036 - app.routers.recommendations - INFO - 🎯 [req_1756634550847] API RESPONSE: Returning 3 recommendations
